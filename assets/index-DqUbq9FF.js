const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardView-9_fRyIjG.js","assets/react-vendor-D-3wKq8v.js","assets/ui-vendor-CnX1xj8W.js","assets/redux-vendor-DpCagSso.js","assets/SpellsView-C2nLf8m2.js","assets/CombatView-BkDYfvCa.js","assets/CharacterHubView-CPriA6xT.js","assets/GrimoireView-CJrjf5EJ.js","assets/MoreView-D8Q06riY.js","assets/InventoryView-Dk-NWAlS.js","assets/PatronView-Ci1VU2JW.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a);import{a as n,b as a,u as r,c as s,r as i,d as o,e as l,s as c,P as u}from"./react-vendor-D-3wKq8v.js";import{c as d,a as f,b as m,w as p,n as h,f as g,i as y,e as v,d as b,p as x,g as k,h as w,j as S,k as N,l as T,m as C,o as _,S as j,q as E,r as A,s as P,t as z,u as M,v as O,x as I,y as D,z as R,A as L,B as F,C as V}from"./redux-vendor-DpCagSso.js";import{E as U,X as q,S as W,F as B,a as $,W as Q,U as H,M as Z,Z as K,A as G,b as X,c as Y,P as J,B as ee,R as te,D as ne,H as ae,d as re,T as se,C as ie,e as oe,f as le,g as ce,h as ue,i as de,j as fe,k as me,l as pe,m as he,n as ge,o as ye,p as ve,q as be}from"./ui-vendor-CnX1xj8W.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var xe,ke,we={exports:{}},Se={};var Ne,Te,Ce,_e,je=(ke||(ke=1,we.exports=function(){if(xe)return Se;xe=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,a){var r=null;if(void 0!==a&&(r=""+a),void 0!==n.key&&(r=""+n.key),"key"in n)for(var s in a={},n)"key"!==s&&(a[s]=n[s]);else a=n;return n=a.ref,{$$typeof:e,type:t,key:r,ref:void 0!==n?n:null,props:a}}return Se.Fragment=t,Se.jsx=n,Se.jsxs=n,Se}()),we.exports),Ee={exports:{}},Ae={},Pe={exports:{}},ze={};function Me(){return Te||(Te=1,Pe.exports=(Ne||(Ne=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<r(s,t)))break e;e[a]=t,e[n]=s,n=a}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,i=s>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,u=e[c];if(0>r(l,n))c<s&&0>r(u,l)?(e[a]=u,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<s&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,d=null,f=3,m=!1,p=!1,h=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var r=n(c);null!==r;){if(null===r.callback)a(c);else{if(!(r.startTime<=e))break;a(c),r.sortIndex=r.expirationTime,t(l,r)}r=n(c)}}function k(e){if(h=!1,x(e),!p)if(null!==n(l))p=!0,S||(S=!0,w());else{var t=n(c);null!==t&&P(k,t.startTime-e)}}var w,S=!1,N=-1,T=5,C=-1;function _(){return!(!g&&e.unstable_now()-C<T)}function j(){if(g=!1,S){var t=e.unstable_now();C=t;var r=!0;try{e:{p=!1,h&&(h=!1,v(N),N=-1),m=!0;var s=f;try{t:{for(x(t),d=n(l);null!==d&&!(d.expirationTime>t&&_());){var i=d.callback;if("function"==typeof i){d.callback=null,f=d.priorityLevel;var o=i(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,x(t),r=!0;break t}d===n(l)&&a(l),x(t)}else a(l);d=n(l)}if(null!==d)r=!0;else{var u=n(c);null!==u&&P(k,u.startTime-t),r=!1}}break e}finally{d=null,f=s,m=!1}r=void 0}}finally{r?w():S=!1}}}if("function"==typeof b)w=function(){b(j)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,A=E.port2;E.port1.onmessage=j,w=function(){A.postMessage(null)}}else w=function(){y(j,0)};function P(t,n){N=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(T=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(a,r,s){var i=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,a){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return a={id:u++,callback:r,priorityLevel:a,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(a.sortIndex=s,t(c,a),null===n(l)&&a===n(c)&&(h?(v(N),N=-1):h=!0,P(k,s-i))):(a.sortIndex=o,t(l,a),p||m||(p=!0,S||(S=!0,w()))),a},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(ze)),ze)),Pe.exports}function Oe(){if(Ce)return Ae;Ce=1;var e=Me(),t=n(),r=a();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),_=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function E(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case x:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var z=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},D=[],R=-1;function L(e){return{current:e}}function F(e){0>R||(e.current=D[R],D[R]=null,R--)}function V(e,t){R++,D[R]=e.current,e.current=t}var U,q,W=L(null),B=L(null),$=L(null),Q=L(null);function H(e,t){switch(V($,t),V(B,e),V(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=xd(t=bd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(W),V(W,e)}function Z(){F(W),F(B),F($)}function K(e){null!==e.memoizedState&&V(Q,e);var t=W.current,n=xd(t,e.type);t!==n&&(V(B,e),V(W,n))}function G(e){B.current===e&&(F(W),F(B)),Q.current===e&&(F(Q),mf._currentValue=I)}function X(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+q}var Y=!1;function J(e,t){if(!e||Y)return"";Y=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var a=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){a=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){a=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&a&&"string"==typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(r=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===l.length||r===c.length)for(a=l.length-1,r=c.length-1;1<=a&&0<=r&&l[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(l[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||l[a]!==c[r]){var u="\n"+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=r);break}}}finally{Y=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function ee(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return J(e.type,!1);case 11:return J(e.type.render,!1);case 1:return J(e.type,!0);case 31:return X("Activity");default:return""}}function te(e){try{var t="",n=null;do{t+=ee(e,n),n=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ne=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,re=e.unstable_cancelCallback,se=e.unstable_shouldYield,ie=e.unstable_requestPaint,oe=e.unstable_now,le=e.unstable_getCurrentPriorityLevel,ce=e.unstable_ImmediatePriority,ue=e.unstable_UserBlockingPriority,de=e.unstable_NormalPriority,fe=e.unstable_LowPriority,me=e.unstable_IdlePriority,pe=e.log,he=e.unstable_setDisableYieldValue,ge=null,ye=null;function ve(e){if("function"==typeof pe&&he(e),ye&&"function"==typeof ye.setStrictMode)try{ye.setStrictMode(ge,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/ke|0)|0},xe=Math.log,ke=Math.LN2;var we=256,Se=262144,Ne=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~s)?r=Te(a):0!==(i&=o)?r=Te(i):n||0!==(n=o&~e)&&(r=Te(n)):0!==(o=a&~s)?r=Te(o):0!==i?r=Te(i):n||0!==(n=a&~e)&&(r=Te(n)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&4194048&n)?t:r}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ne;return!(62914560&(Ne<<=1))&&(Ne=4194304),e}function ze(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-be(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-be(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Re(e,t){var n=t&-t;return 0!==((n=42&n?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ve(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Ef(e.type)}function Ue(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var qe=Math.random().toString(36).slice(2),We="__reactFiber$"+qe,Be="__reactProps$"+qe,$e="__reactContainer$"+qe,Qe="__reactEvents$"+qe,He="__reactListeners$"+qe,Ze="__reactHandles$"+qe,Ke="__reactResources$"+qe,Ge="__reactMarker$"+qe;function Xe(e){delete e[We],delete e[Be],delete e[Qe],delete e[He],delete e[Ze]}function Ye(e){var t=e[We];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$e]||n[We]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ld(e);null!==e;){if(n=e[We])return n;e=Ld(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[We]||e[$e]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function tt(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ge]=!0}var at=new Set,rt={};function st(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(rt[e]=t,e=0;e<t.length;e++)at.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},ct={};function ut(e,t,n){if(r=t,ne.call(ct,r)||!ne.call(lt,r)&&(ot.test(r)?ct[r]=!0:(lt[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function dt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ft(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==a&&"function"==typeof a.get&&"function"==typeof a.set){var r=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=pt(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function yt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function bt(e){return e.replace(vt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,n,a,r,s,i,o){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+mt(t)):e.value!==""+mt(t)&&(e.value=""+mt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?wt(e,i,mt(t)):null!=n?wt(e,i,mt(n)):null!=a&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+mt(o):e.removeAttribute("name")}function kt(e,t,n,a,r,s,i,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return void ht(e);n=null!=n?""+mt(n):"",t=null!=t?""+mt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!=typeof(a=null!=a?a:r)&&"symbol"!=typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i),ht(e)}function wt(e,t,n){"number"===t&&yt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+mt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+mt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+mt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Tt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(s(92));if(z(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=mt(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),ht(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jt(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!=typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&jt(e,r,a)}else for(var i in t)t.hasOwnProperty(i)&&jt(e,i,t[i])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mt(e){return zt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(){}var It=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Lt=null;function Ft(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[Be]||null;if(!r)throw Error(s(90));xt(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&gt(a)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Vt=!1;function Ut(e,t,n){if(Vt)return e(t,n);Vt=!0;try{return e(t)}finally{if(Vt=!1,(null!==Rt||null!==Lt)&&(tu(),Rt&&(t=Rt,e=Lt,Lt=Rt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function qt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Be]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Wt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Bt=!1;if(Wt)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(em){Bt=!1}var Qt=null,Ht=null,Zt=null;function Kt(){if(Zt)return Zt;var e,t,n=Ht,a=n.length,r="value"in Qt?Qt.value:Qt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Yt(){return!1}function Jt(e){function t(t,n,a,r,s){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Xt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var en,tn,nn,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rn=Jt(an),sn=f({},an,{view:0,detail:0}),on=Jt(sn),ln=f({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),cn=Jt(ln),un=Jt(f({},ln,{dataTransfer:0})),dn=Jt(f({},sn,{relatedTarget:0})),fn=Jt(f({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=Jt(f({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Jt(f({},an,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function bn(){return vn}var xn=Jt(f({},sn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=Jt(f({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Jt(f({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),Sn=Jt(f({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=Jt(f({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=Jt(f({},an,{newState:0,oldState:0})),Cn=[9,13,27,32],_n=Wt&&"CompositionEvent"in window,jn=null;Wt&&"documentMode"in document&&(jn=document.documentMode);var En=Wt&&"TextEvent"in window&&!jn,An=Wt&&(!_n||jn&&8<jn&&11>=jn),Pn=String.fromCharCode(32),zn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Ln(e,t,n,a){Rt?Lt?Lt.push(a):Lt=[a]:Rt=a,0<(t=sd(t,"onChange")).length&&(n=new rn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Fn=null,Vn=null;function Un(e){Xu(e,0)}function qn(e){if(gt(et(e)))return e}function Wn(e,t){if("change"===e)return t}var Bn=!1;if(Wt){var $n;if(Wt){var Qn="oninput"in document;if(!Qn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Qn="function"==typeof Hn.oninput}$n=Qn}else $n=!1;Bn=$n&&(!document.documentMode||9<document.documentMode)}function Zn(){Fn&&(Fn.detachEvent("onpropertychange",Kn),Vn=Fn=null)}function Kn(e){if("value"===e.propertyName&&qn(Vn)){var t=[];Ln(t,Vn,e,Dt(e)),Ut(Un,t)}}function Gn(e,t,n){"focusin"===e?(Zn(),Vn=n,(Fn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Zn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Vn)}function Yn(e,t){if("click"===e)return qn(t)}function Jn(e,t){if("input"===e||"change"===e)return qn(t)}var ea="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ta(e,t){if(ea(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!ne.call(t,r)||!ea(e[r],t[r]))return!1}return!0}function na(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aa(e,t){var n,a=na(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=na(a)}}function ra(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ra(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function sa(e){for(var t=yt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=yt((e=t.contentWindow).document)}return t}function ia(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var oa=Wt&&"documentMode"in document&&11>=document.documentMode,la=null,ca=null,ua=null,da=!1;function fa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;da||null==la||la!==yt(a)||("selectionStart"in(a=la)&&ia(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ua&&ta(ua,a)||(ua=a,0<(a=sd(ca,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=la)))}function ma(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pa={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},ha={},ga={};function ya(e){if(ha[e])return ha[e];if(!pa[e])return e;var t,n=pa[e];for(t in n)if(n.hasOwnProperty(t)&&t in ga)return ha[e]=n[t];return e}Wt&&(ga=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);var va=ya("animationend"),ba=ya("animationiteration"),xa=ya("animationstart"),ka=ya("transitionrun"),wa=ya("transitionstart"),Sa=ya("transitioncancel"),Na=ya("transitionend"),Ta=new Map,Ca="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(e,t){Ta.set(e,t),st(t,[e])}Ca.push("scrollEnd");var ja="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Ea=[],Aa=0,Pa=0;function za(){for(var e=Aa,t=Pa=Aa=0;t<e;){var n=Ea[t];Ea[t++]=null;var a=Ea[t];Ea[t++]=null;var r=Ea[t];Ea[t++]=null;var s=Ea[t];if(Ea[t++]=null,null!==a&&null!==r){var i=a.pending;null===i?r.next=r:(r.next=i.next,i.next=r),a.pending=r}0!==s&&Da(n,r,s)}}function Ma(e,t,n,a){Ea[Aa++]=e,Ea[Aa++]=t,Ea[Aa++]=n,Ea[Aa++]=a,Pa|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Oa(e,t,n,a){return Ma(e,t,n,a),Ra(e)}function Ia(e,t){return Ma(e,null,null,t),Ra(e)}function Da(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(a=s.alternate)&&(a.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-be(n),null===(a=(e=s.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|n),s):null}function Ra(e){if(50<Qc)throw Qc=0,Hc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var La={};function Fa(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(e,t,n,a){return new Fa(e,t,n,a)}function Ua(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qa(e,t){var n=e.alternate;return null===n?((n=Va(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wa(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ba(e,t,n,a,r,i){var o=0;if(a=e,"function"==typeof e)Ua(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Va(31,n,t,r)).elementType=C,e.lanes=i,e;case g:return $a(n.children,r,i,t);case y:o=8,r|=24;break;case v:return(e=Va(12,n,t,2|r)).elementType=v,e.lanes=i,e;case w:return(e=Va(13,n,t,r)).elementType=w,e.lanes=i,e;case S:return(e=Va(19,n,t,r)).elementType=S,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case b:o=9;break e;case k:o=11;break e;case N:o=14;break e;case T:o=16,a=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),a=null}return(t=Va(o,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function $a(e,t,n,a){return(e=Va(7,e,a,t)).lanes=n,e}function Qa(e,t,n){return(e=Va(6,e,null,t)).lanes=n,e}function Ha(e){var t=Va(18,null,null,0);return t.stateNode=e,t}function Za(e,t,n){return(t=Va(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ka=new WeakMap;function Ga(e,t){if("object"==typeof e&&null!==e){var n=Ka.get(e);return void 0!==n?n:(t={value:e,source:t,stack:te(t)},Ka.set(e,t),t)}return{value:e,source:t,stack:te(t)}}var Xa=[],Ya=0,Ja=null,er=0,tr=[],nr=0,ar=null,rr=1,sr="";function ir(e,t){Xa[Ya++]=er,Xa[Ya++]=Ja,Ja=e,er=t}function or(e,t,n){tr[nr++]=rr,tr[nr++]=sr,tr[nr++]=ar,ar=e;var a=rr;e=sr;var r=32-be(a)-1;a&=~(1<<r),n+=1;var s=32-be(t)+r;if(30<s){var i=r-r%5;s=(a&(1<<i)-1).toString(32),a>>=i,r-=i,rr=1<<32-be(t)+r|n<<r|a,sr=s+e}else rr=1<<s|n<<r|a,sr=e}function lr(e){null!==e.return&&(ir(e,1),or(e,1,0))}function cr(e){for(;e===Ja;)Ja=Xa[--Ya],Xa[Ya]=null,er=Xa[--Ya],Xa[Ya]=null;for(;e===ar;)ar=tr[--nr],tr[nr]=null,sr=tr[--nr],tr[nr]=null,rr=tr[--nr],tr[nr]=null}function ur(e,t){tr[nr++]=rr,tr[nr++]=sr,tr[nr++]=ar,rr=t.id,sr=t.overflow,ar=e}var dr=null,fr=null,mr=!1,pr=null,hr=!1,gr=Error(s(519));function yr(e){throw Sr(Ga(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gr}function vr(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[We]=e,t[Be]=a,n){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(n=0;n<Ku.length;n++)Yu(Ku[n],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),kt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),Tt(t,a.value,a.defaultValue,a.children)}"string"!=typeof(n=a.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||dd(t.textContent,n)?(null!=a.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=a.onScroll&&Yu("scroll",t),null!=a.onScrollEnd&&Yu("scrollend",t),null!=a.onClick&&(t.onclick=Ot),t=!0):t=!1,t||yr(e,!0)}function br(e){for(dr=e.return;dr;)switch(dr.tag){case 5:case 31:case 13:return void(hr=!1);case 27:case 3:return void(hr=!0);default:dr=dr.return}}function xr(e){if(e!==dr)return!1;if(!mr)return br(e),mr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||kd(e.type,e.memoizedProps)),t=!t),t&&fr&&yr(e),br(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));fr=Rd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));fr=Rd(e)}else 27===n?(n=fr,jd(e.type)?(e=Dd,Dd=null,fr=e):fr=n):fr=dr?Id(e.stateNode.nextSibling):null;return!0}function kr(){fr=dr=null,mr=!1}function wr(){var e=pr;return null!==e&&(null===zc?zc=e:zc.push.apply(zc,e),pr=null),e}function Sr(e){null===pr?pr=[e]:pr.push(e)}var Nr=L(null),Tr=null,Cr=null;function _r(e,t,n){V(Nr,t._currentValue),t._currentValue=n}function jr(e){e._currentValue=Nr.current,F(Nr)}function Er(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t,n,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=r.dependencies;if(null!==i){var o=r.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Er(i.return,n,e),a||(o=null);break e}i=l.next}}else if(18===r.tag){if(null===(o=r.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),Er(o,n,e),o=null}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===e){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function Pr(e,t,n,a){e=null;for(var r=t,i=!1;null!==r;){if(!i)if(524288&r.flags)i=!0;else if(262144&r.flags)break;if(10===r.tag){var o=r.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=r.type;ea(r.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(r===Q.current){if(null===(o=r.alternate))throw Error(s(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(mf):e=[mf])}r=r.return}null!==e&&Ar(t,e,n,a),t.flags|=262144}function zr(e){for(e=e.firstContext;null!==e;){if(!ea(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Tr=e,Cr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Or(e){return Dr(Tr,e)}function Ir(e,t){return null===Tr&&Mr(e),Dr(e,t)}function Dr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Cr){if(null===e)throw Error(s(308));Cr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cr=Cr.next=t;return n}var Rr="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Lr=e.unstable_scheduleCallback,Fr=e.unstable_NormalPriority,Vr={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ur(){return{controller:new Rr,data:new Map,refCount:0}}function qr(e){e.refCount--,0===e.refCount&&Lr(Fr,function(){e.controller.abort()})}var Wr=null,Br=0,$r=0,Qr=null;function Hr(){if(0===--Br&&null!==Wr){null!==Qr&&(Qr.status="fulfilled");var e=Wr;Wr=null,$r=0,Qr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Zr=M.S;M.S=function(e,t){Ic=oe(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Wr){var n=Wr=[];Br=0,$r=Bu(),Qr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Br++,t.then(Hr,Hr)}(0,t),null!==Zr&&Zr(e,t)};var Kr=L(null);function Gr(){var e=Kr.current;return null!==e?e:gc.pooledCache}function Xr(e,t){V(Kr,null===t?Kr.current:t.pool)}function Yr(){var e=Gr();return null===e?null:{parent:Vr._currentValue,pool:e}}var Jr=Error(s(460)),es=Error(s(474)),ts=Error(s(542)),ns={then:function(){}};function as(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ot,Ot),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e;default:if("string"==typeof t.status)t.then(Ot,Ot);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e}throw is=t,Jr}}function ss(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw is=t,Jr;throw t}}var is=null;function os(){if(null===is)throw Error(s(459));var e=is;return is=null,e}function ls(e){if(e===Jr||e===ts)throw Error(s(483))}var cs=null,us=0;function ds(e){var t=us;return us+=1,null===cs&&(cs=[]),rs(cs,e,t)}function fs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ms(e,t){if(t.$$typeof===m)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ps(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=qa(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Qa(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===g?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===T&&ss(s)===t.type)?(fs(t=r(t,n.props),n),t.return=e,t):(fs(t=Ba(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Za(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,s){return null===t||7!==t.tag?((t=$a(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Qa(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return fs(n=Ba(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Za(t,e.mode,n)).return=e,t;case T:return f(e,t=ss(t),n)}if(z(t)||E(t))return(t=$a(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,ds(t),n);if(t.$$typeof===x)return f(e,Ir(e,t),n);ms(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:l(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===r?c(e,t,n,a):null;case h:return n.key===r?u(e,t,n,a):null;case T:return m(e,t,n=ss(n),a)}if(z(n)||E(n))return null!==r?null:d(e,t,n,a,null);if("function"==typeof n.then)return m(e,t,ds(n),a);if(n.$$typeof===x)return m(e,t,Ir(e,n),a);ms(e,n)}return null}function y(e,t,n,a,r){if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case p:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case h:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case T:return y(e,t,n,a=ss(a),r)}if(z(a)||E(a))return d(t,e=e.get(n)||null,a,r,null);if("function"==typeof a.then)return y(e,t,n,ds(a),r);if(a.$$typeof===x)return y(e,t,n,Ir(t,a),r);ms(t,a)}return null}function v(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===T&&ss(b)===c.type){n(l,c.sibling),fs(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=$a(u.props.children,l.mode,d,u.key)).return=l,l=d):(fs(d=Ba(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case h:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Za(u,l.mode,d)).return=l,l=d}return o(l);case T:return v(l,c,u=ss(u),d)}if(z(u))return function(r,s,o,l){for(var c=null,u=null,d=s,p=s=0,h=null;null!==d&&p<o.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var g=m(r,d,o[p],l);if(null===g){null===d&&(d=h);break}e&&d&&null===g.alternate&&t(r,d),s=i(g,s,p),null===u?c=g:u.sibling=g,u=g,d=h}if(p===o.length)return n(r,d),mr&&ir(r,p),c;if(null===d){for(;p<o.length;p++)null!==(d=f(r,o[p],l))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return mr&&ir(r,p),c}for(d=a(d);p<o.length;p++)null!==(h=y(d,r,p,o[p],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?p:h.key),s=i(h,s,p),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach(function(e){return t(r,e)}),mr&&ir(r,p),c}(l,c,u,d);if(E(u)){if("function"!=typeof(b=E(u)))throw Error(s(150));return function(r,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=o,h=o=0,g=null,v=l.next();null!==p&&!v.done;h++,v=l.next()){p.index>h?(g=p,p=null):g=p.sibling;var b=m(r,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(r,p),o=i(b,o,h),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(r,p),mr&&ir(r,h),u;if(null===p){for(;!v.done;h++,v=l.next())null!==(v=f(r,v.value,c))&&(o=i(v,o,h),null===d?u=v:d.sibling=v,d=v);return mr&&ir(r,h),u}for(p=a(p);!v.done;h++,v=l.next())null!==(v=y(p,r,h,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?h:v.key),o=i(v,o,h),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(r,e)}),mr&&ir(r,h),u}(l,c,u=b.call(u),d)}if("function"==typeof u.then)return v(l,c,ds(u),d);if(u.$$typeof===x)return v(l,c,Ir(l,u),d);ms(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=Qa(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,a){try{us=0;var r=v(e,t,n,a);return cs=null,r}catch(i){if(i===Jr||i===ts)throw i;var s=Va(29,i,null,e.mode);return s.lanes=a,s.return=e,s}}}var hs=ps(!0),gs=ps(!1),ys=!1;function vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&hc){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Ra(e),Da(e,null,n),t}return Ma(e,a,t,n),Ra(e)}function ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,De(e,n)}}function Ss(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ns=!1;function Ts(){if(Ns){if(null!==Qr)throw Qr}}function Cs(e,t,n,a){Ns=!1;var r=e.updateQueue;ys=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=r.baseState;for(i=0,u=c=l=null,o=s;;){var m=-536870913&o.lane,p=m!==o.lane;if(p?(vc&m)===m:(a&m)===m){0!==m&&m===$r&&(Ns=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var h=e,g=o;m=t;var y=n;switch(g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(y,d,m);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(m="function"==typeof(h=g.payload)?h.call(y,d,m):h))break e;d=f({},d,m);break e;case 2:ys=!0}}null!==(m=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=m;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===s&&(r.shared.lanes=0),Cc|=i,e.lanes=i,e.memoizedState=d}}function _s(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function js(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_s(n[e],t)}var Es=L(null),As=L(0);function Ps(e,t){V(As,e=Nc),V(Es,t),Nc=e|t.baseLanes}function zs(){V(As,Nc),V(Es,Es.current)}function Ms(){Nc=As.current,F(Es),F(As)}var Os=L(null),Is=null;function Ds(e){var t=e.alternate;V(Us,1&Us.current),V(Os,e),null===Is&&(null===t||null!==Es.current||null!==t.memoizedState)&&(Is=e)}function Rs(e){V(Us,Us.current),V(Os,e),null===Is&&(Is=e)}function Ls(e){22===e.tag?(V(Us,Us.current),V(Os,e),null===Is&&(Is=e)):Fs()}function Fs(){V(Us,Us.current),V(Os,Os.current)}function Vs(e){F(Os),Is===e&&(Is=null),F(Us)}var Us=L(0);function qs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Md(n)||Od(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ws=0,Bs=null,$s=null,Qs=null,Hs=!1,Zs=!1,Ks=!1,Gs=0,Xs=0,Ys=null,Js=0;function ei(){throw Error(s(321))}function ti(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ea(e[n],t[n]))return!1;return!0}function ni(e,t,n,a,r,s){return Ws=s,Bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?vo:bo,Ks=!1,s=n(a,r),Ks=!1,Zs&&(s=ri(t,n,a,r)),ai(e),s}function ai(e){M.H=yo;var t=null!==$s&&null!==$s.next;if(Ws=0,Qs=$s=Bs=null,Hs=!1,Xs=0,Ys=null,t)throw Error(s(300));null===e||Io||null!==(e=e.dependencies)&&zr(e)&&(Io=!0)}function ri(e,t,n,a){Bs=e;var r=0;do{if(Zs&&(Ys=null),Xs=0,Zs=!1,25<=r)throw Error(s(301));if(r+=1,Qs=$s=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}M.H=xo,i=t(n,a)}while(Zs);return i}function si(){var e=M.H,t=e.useState()[0];return t="function"==typeof t.then?di(t):t,e=e.useState()[0],(null!==$s?$s.memoizedState:null)!==e&&(Bs.flags|=1024),t}function ii(){var e=0!==Gs;return Gs=0,e}function oi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function li(e){if(Hs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Hs=!1}Ws=0,Qs=$s=Bs=null,Zs=!1,Xs=Gs=0,Ys=null}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qs?Bs.memoizedState=Qs=e:Qs=Qs.next=e,Qs}function ui(){if(null===$s){var e=Bs.alternate;e=null!==e?e.memoizedState:null}else e=$s.next;var t=null===Qs?Bs.memoizedState:Qs.next;if(null!==t)Qs=t,$s=e;else{if(null===e){if(null===Bs.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:($s=e).memoizedState,baseState:$s.baseState,baseQueue:$s.baseQueue,queue:$s.queue,next:null},null===Qs?Bs.memoizedState=Qs=e:Qs=Qs.next=e}return Qs}function di(e){var t=Xs;return Xs+=1,null===Ys&&(Ys=[]),e=rs(Ys,e,t),t=Bs,null===(null===Qs?t.memoizedState:Qs.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?vo:bo),e}function fi(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return di(e);if(e.$$typeof===x)return Or(e)}throw Error(s(438,String(e)))}function mi(e){var t=null,n=Bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=Bs.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=_;return t.index++,n}function pi(e,t){return"function"==typeof t?t(e):t}function hi(e){return gi(ui(),$s,e)}function gi(e,t,n){var a=e.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=n;var r=e.baseQueue,i=a.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}t.baseQueue=r=i,a.pending=null}if(i=e.baseState,null===r)e.memoizedState=i;else{var l=o=null,c=null,u=t=r.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(vc&f)===f:(Ws&f)===f){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===$r&&(d=!0);else{if((Ws&m)===m){u=u.next,m===$r&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=i):c=c.next=f,Bs.lanes|=m,Cc|=m}f=u.action,Ks&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=m,o=i):c=c.next=m,Bs.lanes|=f,Cc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!ea(i,e.memoizedState)&&(Io=!0,d&&null!==(n=Qr)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,a.lastRenderedState=i}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function yi(e){var t=ui(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);ea(i,t.memoizedState)||(Io=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function vi(e,t,n){var a=Bs,r=ui(),i=mr;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!ea(($s||r).memoizedState,n);if(o&&(r.memoizedState=n,Io=!0),r=r.queue,Wi(ki.bind(null,a,r,e),[e]),r.getSnapshot!==t||o||null!==Qs&&1&Qs.memoizedState.tag){if(a.flags|=2048,Li(9,{destroy:void 0},xi.bind(null,a,r,n,t),null),null===gc)throw Error(s(349));i||127&Ws||bi(a,t,n)}return n}function bi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xi(e,t,n,a){t.value=n,t.getSnapshot=a,wi(t)&&Si(e)}function ki(e,t,n){return n(function(){wi(t)&&Si(e)})}function wi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ea(e,n)}catch(a){return!0}}function Si(e){var t=Ia(e,2);null!==t&&Gc(t,e,2)}function Ni(e){var t=ci();if("function"==typeof e){var n=e;if(e=n(),Ks){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},t}function Ti(e,t,n,a){return e.baseState=n,gi(e,$s,"function"==typeof a?a:pi)}function Ci(e,t,n,a,r){if(po(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==M.T?n(!0):i.isTransition=!1,a(i),null===(n=t.pending)?(i.next=t.pending=i,_i(t,i)):(i.next=n.next,t.pending=n.next=i)}}function _i(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var s=M.T,i={};M.T=i;try{var o=n(r,a),l=M.S;null!==l&&l(i,o),ji(e,t,o)}catch(c){Ai(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),M.T=s}}else try{ji(e,t,s=n(r,a))}catch(u){Ai(e,t,u)}}function ji(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ei(e,t,n)},function(n){return Ai(e,t,n)}):Ei(e,t,n)}function Ei(e,t,n){t.status="fulfilled",t.value=n,Pi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,_i(e,n)))}function Ai(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,Pi(t),t=t.next}while(t!==a)}e.action=null}function Pi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zi(e,t){return t}function Mi(e,t){if(mr){var n=gc.formState;if(null!==n){e:{var a=Bs;if(mr){if(fr){t:{for(var r=fr,s=hr;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=Id(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){fr=Id(r.nextSibling),a="F!"===r.data;break e}}yr(a)}a=!1}a&&(t=n[0])}}return(n=ci()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n.queue=a,n=uo.bind(null,Bs,a),a.dispatch=n,a=Ni(!1),s=mo.bind(null,Bs,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=ci()).queue=r,n=Ci.bind(null,Bs,r,s,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Oi(e){return Ii(ui(),$s,e)}function Ii(e,t,n){if(t=gi(e,t,zi)[0],e=hi(pi)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var a=di(t)}catch(i){if(i===Jr)throw ts;throw i}else a=t;var r=(t=ui()).queue,s=r.dispatch;return n!==t.memoizedState&&(Bs.flags|=2048,Li(9,{destroy:void 0},Di.bind(null,r,n),null)),[a,s,e]}function Di(e,t){e.action=t}function Ri(e){var t=ui(),n=$s;if(null!==n)return Ii(t,n,e);ui(),t=t.memoizedState;var a=(n=ui()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Li(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=Bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Fi(){return ui().memoizedState}function Vi(e,t,n,a){var r=ci();Bs.flags|=e,r.memoizedState=Li(1|t,{destroy:void 0},n,void 0===a?null:a)}function Ui(e,t,n,a){var r=ui();a=void 0===a?null:a;var s=r.memoizedState.inst;null!==$s&&null!==a&&ti(a,$s.memoizedState.deps)?r.memoizedState=Li(t,s,n,a):(Bs.flags|=e,r.memoizedState=Li(1|t,s,n,a))}function qi(e,t){Vi(8390656,8,e,t)}function Wi(e,t){Ui(2048,8,e,t)}function Bi(e){var t=ui().memoizedState;return function(e){Bs.flags|=4;var t=Bs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&hc)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function $i(e,t){return Ui(4,2,e,t)}function Qi(e,t){return Ui(4,4,e,t)}function Hi(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Zi(e,t,n){n=null!=n?n.concat([e]):null,Ui(4,4,Hi.bind(null,t,e),n)}function Ki(){}function Gi(e,t){var n=ui();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&ti(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Xi(e,t){var n=ui();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&ti(t,a[1]))return a[0];if(a=e(),Ks){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[a,t],a}function Yi(e,t,n){return void 0===n||1073741824&Ws&&!(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Kc(),Bs.lanes|=e,Cc|=e,n)}function Ji(e,t,n,a){return ea(n,t)?n:null!==Es.current?(e=Yi(e,n,a),ea(e,t)||(Io=!0),e):42&Ws&&(!(1073741824&Ws)||261930&vc)?(e=Kc(),Bs.lanes|=e,Cc|=e,t):(Io=!0,e.memoizedState=n)}function eo(e,t,n,a,r){var s=O.p;O.p=0!==s&&8>s?s:8;var i,o,l,c=M.T,u={};M.T=u,mo(e,!1,t,n);try{var d=r(),f=M.S;if(null!==f&&f(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)fo(e,t,(i=a,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=i;for(var e=0;e<o.length;e++)(0,o[e])(i)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Zc());else fo(e,t,a,Zc())}catch(m){fo(e,t,{then:function(){},status:"rejected",reason:m},Zc())}finally{O.p=s,null!==c&&null!==u.types&&(c.types=u.types),M.T=c}}function to(){}function no(e,t,n,a){if(5!==e.tag)throw Error(s(476));var r=ao(e).queue;eo(e,r,t,I,null===n?to:function(){return ro(e),n(a)})}function ao(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=ao(e);null===t.next&&(t=e.alternate.memoizedState),fo(e,t.next.queue,{},Zc())}function so(){return Or(mf)}function io(){return ui().memoizedState}function oo(){return ui().memoizedState}function lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Zc(),a=ks(t,e=xs(n),n);return null!==a&&(Gc(a,t,n),ws(a,t,n)),t={cache:Ur()},void(e.payload=t)}t=t.return}}function co(e,t,n){var a=Zc();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},po(e)?ho(t,n):null!==(n=Oa(e,t,n,a))&&(Gc(n,e,a),go(n,t,a))}function uo(e,t,n){fo(e,t,n,Zc())}function fo(e,t,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))ho(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(r.hasEagerState=!0,r.eagerState=o,ea(o,i))return Ma(e,t,r,0),null===gc&&za(),!1}catch(l){}if(null!==(n=Oa(e,t,r,a)))return Gc(n,e,a),go(n,t,a),!0}return!1}function mo(e,t,n,a){if(a={lane:2,revertLane:Bu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},po(e)){if(t)throw Error(s(479))}else null!==(t=Oa(e,n,a,2))&&Gc(t,e,2)}function po(e){var t=e.alternate;return e===Bs||null!==t&&t===Bs}function ho(e,t){Zs=Hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function go(e,t,n){if(4194048&n){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,De(e,n)}}var yo={readContext:Or,use:fi,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei};yo.useEffectEvent=ei;var vo={readContext:Or,use:fi,useCallback:function(e,t){return ci().memoizedState=[e,void 0===t?null:t],e},useContext:Or,useEffect:qi,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Vi(4194308,4,Hi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vi(4194308,4,e,t)},useInsertionEffect:function(e,t){Vi(4,2,e,t)},useMemo:function(e,t){var n=ci();t=void 0===t?null:t;var a=e();if(Ks){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=ci();if(void 0!==n){var r=n(t);if(Ks){ve(!0);try{n(t)}finally{ve(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=co.bind(null,Bs,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},ci().memoizedState=e},useState:function(e){var t=(e=Ni(e)).queue,n=uo.bind(null,Bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ki,useDeferredValue:function(e,t){return Yi(ci(),e,t)},useTransition:function(){var e=Ni(!1);return e=eo.bind(null,Bs,e.queue,!0,!1),ci().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Bs,r=ci();if(mr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===gc)throw Error(s(349));127&vc||bi(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,qi(ki.bind(null,a,i,e),[e]),a.flags|=2048,Li(9,{destroy:void 0},xi.bind(null,a,i,n,t),null),n},useId:function(){var e=ci(),t=gc.identifierPrefix;if(mr){var n=sr;t="_"+t+"R_"+(n=(rr&~(1<<32-be(rr)-1)).toString(32)+n),0<(n=Gs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Js++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:so,useFormState:Mi,useActionState:Mi,useOptimistic:function(e){var t=ci();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=mo.bind(null,Bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:mi,useCacheRefresh:function(){return ci().memoizedState=lo.bind(null,Bs)},useEffectEvent:function(e){var t=ci(),n={impl:e};return t.memoizedState=n,function(){if(2&hc)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},bo={readContext:Or,use:fi,useCallback:Gi,useContext:Or,useEffect:Wi,useImperativeHandle:Zi,useInsertionEffect:$i,useLayoutEffect:Qi,useMemo:Xi,useReducer:hi,useRef:Fi,useState:function(){return hi(pi)},useDebugValue:Ki,useDeferredValue:function(e,t){return Ji(ui(),$s.memoizedState,e,t)},useTransition:function(){var e=hi(pi)[0],t=ui().memoizedState;return["boolean"==typeof e?e:di(e),t]},useSyncExternalStore:vi,useId:io,useHostTransitionStatus:so,useFormState:Oi,useActionState:Oi,useOptimistic:function(e,t){return Ti(ui(),0,e,t)},useMemoCache:mi,useCacheRefresh:oo};bo.useEffectEvent=Bi;var xo={readContext:Or,use:fi,useCallback:Gi,useContext:Or,useEffect:Wi,useImperativeHandle:Zi,useInsertionEffect:$i,useLayoutEffect:Qi,useMemo:Xi,useReducer:yi,useRef:Fi,useState:function(){return yi(pi)},useDebugValue:Ki,useDeferredValue:function(e,t){var n=ui();return null===$s?Yi(n,e,t):Ji(n,$s.memoizedState,e,t)},useTransition:function(){var e=yi(pi)[0],t=ui().memoizedState;return["boolean"==typeof e?e:di(e),t]},useSyncExternalStore:vi,useId:io,useHostTransitionStatus:so,useFormState:Ri,useActionState:Ri,useOptimistic:function(e,t){var n=ui();return null!==$s?Ti(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:mi,useCacheRefresh:oo};function ko(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}xo.useEffectEvent=Bi;var wo={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Zc(),r=xs(a);r.payload=t,null!=n&&(r.callback=n),null!==(t=ks(e,r,a))&&(Gc(t,e,a),ws(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Zc(),r=xs(a);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=ks(e,r,a))&&(Gc(t,e,a),ws(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zc(),a=xs(n);a.tag=2,null!=t&&(a.callback=t),null!==(t=ks(e,a,n))&&(Gc(t,e,n),ws(t,e,n))}};function So(e,t,n,a,r,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!ta(n,a)||!ta(r,s))}function No(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function To(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var r in n===t&&(n=f({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function Co(e){ja(e)}function _o(e){}function jo(e){ja(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ao(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Po(e,t,n){return(n=xs(n)).tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function zo(e){return(e=xs(e)).tag=3,e}function Mo(e,t,n,a){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var s=a.value;e.payload=function(){return r(s)},e.callback=function(){Ao(t,n,a)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){Ao(t,n,a),"function"!=typeof r&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Oo=Error(s(461)),Io=!1;function Do(e,t,n,a){t.child=null===e?gs(t,null,n,a):hs(t,e.child,n,a)}function Ro(e,t,n,a,r){n=n.render;var s=t.ref;if("ref"in a){var i={};for(var o in a)"ref"!==o&&(i[o]=a[o])}else i=a;return Mr(t),a=ni(e,t,n,i,s,r),o=ii(),null===e||Io?(mr&&o&&lr(t),t.flags|=1,Do(e,t,a,r),t.child):(oi(e,t,r),il(e,t,r))}function Lo(e,t,n,a,r){if(null===e){var s=n.type;return"function"!=typeof s||Ua(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ba(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fo(e,t,s,a,r))}if(s=e.child,!ol(e,r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:ta)(i,a)&&e.ref===t.ref)return il(e,t,r)}return t.flags|=1,(e=qa(s,a)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(ta(s,a)&&e.ref===t.ref){if(Io=!1,t.pendingProps=a=s,!ol(e,r))return t.lanes=e.lanes,il(e,t,r);131072&e.flags&&(Io=!0)}}return Qo(e,t,n,a,r)}function Vo(e,t,n,a){var r=a.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|n:n,null!==e){for(a=t.child=e.child,r=0;null!==a;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~s}else a=0,t.child=null;return qo(e,t,s,n,a)}if(!(536870912&n))return a=t.lanes=536870912,qo(e,t,null!==s?s.baseLanes|n:n,n,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xr(0,null!==s?s.cachePool:null),null!==s?Ps(t,s):zs(),Ls(t)}else null!==s?(Xr(0,s.cachePool),Ps(t,s),Fs(),t.memoizedState=null):(null!==e&&Xr(0,null),zs(),Fs());return Do(e,t,r,n),t.child}function Uo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qo(e,t,n,a,r){var s=Gr();return s=null===s?null:{parent:Vr._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Xr(0,null),zs(),Ls(t),null!==e&&Pr(e,t,a,!0),t.childLanes=r,null}function Wo(e,t){return(t=tl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bo(e,t,n){return hs(t,e.child,null,n),(e=Wo(t,t.pendingProps)).flags|=2,Vs(t),t.memoizedState=null,e}function $o(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Qo(e,t,n,a,r){return Mr(t),n=ni(e,t,n,a,void 0,r),a=ii(),null===e||Io?(mr&&a&&lr(t),t.flags|=1,Do(e,t,n,r),t.child):(oi(e,t,r),il(e,t,r))}function Ho(e,t,n,a,r,s){return Mr(t),t.updateQueue=null,n=ri(t,a,n,r),ai(e),a=ii(),null===e||Io?(mr&&a&&lr(t),t.flags|=1,Do(e,t,n,s),t.child):(oi(e,t,s),il(e,t,s))}function Zo(e,t,n,a,r){if(Mr(t),null===t.stateNode){var s=La,i=n.contextType;"object"==typeof i&&null!==i&&(s=Or(i)),s=new n(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=wo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},vs(t),i=n.contextType,s.context="object"==typeof i&&null!==i?Or(i):La,s.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(ko(t,n,i,a),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&wo.enqueueReplaceState(s,s.state,null),Cs(t,a,s,r),Ts(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=To(n,o);s.props=l;var c=s.context,u=n.contextType;i=La,"object"==typeof u&&null!==u&&(i=Or(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==i)&&No(t,s,a,i),ys=!1;var f=t.memoizedState;s.state=f,Cs(t,a,s,r),Ts(),c=t.memoizedState,o||f!==c||ys?("function"==typeof d&&(ko(t,n,d,a),c=t.memoizedState),(l=ys||So(t,n,l,a,f,c,i))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=i,a=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,bs(e,t),u=To(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,f=s.context,c=n.contextType,l=La,"object"==typeof c&&null!==c&&(l=Or(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==d||f!==l)&&No(t,s,a,l),ys=!1,f=t.memoizedState,s.state=f,Cs(t,a,s,r),Ts();var m=t.memoizedState;i!==d||f!==m||ys||null!==e&&null!==e.dependencies&&zr(e.dependencies)?("function"==typeof o&&(ko(t,n,o,a),m=t.memoizedState),(u=ys||So(t,n,u,a,f,m,l)||null!==e&&null!==e.dependencies&&zr(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(a,m,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,m,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=l,a=u):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,$o(e,t),a=!!(128&t.flags),s||a?(s=t.stateNode,n=a&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=hs(t,e.child,null,r),t.child=hs(t,null,n,r)):Do(e,t,n,r),t.memoizedState=s.state,e=t.child):e=il(e,t,r),e}function Ko(e,t,n,a){return kr(),t.flags|=256,Do(e,t,n,a),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:Yr()}}function Yo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ec),e}function Jo(e,t,n){var a,r=t.pendingProps,i=!1,o=!!(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&!!(2&Us.current)),a&&(i=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(mr){if(i?Ds(t):Fs(),(e=fr)?null!==(e=null!==(e=zd(e,hr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ar?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},(n=Ha(e)).return=t,t.child=n,dr=t,fr=null):e=null,null===e)throw yr(t);return Od(e)?t.lanes=32:t.lanes=536870912,null}var l=r.children;return r=r.fallback,i?(Fs(),l=tl({mode:"hidden",children:l},i=t.mode),r=$a(r,i,n,null),l.return=t,r.return=t,l.sibling=r,t.child=l,(r=t.child).memoizedState=Xo(n),r.childLanes=Yo(e,a,n),t.memoizedState=Go,Uo(null,r)):(Ds(t),el(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ds(t),t.flags&=-257,t=nl(e,t,n)):null!==t.memoizedState?(Fs(),t.child=e.child,t.flags|=128,t=null):(Fs(),l=r.fallback,i=t.mode,r=tl({mode:"visible",children:r.children},i),(l=$a(l,i,n,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,hs(t,e.child,null,n),(r=t.child).memoizedState=Xo(n),r.childLanes=Yo(e,a,n),t.memoizedState=Go,t=Uo(null,r));else if(Ds(t),Od(l)){if(a=l.nextSibling&&l.nextSibling.dataset)var u=a.dgst;a=u,(r=Error(s(419))).stack="",r.digest=a,Sr({value:r,source:null,stack:null}),t=nl(e,t,n)}else if(Io||Pr(e,t,n,!1),a=0!==(n&e.childLanes),Io||a){if(null!==(a=gc)&&(0!==(r=Re(a,n))&&r!==c.retryLane))throw c.retryLane=r,Ia(e,r),Gc(a,e,r),Oo;Md(l)||lu(),t=nl(e,t,n)}else Md(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,fr=Id(l.nextSibling),dr=t,mr=!0,pr=null,hr=!1,null!==e&&ur(t,e),(t=el(t,r.children)).flags|=4096);return t}return i?(Fs(),l=r.fallback,i=t.mode,u=(c=e.child).sibling,(r=qa(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=qa(u,l):(l=$a(l,i,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,Uo(null,r),r=t.child,null===(l=e.child.memoizedState)?l=Xo(n):(null!==(i=l.cachePool)?(c=Vr._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Yr(),l={baseLanes:l.baseLanes|n,cachePool:i}),r.memoizedState=l,r.childLanes=Yo(e,a,n),t.memoizedState=Go,Uo(e.child,r)):(Ds(t),e=(n=e.child).sibling,(n=qa(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function el(e,t){return(t=tl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function tl(e,t){return(e=Va(22,e,null,t)).lanes=0,e}function nl(e,t,n){return hs(t,e.child,null,n),(e=el(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function al(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Er(e.return,t,n)}function rl(e,t,n,a,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r,i.treeForkCount=s)}function sl(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;a=a.children;var i=Us.current,o=!!(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,V(Us,i),Do(e,t,a,n),a=mr?er:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&al(e,n,t);else if(19===e.tag)al(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===qs(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),rl(t,!1,r,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===qs(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}rl(t,!0,n,null,s,a);break;case"together":rl(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=qa(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qa(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!zr(e))}function ll(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Io=!0;else{if(!(ol(e,n)||128&t.flags))return Io=!1,function(e,t,n){switch(t.tag){case 3:H(t,t.stateNode.containerInfo),_r(0,Vr,e.memoizedState.cache),kr();break;case 27:case 5:K(t);break;case 4:H(t,t.stateNode.containerInfo);break;case 10:_r(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Rs(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(Ds(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jo(e,t,n):(Ds(t),null!==(e=il(e,t,n))?e.sibling:null);Ds(t);break;case 19:var r=!!(128&e.flags);if((a=0!==(n&t.childLanes))||(Pr(e,t,n,!1),a=0!==(n&t.childLanes)),r){if(a)return sl(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),V(Us,Us.current),a)break;return null;case 22:return t.lanes=0,Vo(e,t,n,t.pendingProps);case 24:_r(0,Vr,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Io=!!(131072&e.flags)}else Io=!1,mr&&1048576&t.flags&&or(t,er,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ss(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var r=e.$$typeof;if(r===k){t.tag=11,t=Ro(null,t,e,a,n);break e}if(r===N){t.tag=14,t=Lo(null,t,e,a,n);break e}}throw t=P(e)||e,Error(s(306,t,""))}Ua(e)?(a=To(e,a),t.tag=1,t=Zo(null,t,e,a,n)):(t.tag=0,t=Qo(null,t,e,a,n))}return t;case 0:return Qo(e,t,t.type,t.pendingProps,n);case 1:return Zo(e,t,a=t.type,r=To(a,t.pendingProps),n);case 3:e:{if(H(t,t.stateNode.containerInfo),null===e)throw Error(s(387));a=t.pendingProps;var i=t.memoizedState;r=i.element,bs(e,t),Cs(t,a,null,n);var o=t.memoizedState;if(a=o.cache,_r(0,Vr,a),a!==i.cache&&Ar(t,[Vr],n,!0),Ts(),a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ko(e,t,a,n);break e}if(a!==r){Sr(r=Ga(Error(s(424)),t)),t=Ko(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(fr=Id(e.firstChild),dr=t,mr=!0,pr=null,hr=!0,n=gs(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(kr(),a===r){t=il(e,t,n);break e}Do(e,t,a,n)}t=t.child}return t;case 26:return $o(e,t),null===e?(n=Hd(t.type,null,t.pendingProps,null))?t.memoizedState=n:mr||(n=t.type,e=t.pendingProps,(a=vd($.current).createElement(n))[We]=t,a[Be]=e,pd(a,n,e),nt(a),t.stateNode=a):t.memoizedState=Hd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&mr&&(a=t.stateNode=Fd(t.type,t.pendingProps,$.current),dr=t,hr=!0,r=fr,jd(t.type)?(Dd=r,fr=Id(a.firstChild)):fr=r),Do(e,t,t.pendingProps.children,n),$o(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&mr&&((r=a=fr)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=Id(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,hr))?(t.stateNode=a,dr=t,fr=Id(a.firstChild),hr=!1,r=!0):r=!1),r||yr(t)),K(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,kd(r,i)?a=null:null!==o&&kd(r,o)&&(t.flags|=32),null!==t.memoizedState&&(r=ni(e,t,si,null,null,n),mf._currentValue=r),$o(e,t),Do(e,t,a,n),t.child;case 6:return null===e&&mr&&((e=n=fr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Id(e.nextSibling)))return null}return e}(n,t.pendingProps,hr))?(t.stateNode=n,dr=t,fr=null,e=!0):e=!1),e||yr(t)),null;case 13:return Jo(e,t,n);case 4:return H(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=hs(t,null,a,n):Do(e,t,a,n),t.child;case 11:return Ro(e,t,t.type,t.pendingProps,n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,_r(0,t.type,a.value),Do(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Mr(t),a=a(r=Or(r)),t.flags|=1,Do(e,t,a,n),t.child;case 14:return Lo(e,t,t.type,t.pendingProps,n);case 15:return Fo(e,t,t.type,t.pendingProps,n);case 19:return sl(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,r=!!(128&t.flags);if(t.flags&=-129,null===e){if(mr){if("hidden"===a.mode)return e=Wo(t,a),t.lanes=536870912,Uo(null,e);if(Rs(t),(e=fr)?null!==(e=null!==(e=zd(e,hr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ar?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},(n=Ha(e)).return=t,t.child=n,dr=t,fr=null):e=null,null===e)throw yr(t);return t.lanes=536870912,null}return Wo(t,a)}var i=e.memoizedState;if(null!==i){var o=i.dehydrated;if(Rs(t),r)if(256&t.flags)t.flags&=-257,t=Bo(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Io||Pr(e,t,n,!1),r=0!==(n&e.childLanes),Io||r){if(null!==(a=gc)&&0!==(o=Re(a,n))&&o!==i.retryLane)throw i.retryLane=o,Ia(e,o),Gc(a,e,o),Oo;lu(),t=Bo(e,t,n)}else e=i.treeContext,fr=Id(o.nextSibling),dr=t,mr=!0,pr=null,hr=!1,null!==e&&ur(t,e),(t=Wo(t,a)).flags|=4096;return t}return(e=qa(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Vo(e,t,n,t.pendingProps);case 24:return Mr(t),a=Or(Vr),null===e?(null===(r=Gr())&&(r=gc,i=Ur(),r.pooledCache=i,i.refCount++,null!==i&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:a,cache:r},vs(t),_r(0,Vr,r)):(0!==(e.lanes&n)&&(bs(e,t),Cs(t,null,null,n),Ts()),r=e.memoizedState,i=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),_r(0,Vr,a)):(a=i.cache,_r(0,Vr,a),a!==r.cache&&Ar(t,[Vr],n,!0))),Do(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function cl(e){e.flags|=4}function ul(e,t,n,a,r){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!su())throw is=ns,es;e.flags|=8192}}else e.flags&=-16777217}function dl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!of(t)){if(!su())throw is=ns,es;e.flags|=8192}}function fl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ac|=t)}function ml(e,t){if(!mr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function hl(e,t,n){var a=t.pendingProps;switch(cr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),jr(Vr),Z(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(xr(t)?cl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,wr())),pl(t),null;case 26:var r=t.type,i=t.memoizedState;return null===e?(cl(t),null!==i?(pl(t),dl(t,i)):(pl(t),ul(t,r,0,0,n))):i?i!==e.memoizedState?(cl(t),pl(t),dl(t,i)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&cl(t),pl(t),ul(t,r,0,0,n)),null;case 27:if(G(t),n=$.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&cl(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return pl(t),null}e=W.current,xr(t)?vr(t):(e=Fd(r,a,n),t.stateNode=e,cl(t))}return pl(t),null;case 5:if(G(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&cl(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return pl(t),null}if(i=W.current,xr(t))vr(t);else{var o=vd($.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(i=o.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"==typeof a.is?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i="string"==typeof a.is?o.createElement(r,{is:a.is}):o.createElement(r)}}i[We]=t,i[Be]=a;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)i.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(pd(i,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&cl(t)}}return pl(t),ul(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&cl(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(s(166));if(e=$.current,xr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(r=dr))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[We]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||dd(e.nodeValue,n)))||yr(t,!0)}else(e=vd(e).createTextNode(a))[We]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=xr(t),null!==n){if(null===e){if(!a)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[We]=t}else kr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=wr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Vs(t),t):(Vs(t),null);if(128&t.flags)throw Error(s(558))}return pl(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=xr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[We]=t}else kr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),r=!1}else r=wr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Vs(t),t):(Vs(t),null)}return Vs(t),128&t.flags?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool),i=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(i=a.memoizedState.cachePool.pool),i!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),fl(t,t.updateQueue),pl(t),null);case 4:return Z(),null===e&&td(t.stateNode.containerInfo),pl(t),null;case 10:return jr(t.type),pl(t),null;case 19:if(F(Us),null===(a=t.memoizedState))return pl(t),null;if(r=!!(128&t.flags),null===(i=a.rendering))if(r)ml(a,!1);else{if(0!==Tc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=qs(e))){for(t.flags|=128,ml(a,!1),e=i.updateQueue,t.updateQueue=e,fl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wa(n,e),n=n.sibling;return V(Us,1&Us.current|2),mr&&ir(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&oe()>Dc&&(t.flags|=128,r=!0,ml(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=qs(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,fl(t,e),ml(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!mr)return pl(t),null}else 2*oe()-a.renderingStartTime>Dc&&536870912!==n&&(t.flags|=128,r=!0,ml(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=oe(),e.sibling=null,n=Us.current,V(Us,r?1&n|2:1&n),mr&&ir(t,a.treeForkCount),e):(pl(t),null);case 22:case 23:return Vs(t),Ms(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&n)&&!(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&fl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&F(Kr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),jr(Vr),pl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function gl(e,t){switch(cr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return jr(Vr),Z(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 31:if(null!==t.memoizedState){if(Vs(t),null===t.alternate)throw Error(s(340));kr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Vs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));kr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Us),null;case 4:return Z(),null;case 10:return jr(t.type),null;case 22:case 23:return Vs(t),Ms(),null!==e&&F(Kr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return jr(Vr),null;default:return null}}function yl(e,t){switch(cr(t),t.tag){case 3:jr(Vr),Z();break;case 26:case 27:case 5:G(t);break;case 4:Z();break;case 31:null!==t.memoizedState&&Vs(t);break;case 13:Vs(t);break;case 19:F(Us);break;case 10:jr(t.type);break;case 22:case 23:Vs(t),Ms(),null!==e&&F(Kr);break;case 24:jr(Vr)}}function vl(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var s=n.create,i=n.inst;a=s(),i.destroy=a}n=n.next}while(n!==r)}}catch(o){Tu(t,t.return,o)}}function bl(e,t,n){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var s=r.next;a=s;do{if((a.tag&e)===e){var i=a.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(u){Tu(r,l,u)}}}a=a.next}while(a!==s)}}catch(u){Tu(t,t.return,u)}}function xl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{js(t,n)}catch(a){Tu(e,e.return,a)}}}function kl(e,t,n){n.props=To(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Tu(e,t,a)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"==typeof n?e.refCleanup=n(a):n.current=a}}catch(r){Tu(e,t,r)}}function Sl(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"==typeof a)try{a()}catch(r){Tu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){Tu(e,t,s)}else n.current=null}function Nl(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){Tu(e,e.return,r)}}function Tl(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":c=f;default:a.hasOwnProperty(p)||fd(e,t,p,null,a,f)}}for(var m in a){var p=a[m];if(f=n[m],a.hasOwnProperty(m)&&(null!=p||null!=f))switch(m){case"type":i=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==f&&fd(e,t,m,p,a,f)}}return void xt(e,o,l,c,u,d,i,r);case"select":for(i in p=o=l=m=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:a.hasOwnProperty(i)||fd(e,t,i,null,a,c)}for(r in a)if(i=a[r],c=n[r],a.hasOwnProperty(r)&&(null!=i||null!=c))switch(r){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&fd(e,t,r,i,a,c)}return t=l,n=o,a=p,void(null!=m?St(e,!!n,m,!1):!!a!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=m=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!a.hasOwnProperty(l))switch(l){case"value":case"children":break;default:fd(e,t,l,null,a,r)}for(o in a)if(r=a[o],i=n[o],a.hasOwnProperty(o)&&(null!=r||null!=i))switch(o){case"value":m=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==i&&fd(e,t,o,r,a,i)}return void Nt(e,m,p);case"option":for(var h in n)if(m=n[h],n.hasOwnProperty(h)&&null!=m&&!a.hasOwnProperty(h))if("selected"===h)e.selected=!1;else fd(e,t,h,null,a,m);for(c in a)if(m=a[c],p=n[c],a.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else fd(e,t,c,m,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g)&&fd(e,t,g,null,a,m);for(u in a)if(m=a[u],p=n[u],a.hasOwnProperty(u)&&m!==p&&(null!=m||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:fd(e,t,u,m,a,p)}return;default:if(At(t)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&void 0!==m&&!a.hasOwnProperty(y)&&md(e,t,y,void 0,a,m);for(d in a)m=a[d],p=n[d],!a.hasOwnProperty(d)||m===p||void 0===m&&void 0===p||md(e,t,d,m,a,p);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&null!=m&&!a.hasOwnProperty(v)&&fd(e,t,v,null,a,m);for(f in a)m=a[f],p=n[f],!a.hasOwnProperty(f)||m===p||null==m&&null==p||fd(e,t,f,m,a,p)}(a,e.type,n,t),a[Be]=t}catch(r){Tu(e,e.return,r)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&jd(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&jd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function jl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ot));else if(4!==a&&(27===a&&jd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(jl(e,t,n),e=e.sibling;null!==e;)jl(e,t,n),e=e.sibling}function El(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&jd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);pd(t,a,n),t[We]=e,t[Be]=n}catch(s){Tu(e,e.return,s)}}var Pl=!1,zl=!1,Ml=!1,Ol="function"==typeof WeakSet?WeakSet:Set,Il=null;function Dl(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Gl(e,n),4&a&&vl(5,n);break;case 1:if(Gl(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){Tu(n,n.return,i)}else{var r=To(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Tu(n,n.return,o)}}64&a&&xl(n),512&a&&wl(n,n.return);break;case 3:if(Gl(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{js(e,t)}catch(i){Tu(n,n.return,i)}}break;case 27:null===t&&4&a&&Al(n);case 26:case 5:Gl(e,n),null===t&&4&a&&Nl(n),512&a&&wl(n,n.return);break;case 12:Gl(e,n);break;case 31:Gl(e,n),4&a&&ql(e,n);break;case 13:Gl(e,n),4&a&&Wl(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=Eu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||zl,r=Pl;var s=zl;Pl=a,(zl=t)&&!s?Yl(e,n,!!(8772&n.subtreeFlags)):Gl(e,n),Pl=r,zl=s}break;case 30:break;default:Gl(e,n)}}function Rl(e){var t=e.alternate;null!==t&&(e.alternate=null,Rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ll=null,Fl=!1;function Vl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ye&&"function"==typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ge,n)}catch(s){}switch(n.tag){case 26:zl||Sl(n,t),Vl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:zl||Sl(n,t);var a=Ll,r=Fl;jd(n.type)&&(Ll=n.stateNode,Fl=!1),Vl(e,t,n),Vd(n.stateNode),Ll=a,Fl=r;break;case 5:zl||Sl(n,t);case 6:if(a=Ll,r=Fl,Ll=null,Vl(e,t,n),Fl=r,null!==(Ll=a))if(Fl)try{(9===Ll.nodeType?Ll.body:"HTML"===Ll.nodeName?Ll.ownerDocument.body:Ll).removeChild(n.stateNode)}catch(i){Tu(n,t,i)}else try{Ll.removeChild(n.stateNode)}catch(i){Tu(n,t,i)}break;case 18:null!==Ll&&(Fl?(Ed(9===(e=Ll).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hf(e)):Ed(Ll,n.stateNode));break;case 4:a=Ll,r=Fl,Ll=n.stateNode.containerInfo,Fl=!0,Vl(e,t,n),Ll=a,Fl=r;break;case 0:case 11:case 14:case 15:bl(2,n,t),zl||bl(4,n,t),Vl(e,t,n);break;case 1:zl||(Sl(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount&&kl(n,t,a)),Vl(e,t,n);break;case 21:Vl(e,t,n);break;case 22:zl=(a=zl)||null!==n.memoizedState,Vl(e,t,n),zl=a;break;default:Vl(e,t,n)}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hf(e)}catch(n){Tu(t,t.return,n)}}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hf(e)}catch(n){Tu(t,t.return,n)}}function Bl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ol),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ol),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var a=Au.bind(null,e,t);t.then(a,a)}})}function $l(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(jd(l.type)){Ll=l.stateNode,Fl=!1;break e}break;case 5:Ll=l.stateNode,Fl=!1;break e;case 3:case 4:Ll=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ll)throw Error(s(160));Ul(i,o,r),Ll=null,Fl=!1,null!==(i=r.alternate)&&(i.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var Ql=null;function Hl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$l(t,e),Zl(e),4&a&&(bl(3,e,e.return),vl(3,e),bl(5,e,e.return));break;case 1:$l(t,e),Zl(e),512&a&&(zl||null===n||Sl(n,n.return)),64&a&&Pl&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var r=Ql;if($l(t,e),Zl(e),512&a&&(zl||null===n||Sl(n,n.return)),4&a){var i=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":(!(i=r.getElementsByTagName("title")[0])||i[Ge]||i[We]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=r.createElement(a),r.head.insertBefore(i,r.querySelector("head > title"))),pd(i,a,n),i[We]=e,nt(i),a=i;break e;case"link":var o=rf("link","href",r).get(a+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}pd(i=r.createElement(a),a,n),r.head.appendChild(i);break;case"meta":if(o=rf("meta","content",r).get(a+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}pd(i=r.createElement(a),a,n),r.head.appendChild(i);break;default:throw Error(s(468,a))}i[We]=e,nt(i),a=i}e.stateNode=a}else sf(r,e.type,e.stateNode);else e.stateNode=Jd(r,a,e.memoizedProps);else i!==a?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===a?sf(r,e.type,e.stateNode):Jd(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&Tl(e,e.memoizedProps,n.memoizedProps)}break;case 27:$l(t,e),Zl(e),512&a&&(zl||null===n||Sl(n,n.return)),null!==n&&4&a&&Tl(e,e.memoizedProps,n.memoizedProps);break;case 5:if($l(t,e),Zl(e),512&a&&(zl||null===n||Sl(n,n.return)),32&e.flags){r=e.stateNode;try{Ct(r,"")}catch(h){Tu(e,e.return,h)}}4&a&&null!=e.stateNode&&Tl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&a&&(Ml=!0);break;case 6:if($l(t,e),Zl(e),4&a){if(null===e.stateNode)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(h){Tu(e,e.return,h)}}break;case 3:if(af=null,r=Ql,Ql=Wd(t.containerInfo),$l(t,e),Ql=r,Zl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Hf(t.containerInfo)}catch(h){Tu(e,e.return,h)}Ml&&(Ml=!1,Kl(e));break;case 4:a=Ql,Ql=Wd(e.stateNode.containerInfo),$l(t,e),Zl(e),Ql=a;break;case 12:default:$l(t,e),Zl(e);break;case 31:case 19:$l(t,e),Zl(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bl(e,a)));break;case 13:$l(t,e),Zl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Oc=oe()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bl(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Pl,d=zl;if(Pl=u||r,zl=d||c,$l(t,e),zl=d,Pl=u,Zl(e),8192&a)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||Pl||zl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,r)"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,m=null!=f&&f.hasOwnProperty("display")?f.display:null;l.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(h){Tu(c,c.return,h)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(h){Tu(c,c.return,h)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;r?Ad(p,!0):Ad(c.stateNode,!1)}catch(h){Tu(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Bl(e,n))));case 30:case 21:}}function Zl(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(Cl(a)){n=a;break}a=a.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;El(e,_l(e),r);break;case 5:var i=n.stateNode;32&n.flags&&(Ct(i,""),n.flags&=-33),El(e,_l(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;jl(e,_l(e),o);break;default:throw Error(s(161))}}catch(l){Tu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Kl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Kl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Gl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bl(4,t,t.return),Xl(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&kl(t,t.return,n),Xl(t);break;case 27:Vd(t.stateNode);case 26:case 5:Sl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function Yl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Yl(r,s,n),vl(4,s);break;case 1:if(Yl(r,s,n),"function"==typeof(r=(a=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){Tu(a,a.return,c)}if(null!==(r=(a=s).updateQueue)){var o=a.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)_s(l[r],o)}catch(c){Tu(a,a.return,c)}}n&&64&i&&xl(s),wl(s,s.return);break;case 27:Al(s);case 26:case 5:Yl(r,s,n),n&&null===a&&4&i&&Nl(s),wl(s,s.return);break;case 12:Yl(r,s,n);break;case 31:Yl(r,s,n),n&&4&i&&ql(r,s);break;case 13:Yl(r,s,n),n&&4&i&&Wl(r,s);break;case 22:null===s.memoizedState&&Yl(r,s,n),wl(s,s.return);break;case 30:break;default:Yl(r,s,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&qr(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qr(e))}function tc(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,a),t=t.sibling}function nc(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,a),2048&r&&vl(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,a);break;case 3:tc(e,t,n,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qr(e)));break;case 12:if(2048&r){tc(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"==typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Tu(t,t.return,l)}}else tc(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?tc(e,t,n,a):rc(e,t):2&s._visibility?tc(e,t,n,a):(s._visibility|=2,ac(e,t,n,a,!!(10256&t.subtreeFlags)||!1)),2048&r&&Jl(i,t);break;case 24:tc(e,t,n,a),2048&r&&ec(t.alternate,t)}}function ac(e,t,n,a,r){for(r=r&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,o=n,l=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:ac(s,i,o,l,r),vl(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?ac(s,i,o,l,r):rc(s,i):(u._visibility|=2,ac(s,i,o,l,r)),r&&2048&c&&Jl(i.alternate,i);break;case 24:ac(s,i,o,l,r),r&&2048&c&&ec(i.alternate,i);break;default:ac(s,i,o,l,r)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:rc(n,a),2048&r&&Jl(a.alternate,a);break;case 24:rc(n,a),2048&r&&ec(a.alternate,a);break;default:rc(n,a)}t=t.sibling}}var sc=8192;function ic(e,t,n){if(e.subtreeFlags&sc)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&sc&&null!==e.memoizedState&&function(e,t,n,a){if(!("stylesheet"!==n.type||"string"==typeof a.media&&!1===matchMedia(a.media).matches||4&n.state.loading)){if(null===n.instance){var r=Zd(a.href),s=t.querySelector(Kd(r));if(s)return null!==(t=s._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=cf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void nt(s);s=t.ownerDocument||t,a=Gd(a),(r=Ud.get(r))&&tf(a,r),nt(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),pd(s,"link",a),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=cf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Ql,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var a=Ql;Ql=Wd(e.stateNode.containerInfo),ic(e,t,n),Ql=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=sc,sc=16777216,ic(e,t,n),sc=a):ic(e,t,n))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Il=a,fc(a,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uc(e),e=e.sibling}function uc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,dc(e)):cc(e)}}function dc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Il=a,fc(a,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bl(8,t,t.return),dc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,dc(t));break;default:dc(t)}e=e.sibling}}function fc(e,t){for(;null!==Il;){var n=Il;switch(n.tag){case 0:case 11:case 15:bl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:qr(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,Il=a;else e:for(n=e;null!==Il;){var r=(a=Il).sibling,s=a.return;if(Rl(a),a===n){Il=null;break e}if(null!==r){r.return=s,Il=r;break e}Il=s}}}var mc={getCacheForType:function(e){var t=Or(Vr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Or(Vr).controller.signal}},pc="function"==typeof WeakMap?WeakMap:Map,hc=0,gc=null,yc=null,vc=0,bc=0,xc=null,kc=!1,wc=!1,Sc=!1,Nc=0,Tc=0,Cc=0,_c=0,jc=0,Ec=0,Ac=0,Pc=null,zc=null,Mc=!1,Oc=0,Ic=0,Dc=1/0,Rc=null,Lc=null,Fc=0,Vc=null,Uc=null,qc=0,Wc=0,Bc=null,$c=null,Qc=0,Hc=null;function Zc(){return 2&hc&&0!==vc?vc&-vc:null!==M.T?Bu():Ve()}function Kc(){if(0===Ec)if(536870912&vc&&!mr)Ec=536870912;else{var e=Se;!(3932160&(Se<<=1))&&(Se=262144),Ec=e}return null!==(e=Os.current)&&(e.flags|=32),Ec}function Gc(e,t,n){(e!==gc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(au(e,0),eu(e,vc,Ec,!1)),Oe(e,n),2&hc&&e===gc||(e===gc&&(!(2&hc)&&(_c|=n),4===Tc&&eu(e,vc,Ec,!1)),Ru(e))}function Xc(e,t,n){if(6&hc)throw Error(s(327));for(var a=!n&&!(127&t)&&0===(t&e.expiredLanes)||je(e,t),r=a?function(e,t){var n=hc;hc|=2;var a=iu(),r=ou();gc!==e||vc!==t?(Rc=null,Dc=oe()+500,au(e,t)):wc=je(e,t);e:for(;;)try{if(0!==bc&&null!==yc){t=yc;var i=xc;t:switch(bc){case 1:bc=0,xc=null,pu(e,t,i,1);break;case 2:case 9:if(as(i)){bc=0,xc=null,mu(t);break}t=function(){2!==bc&&9!==bc||gc!==e||(bc=7),Ru(e)},i.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:as(i)?(bc=0,xc=null,mu(t)):(bc=0,xc=null,pu(e,t,i,7));break;case 5:var o=null;switch(yc.tag){case 26:o=yc.memoizedState;case 5:case 27:var l=yc;if(o?of(o):l.stateNode.complete){bc=0,xc=null;var c=l.sibling;if(null!==c)yc=c;else{var u=l.return;null!==u?(yc=u,hu(u)):yc=null}break t}}bc=0,xc=null,pu(e,t,i,5);break;case 6:bc=0,xc=null,pu(e,t,i,6);break;case 8:nu(),Tc=6;break e;default:throw Error(s(462))}}du();break}catch(d){ru(e,d)}return Cr=Tr=null,M.H=a,M.A=r,hc=n,null!==yc?0:(gc=null,vc=0,za(),Tc)}(e,t):cu(e,t,!0),i=a;;){if(0===r){wc&&!a&&eu(e,t,0,!1);break}if(n=e.current.alternate,!i||Jc(n)){if(2===r){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;r=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(au(l,o).flags|=256),2!==(o=cu(l,o,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=i,_c|=i,r=4;break e}i=zc,zc=r,null!==i&&(null===zc?zc=i:zc.push.apply(zc,i))}r=o}if(i=!1,2!==r)continue}}if(1===r){au(e,0),eu(e,t,0,!0);break}e:{switch(a=e,i=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:eu(a,t,Ec,!kc);break e;case 2:zc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=Oc+300-oe())){if(eu(a,t,Ec,!kc),0!==_e(a,0,!0))break e;qc=t,a.timeoutHandle=Sd(Yc.bind(null,a,n,zc,Rc,Mc,t,Ec,_c,Ac,kc,i,"Throttled",-0,0),r)}else Yc(a,n,zc,Rc,Mc,t,Ec,_c,Ac,kc,i,null,-0,0)}break}r=cu(e,t,!1),i=!1}Ru(e)}function Yc(e,t,n,a,r,s,i,o,l,c,u,d,f,m){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){oc(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot});var p=(62914560&s)===s?Oc-oe():(4194048&s)===s?Ic-oe():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&df(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&df(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lf&&(lf=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],s=r.transferSize,i=r.initiatorType,o=r.duration;if(s&&o&&hd(i)){for(i=0,o=r.responseEnd,a+=1;a<n.length;a++){var l=n[a],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&hd(d)&&(i+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--a,t+=8*(s+i)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&df(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}(d,p)))return qc=s,e.cancelPendingCommit=p(yu.bind(null,e,t,s,n,a,r,i,o,l,u,d,null,f,m)),void eu(e,s,i,!c)}yu(e,t,s,n,a,r,i,o,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!ea(s(),r))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t,n,a){t&=~jc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var s=31-be(r),i=1<<s;a[s]=-1,r&=~i}0!==n&&Ie(e,n,t)}function tu(){return!!(6&hc)||(Lu(0),!1)}function nu(){if(null!==yc){if(0===bc)var e=yc.return;else Cr=Tr=null,li(e=yc),cs=null,us=0,e=yc;for(;null!==e;)yl(e.alternate,e),e=e.return;yc=null}}function au(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Nd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc=0,nu(),gc=e,yc=n=qa(e.current,null),vc=t,bc=0,xc=null,kc=!1,wc=je(e,t),Sc=!1,Ac=Ec=jc=_c=Cc=Tc=0,zc=Pc=null,Mc=!1,8&t&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-be(a),s=1<<r;t|=e[r],a&=~s}return Nc=t,za(),n}function ru(e,t){Bs=null,M.H=yo,t===Jr||t===ts?(t=os(),bc=3):t===es?(t=os(),bc=4):bc=t===Oo?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,xc=t,null===yc&&(Tc=1,Eo(e,Ga(t,e.current)))}function su(){var e=Os.current;return null===e||((4194048&vc)===vc?null===Is:!!((62914560&vc)===vc||536870912&vc)&&e===Is)}function iu(){var e=M.H;return M.H=yo,null===e?yo:e}function ou(){var e=M.A;return M.A=mc,e}function lu(){Tc=4,kc||(4194048&vc)!==vc&&null!==Os.current||(wc=!0),!(134217727&Cc)&&!(134217727&_c)||null===gc||eu(gc,vc,Ec,!1)}function cu(e,t,n){var a=hc;hc|=2;var r=iu(),s=ou();gc===e&&vc===t||(Rc=null,au(e,t)),t=!1;var i=Tc;e:for(;;)try{if(0!==bc&&null!==yc){var o=yc,l=xc;switch(bc){case 8:nu(),i=6;break e;case 3:case 2:case 9:case 6:null===Os.current&&(t=!0);var c=bc;if(bc=0,xc=null,pu(e,o,l,c),n&&wc){i=0;break e}break;default:c=bc,bc=0,xc=null,pu(e,o,l,c)}}uu(),i=Tc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Cr=Tr=null,hc=a,M.H=r,M.A=s,null===yc&&(gc=null,vc=0,za()),i}function uu(){for(;null!==yc;)fu(yc)}function du(){for(;null!==yc&&!se();)fu(yc)}function fu(e){var t=ll(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?hu(e):yc=t}function mu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ho(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Ho(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:li(t);default:yl(n,t),t=ll(n,t=yc=Wa(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?hu(e):yc=t}function pu(e,t,n,a){Cr=Tr=null,li(t),cs=null,us=0;var r=t.return;try{if(function(e,t,n,a,r){if(n.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=n.alternate)&&Pr(t,n,r,!0),null!==(n=Os.current)){switch(n.tag){case 31:case 13:return null===Is?lu():null===n.alternate&&0===Tc&&(Tc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===ns?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),Cu(e,a,r)),!1;case 22:return n.flags|=65536,a===ns?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),Cu(e,a,r)),!1}throw Error(s(435,n.tag))}return Cu(e,a,r),lu(),!1}if(mr)return null!==(t=Os.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==gr&&Sr(Ga(e=Error(s(422),{cause:a}),n))):(a!==gr&&Sr(Ga(t=Error(s(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=Ga(a,n),Ss(e,r=Po(e.stateNode,a,r)),4!==Tc&&(Tc=2)),!1;var i=Error(s(520),{cause:a});if(i=Ga(i,n),null===Pc?Pc=[i]:Pc.push(i),4!==Tc&&(Tc=2),null===t)return!0;a=Ga(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,Ss(n,e=Po(n.stateNode,a,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Lc&&Lc.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,Mo(r=zo(r),e,n,a),Ss(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,vc))return Tc=1,Eo(e,Ga(n,e.current)),void(yc=null)}catch(i){if(null!==r)throw yc=r,i;return Tc=1,Eo(e,Ga(n,e.current)),void(yc=null)}32768&t.flags?(mr||1===a?e=!0:wc||536870912&vc?e=!1:(kc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Os.current)&&13===a.tag&&(a.flags|=16384))),gu(t,e)):hu(t)}function hu(e){var t=e;do{if(32768&t.flags)return void gu(t,kc);e=t.return;var n=hl(t.alternate,t,Nc);if(null!==n)return void(yc=n);if(null!==(t=t.sibling))return void(yc=t);yc=t=e}while(null!==t);0===Tc&&(Tc=5)}function gu(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(yc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(yc=e);yc=e=n}while(null!==e);Tc=6,yc=null}function yu(e,t,n,a,r,i,o,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==Fc);if(6&hc)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,a,r,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-be(n),d=1<<u;o[u]=0,l[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var m=f[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==a&&Ie(e,a,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,i|=Pa,o,l,c),e===gc&&(yc=gc=null,vc=0),Uc=t,Vc=e,qc=n,Wc=i,Bc=r,$c=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ae(de,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=M.T,M.T=null,r=O.p,O.p=2,o=hc,hc|=4;try{!function(e,t){if(e=e.containerInfo,gd=wf,ia(e=sa(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(l=o+r),f!==i||0!==a&&3!==f.nodeType||(c=o+a),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===r&&(l=o),m===i&&++d===a&&(c=o),null!==(p=f.nextSibling))break;m=(f=m).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},wf=!1,Il=t;null!==Il;)if(e=(t=Il).child,1028&t.subtreeFlags&&null!==e)e.return=t,Il=e;else for(;null!==Il;){switch(i=(t=Il).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var h=To(n.type,r);e=a.getSnapshotBeforeUpdate(h,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){Tu(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Il=e;break}Il=t.return}}(e,t)}finally{hc=o,O.p=r,M.T=a}}Fc=1,vu(),bu(),xu()}}function vu(){if(1===Fc){Fc=0;var e=Vc,t=Uc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=M.T,M.T=null;var a=O.p;O.p=2;var r=hc;hc|=4;try{Hl(t,e);var s=yd,i=sa(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&ra(o.ownerDocument.documentElement,o)){if(null!==l&&ia(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),p=o.textContent.length,h=Math.min(l.start,p),g=void 0===l.end?h:Math.min(l.end,p);!m.extend&&h>g&&(i=g,g=h,h=i);var y=aa(o,h),v=aa(o,g);if(y&&v&&(1!==m.rangeCount||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),m.removeAllRanges(),h>g?(m.addRange(b),m.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),m.addRange(b))}}}}for(d=[],m=o;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}wf=!!gd,yd=gd=null}finally{hc=r,O.p=a,M.T=n}}e.current=t,Fc=2}}function bu(){if(2===Fc){Fc=0;var e=Vc,t=Uc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=M.T,M.T=null;var a=O.p;O.p=2;var r=hc;hc|=4;try{Dl(e,t.alternate,t)}finally{hc=r,O.p=a,M.T=n}}Fc=3}}function xu(){if(4===Fc||3===Fc){Fc=0,ie();var e=Vc,t=Uc,n=qc,a=$c;10256&t.subtreeFlags||10256&t.flags?Fc=5:(Fc=0,Uc=Vc=null,ku(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Lc=null),Fe(n),t=t.stateNode,ye&&"function"==typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ge,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==a){t=M.T,r=O.p,O.p=2,M.T=null;try{for(var s=e.onRecoverableError,i=0;i<a.length;i++){var o=a[i];s(o.value,{componentStack:o.stack})}}finally{M.T=t,O.p=r}}3&qc&&wu(),Ru(e),r=e.pendingLanes,261930&n&&42&r?e===Hc?Qc++:(Qc=0,Hc=e):Qc=0,Lu(0)}}function ku(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,qr(t)))}function wu(){return vu(),bu(),xu(),Su()}function Su(){if(5!==Fc)return!1;var e=Vc,t=Wc;Wc=0;var n=Fe(qc),a=M.T,r=O.p;try{O.p=32>n?32:n,M.T=null,n=Bc,Bc=null;var i=Vc,o=qc;if(Fc=0,Uc=Vc=null,qc=0,6&hc)throw Error(s(331));var l=hc;if(hc|=4,uc(i.current),nc(i,i.current,o,n),hc=l,Lu(0,!1),ye&&"function"==typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ge,i)}catch(c){}return!0}finally{O.p=r,M.T=a,ku(e,t)}}function Nu(e,t,n){t=Ga(n,t),null!==(e=ks(e,t=Po(e.stateNode,t,2),2))&&(Oe(e,2),Ru(e))}function Tu(e,t,n){if(3===e.tag)Nu(e,e,n);else for(;null!==t;){if(3===t.tag){Nu(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Lc||!Lc.has(a))){e=Ga(n,e),null!==(a=ks(t,n=zo(2),2))&&(Mo(n,a,t,e),Oe(a,2),Ru(a));break}}t=t.return}}function Cu(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new pc;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(Sc=!0,r.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function _u(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(vc&n)===n&&(4===Tc||3===Tc&&(62914560&vc)===vc&&300>oe()-Oc?!(2&hc)&&au(e,0):jc|=n,Ac===vc&&(Ac=0)),Ru(e)}function ju(e,t){0===t&&(t=Pe()),null!==(e=Ia(e,t))&&(Oe(e,t),Ru(e))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ju(e,n)}function Au(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==a&&a.delete(t),ju(e,n)}var Pu=null,zu=null,Mu=!1,Ou=!1,Iu=!1,Du=0;function Ru(e){e!==zu&&null===e.next&&(null===zu?Pu=zu=e:zu=zu.next=e),Ou=!0,Mu||(Mu=!0,Cd(function(){6&hc?ae(ce,Fu):Vu()}))}function Lu(e,t){if(!Iu&&Ou){Iu=!0;do{for(var n=!1,a=Pu;null!==a;){if(0!==e){var r=a.pendingLanes;if(0===r)var s=0;else{var i=a.suspendedLanes,o=a.pingedLanes;s=(1<<31-be(42|e)+1)-1,s=201326741&(s&=r&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Wu(a,s))}else s=vc,!(3&(s=_e(a,a===gc?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||je(a,s)||(n=!0,Wu(a,s));a=a.next}}while(n);Iu=!1}}function Fu(){Vu()}function Vu(){Ou=Mu=!1;var e=0;0!==Du&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=Du);for(var t=oe(),n=null,a=Pu;null!==a;){var r=a.next,s=Uu(a,t);0===s?(a.next=null,null===n?Pu=r:n.next=r,null===r&&(zu=n)):(n=a,(0!==e||3&s)&&(Ou=!0)),a=r}0!==Fc&&5!==Fc||Lu(e),0!==Du&&(Du=0)}function Uu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-be(s),o=1<<i,l=r[i];-1===l?0!==(o&n)&&0===(o&a)||(r[i]=Ee(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=vc,n=_e(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&re(a),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||je(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&re(a),Fe(n)){case 2:case 8:n=ue;break;case 32:default:n=de;break;case 268435456:n=me}return a=qu.bind(null,e),n=ae(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&re(a),e.callbackPriority=2,e.callbackNode=null,2}function qu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var a=vc;return 0===(a=_e(e,e===gc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,a,t),Uu(e,oe()),null!=e.callbackNode&&e.callbackNode===n?qu.bind(null,e):null)}function Wu(e,t){if(wu())return null;Xc(e,t,!0)}function Bu(){if(0===Du){var e=$r;0===e&&(e=we,!(261888&(we<<=1))&&(we=256)),Du=e}return Du}function $u(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Mt(""+e)}function Qu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hu=0;Hu<Ca.length;Hu++){var Zu=Ca[Hu];_a(Zu.toLowerCase(),"on"+(Zu[0].toUpperCase()+Zu.slice(1)))}_a(va,"onAnimationEnd"),_a(ba,"onAnimationIteration"),_a(xa,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(ka,"onTransitionRun"),_a(wa,"onTransitionStart"),_a(Sa,"onTransitionCancel"),_a(Na,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function Xu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(u){ja(u)}r.currentTarget=null,s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(u){ja(u)}r.currentTarget=null,s=l}}}}function Yu(e,t){var n=t[Qe];void 0===n&&(n=t[Qe]=new Set);var a=e+"__bubble";n.has(a)||(nd(t,e,2,!1),n.add(a))}function Ju(e,t,n){var a=0;t&&(a|=4),nd(n,e,a,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ed]){e[ed]=!0,at.forEach(function(t){"selectionchange"!==t&&(Gu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ed]||(t[ed]=!0,Ju("selectionchange",!1,t))}}function nd(e,t,n,a){switch(Ef(t)){case 2:var r=Sf;break;case 8:r=Nf;break;default:r=Tf}n=r.bind(null,t,n,e),r=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ad(e,t,n,a,r){var s=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var l=a.stateNode.containerInfo;if(l===r)break;if(4===i)for(i=a.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===r)return;i=i.return}for(;null!==l;){if(null===(i=Ye(l)))return;if(5===(c=i.tag)||6===c||26===c||27===c){a=s=i;continue e}l=l.parentNode}}a=a.return}Ut(function(){var a=s,r=Dt(n),i=[];e:{var l=Ta.get(e);if(void 0!==l){var c=rn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":u="focus",c=dn;break;case"focusout":u="blur",c=dn;break;case"beforeblur":case"afterblur":c=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case va:case ba:case xa:c=fn;break;case Na:c=Sn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=kn;break;case"toggle":case"beforetoggle":c=Tn}var d=!!(4&t),f=!d&&("scroll"===e||"scrollend"===e),m=d?null!==l?l+"Capture":null:l;d=[];for(var p,h=a;null!==h;){var g=h;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===m||null!=(g=qt(h,m))&&d.push(rd(h,g,p)),f)break;h=h.return}0<d.length&&(l=new c(l,u,null,n,r),i.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[$e])&&(c||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(f=o(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=cn,g="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=kn,g="onPointerLeave",m="onPointerEnter",h="pointer"),f=null==c?l:et(c),p=null==u?l:et(u),(l=new d(g,h+"leave",c,n,r)).target=f,l.relatedTarget=p,g=null,Ye(r)===a&&((d=new d(m,h+"enter",u,n,r)).target=p,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(d=id,h=u,p=0,g=m=c;g;g=d(g))p++;g=0;for(var y=h;y;y=d(y))g++;for(;0<p-g;)m=d(m),p--;for(;0<g-p;)h=d(h),g--;for(;p--;){if(m===h||null!==h&&m===h.alternate){d=m;break e}m=d(m),h=d(h)}d=null}else d=null;null!==c&&od(i,l,c,d,!1),null!==u&&null!==f&&od(i,f,u,d,!0)}if("select"===(c=(l=a?et(a):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=Wn;else if(Rn(l))if(Bn)v=Jn;else{v=Xn;var b=Gn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?a&&At(a.elementType)&&(v=Wn):v=Yn;switch(v&&(v=v(e,a))?Ln(i,v,n,r):(b&&b(e,l,a),"focusout"===e&&a&&"number"===l.type&&null!=a.memoizedProps.value&&wt(l,"number",l.value)),b=a?et(a):window,e){case"focusin":(Rn(b)||"true"===b.contentEditable)&&(la=b,ca=a,ua=null);break;case"focusout":ua=ca=la=null;break;case"mousedown":da=!0;break;case"contextmenu":case"mouseup":case"dragend":da=!1,fa(i,n,r);break;case"selectionchange":if(oa)break;case"keydown":case"keyup":fa(i,n,r)}var x;if(_n)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else In?Mn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(An&&"ko"!==n.locale&&(In||"onCompositionStart"!==k?"onCompositionEnd"===k&&In&&(x=Kt()):(Ht="value"in(Qt=r)?Qt.value:Qt.textContent,In=!0)),0<(b=sd(a,k)).length&&(k=new pn(k,e,null,n,r),i.push({event:k,listeners:b}),x?k.data=x:null!==(x=On(n))&&(k.data=x))),(x=En?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(zn=!0,Pn);case"textInput":return(e=t.data)===Pn&&zn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!_n&&Mn(e,t)?(e=Kt(),Zt=Ht=Qt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=sd(a,"onBeforeInput")).length&&(b=new pn("onBeforeInput","beforeinput",null,n,r),i.push({event:b,listeners:k}),b.data=x)),function(e,t,n,a,r){if("submit"===t&&n&&n.stateNode===r){var s=$u((r[Be]||null).action),i=a.submitter;i&&null!==(t=(t=i[Be]||null)?$u(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new rn("action","action",null,a,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Du){var e=i?Qu(r,i):new FormData(r);no(n,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=i?Qu(r,i):new FormData(r),no(n,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(i,e,a,n,r)}Xu(i,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sd(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=qt(e,n))&&a.unshift(rd(e,r,s)),null!=(r=qt(e,t))&&a.push(rd(e,r,s))),3===e.tag)return a;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,a,r){for(var s=t._reactName,i=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===a)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=qt(n,s))&&i.unshift(rd(n,c,l)):r||null!=(c=qt(n,s))&&i.push(rd(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var ld=/\r\n?/g,cd=/\u0000|\uFFFD/g;function ud(e){return("string"==typeof e?e:""+e).replace(ld,"\n").replace(cd,"")}function dd(e,t){return t=ud(t),ud(e)===t}function fd(e,t,n,a,r,i){switch(n){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||Ct(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&Ct(e,""+a);break;case"className":dt(e,"class",a);break;case"tabIndex":dt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":dt(e,n,a);break;case"style":Et(e,a,i);break;case"data":if("object"!==t){dt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Mt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&fd(e,t,"name",r.name,r,null),fd(e,t,"formEncType",r.formEncType,r,null),fd(e,t,"formMethod",r.formMethod,r,null),fd(e,t,"formTarget",r.formTarget,r,null)):(fd(e,t,"encType",r.encType,r,null),fd(e,t,"method",r.method,r,null),fd(e,t,"target",r.target,r,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Mt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Ot);break;case"onScroll":null!=a&&Yu("scroll",e);break;case"onScrollEnd":null!=a&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}n=Mt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),ut(e,"popover",a);break;case"xlinkActuate":ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ft(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ft(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ft(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ft(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ut(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ut(e,n=Pt.get(n)||n,a)}}function md(e,t,n,a,r,i){switch(n){case"style":Et(e,a,i);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof a?Ct(e,a):("number"==typeof a||"bigint"==typeof a)&&Ct(e,""+a);break;case"onScroll":null!=a&&Yu("scroll",e);break;case"onScrollEnd":null!=a&&Yu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(i=null!=(i=e[Be]||null)?i[n]:null)&&e.removeEventListener(t,i,r),"function"!=typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):ut(e,n,a):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var a,r=!1,i=!1;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(null!=o)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:fd(e,t,a,o,n,null)}}return i&&fd(e,t,"srcSet",n.srcSet,n,null),void(r&&fd(e,t,"src",n.src,n,null));case"input":Yu("invalid",e);var l=a=o=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:fd(e,t,r,d,n,null)}}return void kt(e,a,l,c,u,o,i,!1);case"select":for(i in Yu("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":a=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:fd(e,t,i,l,n,null)}return t=a,n=o,e.multiple=!!r,void(null!=t?St(e,!!r,t,!1):null!=n&&St(e,!!r,n,!0));case"textarea":for(o in Yu("invalid",e),a=i=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:fd(e,t,o,l,n,null)}return void Tt(e,r,i,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r;else fd(e,t,c,r,n,null);return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(r=0;r<Ku.length;r++)Yu(Ku[r],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:fd(e,t,u,r,n,null)}return;default:if(At(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&md(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&fd(e,t,l,r,n,null))}function hd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,yd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function bd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function kd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var Sd="function"==typeof setTimeout?setTimeout:void 0,Nd="function"==typeof clearTimeout?clearTimeout:void 0,Td="function"==typeof Promise?Promise:void 0,Cd="function"==typeof queueMicrotask?queueMicrotask:void 0!==Td?function(e){return Td.resolve(null).then(e).catch(_d)}:Sd;function _d(e){setTimeout(function(){throw e})}function jd(e){return"head"===e}function Ed(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===a)return e.removeChild(r),void Hf(t);a--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)a++;else if("html"===n)Vd(e.ownerDocument.documentElement);else if("head"===n){Vd(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[Ge]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}else"body"===n&&Vd(e.ownerDocument.body);n=r}while(n);Hf(t)}function Ad(e,t){var n=e;e=0;do{var a=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=a}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),Xe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function zd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Id(e.nextSibling)))return null}return e}function Md(e){return"$?"===e.data||"$~"===e.data}function Od(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Id(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dd=null;function Rd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Id(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Vd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xe(e)}var Ud=new Map,qd=new Set;function Wd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bd=O.d;O.d={f:function(){var e=Bd.f(),t=tu();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):Bd.r(e)},D:function(e){Bd.D(e),Qd("dns-prefetch",e,null)},C:function(e,t){Bd.C(e,t),Qd("preconnect",e,t)},L:function(e,t,n){Bd.L(e,t,n);var a=$d;if(a&&e&&t){var r='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+bt(n.imageSizes)+'"]')):r+='[href="'+bt(e)+'"]';var s=r;switch(t){case"style":s=Zd(e);break;case"script":s=Xd(e)}Ud.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(s,e),null!==a.querySelector(r)||"style"===t&&a.querySelector(Kd(s))||"script"===t&&a.querySelector(Yd(s))||(pd(t=a.createElement("link"),"link",e),nt(t),a.head.appendChild(t)))}},m:function(e,t){Bd.m(e,t);var n=$d;if(n&&e){var a=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+bt(a)+'"][href="'+bt(e)+'"]',s=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xd(e)}if(!Ud.has(s)&&(e=f({rel:"modulepreload",href:e},t),Ud.set(s,e),null===n.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yd(s)))return}pd(a=n.createElement("link"),"link",e),nt(a),n.head.appendChild(a)}}},X:function(e,t){Bd.X(e,t);var n=$d;if(n&&e){var a=tt(n).hoistableScripts,r=Xd(e),s=a.get(r);s||((s=n.querySelector(Yd(r)))||(e=f({src:e,async:!0},t),(t=Ud.get(r))&&nf(e,t),nt(s=n.createElement("script")),pd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}},S:function(e,t,n){Bd.S(e,t,n);var a=$d;if(a&&e){var r=tt(a).hoistableStyles,s=Zd(e);t=t||"default";var i=r.get(s);if(!i){var o={loading:0,preload:null};if(i=a.querySelector(Kd(s)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(s))&&tf(e,n);var l=i=a.createElement("link");nt(l),pd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ef(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:o},r.set(s,i)}}},M:function(e,t){Bd.M(e,t);var n=$d;if(n&&e){var a=tt(n).hoistableScripts,r=Xd(e),s=a.get(r);s||((s=n.querySelector(Yd(r)))||(e=f({src:e,async:!0,type:"module"},t),(t=Ud.get(r))&&nf(e,t),nt(s=n.createElement("script")),pd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}};var $d="undefined"==typeof document?null:document;function Qd(e,t,n){var a=$d;if(a&&"string"==typeof t&&t){var r=bt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),qd.has(r)||(qd.add(r),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(r)&&(pd(t=a.createElement("link"),"link",e),nt(t),a.head.appendChild(t)))}}function Hd(e,t,n,a){var r,i,o,l,c=(c=$.current)?Wd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Zd(n.href),(a=(n=tt(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Zd(n.href);var u=tt(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Kd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(r=c,i=e,o=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),pd(i,"link",o),nt(i),r.head.appendChild(i))))),t&&null===a)throw Error(s(528,""));return d}if(t&&null!==a)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Xd(n),(a=(n=tt(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Zd(e){return'href="'+bt(e)+'"'}function Kd(e){return'link[rel="stylesheet"]['+e+"]"}function Gd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+bt(e)+'"]'}function Yd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(a)return t.instance=a,nt(a),a;var r=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(a=(e.ownerDocument||e).createElement("style")),pd(a,"style",r),ef(a,n.precedence,e),t.instance=a;case"stylesheet":r=Zd(n.href);var i=e.querySelector(Kd(r));if(i)return t.state.loading|=4,t.instance=i,nt(i),i;a=Gd(n),(r=Ud.get(r))&&tf(a,r),nt(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pd(i,"link",a),t.state.loading|=4,ef(i,n.precedence,e),t.instance=i;case"script":return i=Xd(n.src),(r=e.querySelector(Yd(i)))?(t.instance=r,nt(r),r):(a=n,(r=Ud.get(i))&&nf(a=f({},n),r),nt(r=(e=e.ownerDocument||e).createElement("script")),pd(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,ef(a,n.precedence,e));return t.instance}function ef(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,s=r,i=0;i<a.length;i++){var o=a[i];if(o.dataset.precedence===t)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function tf(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nf(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var af=null;function rf(e,t,n){if(null===af){var a=new Map,r=af=new Map;r.set(n,a)}else(a=(r=af).get(n))||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Ge]||s[We]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=a.get(i);o?o.push(s):a.set(i,[s])}}return a}function sf(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function of(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var lf=0;function cf(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var uf=null;function df(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,uf=new Map,t.forEach(ff,e),uf=null,cf.call(e))}function ff(e,t){if(!(4&t.state.loading)){var n=uf.get(e);if(n)var a=n.get(null);else{n=new Map,uf.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var i=r[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),a=i)}a&&n.set(null,a)}i=(r=t.instance).getAttribute("data-precedence"),(s=n.get(i)||a)===a&&n.set(null,r),n.set(i,r),this.count++,a=cf.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var mf={$$typeof:x,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function pf(e,t,n,a,r,s,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hf(e,t,n,a,r,s,i,o,l,c,u,d){return e=new pf(e,t,n,i,l,c,u,d,o),t=1,!0===s&&(t|=24),s=Va(3,null,null,t),e.current=s,s.stateNode=e,(t=Ur()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},vs(s),e}function gf(e){return e?e=La:La}function yf(e,t,n,a,r,s){r=gf(r),null===a.context?a.context=r:a.pendingContext=r,(a=xs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(n=ks(e,a,t))&&(Gc(n,0,t),ws(n,e,t))}function vf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function bf(e,t){vf(e,t),(e=e.alternate)&&vf(e,t)}function xf(e){if(13===e.tag||31===e.tag){var t=Ia(e,67108864);null!==t&&Gc(t,0,67108864),bf(e,67108864)}}function kf(e){if(13===e.tag||31===e.tag){var t=Zc(),n=Ia(e,t=Le(t));null!==n&&Gc(n,0,t),bf(e,t)}}var wf=!0;function Sf(e,t,n,a){var r=M.T;M.T=null;var s=O.p;try{O.p=2,Tf(e,t,n,a)}finally{O.p=s,M.T=r}}function Nf(e,t,n,a){var r=M.T;M.T=null;var s=O.p;try{O.p=8,Tf(e,t,n,a)}finally{O.p=s,M.T=r}}function Tf(e,t,n,a){if(wf){var r=Cf(a);if(null===r)ad(e,t,a,_f,n),Lf(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Pf=Ff(Pf,e,t,n,a,r),!0;case"dragenter":return zf=Ff(zf,e,t,n,a,r),!0;case"mouseover":return Mf=Ff(Mf,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return Of.set(s,Ff(Of.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,If.set(s,Ff(If.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Lf(e,a),4&t&&-1<Rf.indexOf(e)){for(;null!==r;){var s=Je(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=Te(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-be(i);o.entanglements[1]|=l,i&=~l}Ru(s),!(6&hc)&&(Dc=oe()+500,Lu(0))}}break;case 31:case 13:null!==(o=Ia(s,2))&&Gc(o,0,2),tu(),bf(s,2)}if(null===(s=Cf(a))&&ad(e,t,a,_f,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else ad(e,t,a,null,n)}}function Cf(e){return jf(e=Dt(e))}var _f=null;function jf(e){if(_f=null,null!==(e=Ye(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _f=e,null}function Ef(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ce:return 2;case ue:return 8;case de:case fe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Af=!1,Pf=null,zf=null,Mf=null,Of=new Map,If=new Map,Df=[],Rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lf(e,t){switch(e){case"focusin":case"focusout":Pf=null;break;case"dragenter":case"dragleave":zf=null;break;case"mouseover":case"mouseout":Mf=null;break;case"pointerover":case"pointerout":Of.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":If.delete(t.pointerId)}}function Ff(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=Je(t))&&xf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Vf(e){var t=Ye(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Ue(e.priority,function(){kf(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){kf(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Uf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cf(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&xf(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);It=a,n.target.dispatchEvent(a),It=null,t.shift()}return!0}function qf(e,t,n){Uf(e)&&n.delete(t)}function Wf(){Af=!1,null!==Pf&&Uf(Pf)&&(Pf=null),null!==zf&&Uf(zf)&&(zf=null),null!==Mf&&Uf(Mf)&&(Mf=null),Of.forEach(qf),If.forEach(qf)}function Bf(t,n){t.blockedOn===n&&(t.blockedOn=null,Af||(Af=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wf)))}var $f=null;function Qf(t){$f!==t&&($f=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$f===t&&($f=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],r=t[e+2];if("function"!=typeof a){if(null===jf(a||n))continue;break}var s=Je(n);null!==s&&(t.splice(e,3),e-=3,no(s,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Hf(e){function t(t){return Bf(t,e)}null!==Pf&&Bf(Pf,e),null!==zf&&Bf(zf,e),null!==Mf&&Bf(Mf,e),Of.forEach(t),If.forEach(t);for(var n=0;n<Df.length;n++){var a=Df[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Df.length&&null===(n=Df[0]).blockedOn;)Vf(n),null===n.blockedOn&&Df.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var r=n[a],s=n[a+1],i=r[Be]||null;if("function"==typeof s)i||Qf(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,i=s[Be]||null)o=i.formAction;else if(null!==jf(r))continue}else o=i.action;"function"==typeof o?n[a+1]=o:(n.splice(a,3),a-=3),Qf(n)}}}function Zf(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Kf(e){this._internalRoot=e}function Gf(e){this._internalRoot=e}Gf.prototype.render=Kf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));yf(t.current,Zc(),e,t,null,null)},Gf.prototype.unmount=Kf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yf(e.current,2,null,e,null,null),tu(),t[$e]=null}},Gf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ve();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Df.length&&0!==t&&t<Df[n].priority;n++);Df.splice(n,0,e),0===n&&Vf(e)}};var Xf=t.version;if("19.2.0"!==Xf)throw Error(s(527,Xf,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(a=r.return)){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return u(r),e;if(i===a)return u(r),t;i=i.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=i;else{for(var l=!1,c=r.child;c;){if(c===n){l=!0,n=r,a=i;break}if(c===a){l=!0,a=r,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,a=r;break}if(c===a){l=!0,a=i,n=r;break}c=c.sibling}if(!l)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Yf={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{ge=Jf.inject(Yf),ye=Jf}catch(tm){}}return Ae.createRoot=function(e,t){if(!i(e))throw Error(s(299));var n=!1,a="",r=Co,o=_o,l=jo;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hf(e,1,!1,null,0,n,a,null,r,o,l,Zf),e[$e]=t.current,td(e),new Kf(t)},Ae.hydrateRoot=function(e,t,n){if(!i(e))throw Error(s(299));var a=!1,r="",o=Co,l=_o,c=jo,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hf(e,1,!0,t,0,a,r,u,o,l,c,Zf)).context=gf(null),n=t.current,(r=xs(a=Le(a=Zc()))).callback=null,ks(n,r,a),n=a,t.current.lanes=n,Oe(t,n),Ru(t),e[$e]=t.current,td(e),new Gf(t)},Ae.version="19.2.0",Ae}var Ie=(_e||(_e=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Ee.exports=Oe()),Ee.exports);const De=()=>r(),Re=s,Le={hp:{current:38,max:38,temp:0},hitDice:{current:5,max:5,size:8},baseAC:13,dc:14,profBonus:3,level:5,savingThrowProficiencies:["wis","cha"],deathSaves:{successes:0,failures:0},abilities:{str:8,dex:14,con:14,int:10,wis:12,cha:16},abilityMods:{str:-1,dex:2,con:2,int:0,wis:1,cha:3},skills:{acrobatics:{name:"Acrobatics",attr:"dex",prof:!1},animalHandling:{name:"Animal Handling",attr:"wis",prof:!1},arcana:{name:"Arcana",attr:"int",prof:!0},athletics:{name:"Athletics",attr:"str",prof:!1},deception:{name:"Deception",attr:"cha",prof:!0},history:{name:"History",attr:"int",prof:!1},insight:{name:"Insight",attr:"wis",prof:!1},intimidation:{name:"Intimidation",attr:"cha",prof:!0},investigation:{name:"Investigation",attr:"int",prof:!1},medicine:{name:"Medicine",attr:"wis",prof:!1},nature:{name:"Nature",attr:"int",prof:!1},perception:{name:"Perception",attr:"wis",prof:!1},performance:{name:"Performance",attr:"cha",prof:!1},persuasion:{name:"Persuasion",attr:"cha",prof:!1},religion:{name:"Religion",attr:"int",prof:!1},sleightOfHand:{name:"Sleight of Hand",attr:"dex",prof:!1},stealth:{name:"Stealth",attr:"dex",prof:!1},survival:{name:"Survival",attr:"wis",prof:!1}},concentration:null,attunement:[],inventory:[{name:"Pact Rapier",type:"weapon",equipped:!0,weaponStats:{damage:"1d8",damageType:"Piercing",bonus:1,properties:["Finesse"],isPactWeapon:!0},description:"A sleek black rod that transforms into a rapier of shadow."},{name:"Studded Leather",type:"armor",equipped:!0,armorStats:{baseAC:12},description:"Reinforced leather armor with dark steel studs."},{name:"Dungeoneer's Pack"}],preparedSpells:[],slots:{1:{used:0,max:0},2:{used:0,max:0},3:{used:0,max:0},4:{used:0,max:0},5:{used:0,max:0},6:{used:0,max:0},7:{used:0,max:0},8:{used:0,max:0},9:{used:0,max:0}},mageArmour:!1,shield:!1,pactSlots:{current:2,max:2,level:3},cantripsKnown:["Eldritch Blast","Minor Illusion","Prestidigitation"],spellsKnown:["Hex","Armor of Agathys","Hellish Rebuke","Misty Step","Hold Person","Darkness"],arcanum:{},invocations:[{id:"agonizing-blast",name:"Agonizing Blast",description:"Add CHA modifier to Eldritch Blast damage.",active:!0},{id:"devils-sight",name:"Devil's Sight",description:"See normally in darkness (magical and nonmagical) to 120 ft.",active:!0},{id:"repelling-blast",name:"Repelling Blast",description:"Push creature 10 ft when hit by Eldritch Blast.",active:!0}],pactBoon:{type:"blade",pactWeapon:{name:"Pact Blade",type:"longsword"}},patron:{name:"The Fiend",features:["Dark One's Blessing","Dark One's Own Luck"]},transformed:null};var Fe,Ve,Ue;(Ve=Fe||(Fe={})).assertEqual=e=>e,Ve.assertIs=function(e){},Ve.assertNever=function(e){throw new Error},Ve.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},Ve.getValidEnumValues=e=>{const t=Ve.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(const a of t)n[a]=e[a];return Ve.objectValues(n)},Ve.objectValues=e=>Ve.objectKeys(e).map(function(t){return e[t]}),Ve.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},Ve.find=(e,t)=>{for(const n of e)if(t(n))return n},Ve.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,Ve.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},Ve.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(Ue||(Ue={})).mergeShapes=(e,t)=>({...e,...t});const qe=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),We=e=>{switch(typeof e){case"undefined":return qe.undefined;case"string":return qe.string;case"number":return isNaN(e)?qe.nan:qe.number;case"boolean":return qe.boolean;case"function":return qe.function;case"bigint":return qe.bigint;case"symbol":return qe.symbol;case"object":return Array.isArray(e)?qe.array:null===e?qe.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?qe.promise:"undefined"!=typeof Map&&e instanceof Map?qe.map:"undefined"!=typeof Set&&e instanceof Set?qe.set:"undefined"!=typeof Date&&e instanceof Date?qe.date:qe.object;default:return qe.unknown}},Be=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $e extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},a=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(a);else if("invalid_return_type"===r.code)a(r.returnTypeError);else if("invalid_arguments"===r.code)a(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,a=0;for(;a<r.path.length;){const n=r.path[a];a===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(this),n}static assert(e){if(!(e instanceof $e))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}$e.create=e=>new $e(e);const Qe=(e,t)=>{let n;switch(e.code){case Be.invalid_type:n=e.received===qe.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Fe.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(e.keys,", ")}`;break;case Be.invalid_union:n="Invalid input";break;case Be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(e.options)}`;break;case Be.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(e.options)}, received '${e.received}'`;break;case Be.invalid_arguments:n="Invalid function arguments";break;case Be.invalid_return_type:n="Invalid function return type";break;case Be.invalid_date:n="Invalid date";break;case Be.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Fe.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Be.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Be.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Be.custom:n="Invalid input";break;case Be.invalid_intersection_types:n="Intersection results could not be merged";break;case Be.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Be.not_finite:n="Number must be finite";break;default:n=t.defaultError,Fe.assertNever(e)}return{message:n}};let He=Qe;function Ze(){return He}const Ke=e=>{const{data:t,path:n,errorMaps:a,issueData:r}=e,s=[...n,...r.path||[]],i={...r,path:s};if(void 0!==r.message)return{...r,path:s,message:r.message};let o="";const l=a.filter(e=>!!e).slice().reverse();for(const c of l)o=c(i,{data:t,defaultError:o}).message;return{...r,path:s,message:o}};function Ge(e,t){const n=Ze(),a=Ke({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Qe?void 0:Qe].filter(e=>!!e)});e.common.issues.push(a)}class Xe{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const a of t){if("aborted"===a.status)return Ye;"dirty"===a.status&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const a of t){const e=await a.key,t=await a.value;n.push({key:e,value:t})}return Xe.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const a of t){const{key:t,value:r}=a;if("aborted"===t.status)return Ye;if("aborted"===r.status)return Ye;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"===t.value||void 0===r.value&&!a.alwaysSet||(n[t.value]=r.value)}return{status:e.value,value:n}}}const Ye=Object.freeze({status:"aborted"}),Je=e=>({status:"dirty",value:e}),et=e=>({status:"valid",value:e}),tt=e=>"aborted"===e.status,nt=e=>"dirty"===e.status,at=e=>"valid"===e.status,rt=e=>"undefined"!=typeof Promise&&e instanceof Promise;function st(e,t,n,a){if("function"==typeof t||!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function it(e,t,n,a,r){if("function"==typeof t||!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var ot,lt,ct,ut;"function"==typeof SuppressedError&&SuppressedError,(lt=ot||(ot={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},lt.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class dt{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ft=(e,t)=>{if(at(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new $e(e.common.issues);return this._error=t,this._error}}};function mt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:r}=e;if(t&&(n||a))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:r};return{errorMap:(t,r)=>{var s,i;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:r.defaultError}:void 0===r.data?{message:null!==(s=null!=o?o:a)&&void 0!==s?s:r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:null!==(i=null!=o?o:n)&&void 0!==i?i:r.defaultError}},description:r}}class pt{get description(){return this._def.description}_getType(e){return We(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:We(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xe,ctx:{common:e.parent.common,data:e.data,parsedType:We(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(rt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const a={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:We(e)},r=this._parseSync({data:e,path:a.path,parent:a});return ft(a,r)}"~validate"(e){var t,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:We(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:a});return at(t)?{value:t.value}:{issues:a.common.issues}}catch(r){(null===(n=null===(t=null==r?void 0:r.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(e=>at(e)?{value:e.value}:{issues:a.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:We(e)},a=this._parse({data:e,path:n.path,parent:n}),r=await(rt(a)?a:Promise.resolve(a));return ft(n,r)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,a)=>{const r=e(t),s=()=>a.addIssue({code:Be.custom,...n(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then(e=>!!e||(s(),!1)):!!r||(s(),!1)})}refinement(e,t){return this._refinement((n,a)=>!!e(n)||(a.addIssue("function"==typeof t?t(n,a):t),!1))}_refinement(e){return new yn({schema:this,typeName:En.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return vn.create(this,this._def)}nullable(){return bn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xt.create(this)}promise(){return gn.create(this,this._def)}or(e){return en.create([this,e],this._def)}and(e){return rn.create(this,e,this._def)}transform(e){return new yn({...mt(this._def),schema:this,typeName:En.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new xn({...mt(this._def),innerType:this,defaultValue:t,typeName:En.ZodDefault})}brand(){return new Nn({typeName:En.ZodBranded,type:this,...mt(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new kn({...mt(this._def),innerType:this,catchValue:t,typeName:En.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Tn.create(this,e)}readonly(){return Cn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ht=/^c[^\s-]{8,}$/i,gt=/^[0-9a-z]+$/,yt=/^[0-9A-HJKMNP-TV-Z]{26}$/i,vt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bt=/^[a-z0-9_-]{21}$/i,xt=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let St;const Nt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Tt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ct=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jt=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Et=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,At="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pt=new RegExp(`^${At}$`);function zt(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Mt(e){return new RegExp(`^${zt(e)}$`)}function Ot(e){let t=`${At}T${zt(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function It(e,t){return!("v4"!==t&&t||!Nt.test(e))||!("v6"!==t&&t||!Ct.test(e))}function Dt(e,t){if(!xt.test(e))return!1;try{const[n]=e.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(a));return"object"==typeof r&&null!==r&&(!(!r.typ||!r.alg)&&(!t||r.alg===t))}catch(n){return!1}}function Rt(e,t){return!("v4"!==t&&t||!Tt.test(e))||!("v6"!==t&&t||!_t.test(e))}class Lt extends pt{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==qe.string){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.string,received:t.parsedType}),Ye}const t=new Xe;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,s=e.data.length<r.value;(a||s)&&(n=this._getOrReturnCtx(e,n),a?Ge(n,{code:Be.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):s&&Ge(n,{code:Be.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)wt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"email",code:Be.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)St||(St=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),St.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"emoji",code:Be.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)vt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"uuid",code:Be.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)bt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"nanoid",code:Be.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)ht.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"cuid",code:Be.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)gt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"cuid2",code:Be.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)yt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"ulid",code:Be.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(a){n=this._getOrReturnCtx(e,n),Ge(n,{validation:"url",code:Be.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"regex",code:Be.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){Ot(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){Pt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){Mt(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?kt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"duration",code:Be.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?It(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"ip",code:Be.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?Dt(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"jwt",code:Be.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?Rt(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"cidr",code:Be.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?jt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"base64",code:Be.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?Et.test(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{validation:"base64url",code:Be.invalid_string,message:r.message}),t.dirty()):Fe.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:Be.invalid_string,...ot.errToObj(n)})}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ot.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ot.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ot.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ot.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ot.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ot.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ot.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ot.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ot.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ot.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ot.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ot.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ot.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...ot.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...ot.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ot.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ot.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...ot.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ot.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ot.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ot.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ot.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ot.errToObj(t)})}nonempty(e){return this.min(1,ot.errToObj(e))}trim(){return new Lt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Lt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Lt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ft(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,r=n>a?n:a;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}Lt.create=e=>{var t;return new Lt({checks:[],typeName:En.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...mt(e)})};class Vt extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==qe.number){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.number,received:t.parsedType}),Ye}let t;const n=new Xe;for(const a of this._def.checks)if("int"===a.kind)Fe.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Ge(t,{code:Be.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty());else if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),Ge(t,{code:Be.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),Ge(t,{code:Be.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else"multipleOf"===a.kind?0!==Ft(e.data,a.value)&&(t=this._getOrReturnCtx(e,t),Ge(t,{code:Be.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Ge(t,{code:Be.not_finite,message:a.message}),n.dirty()):Fe.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ot.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ot.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ot.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ot.toString(t))}setLimit(e,t,n,a){return new Vt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ot.toString(a)}]})}_addCheck(e){return new Vt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ot.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ot.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ot.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ot.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ot.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&Fe.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Vt.create=e=>new Vt({checks:[],typeName:En.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...mt(e)});class Ut extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(a){return this._getInvalidInput(e)}if(this._getType(e)!==qe.bigint)return this._getInvalidInput(e);let t;const n=new Xe;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ge(t,{code:Be.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ge(t,{code:Be.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Ge(t,{code:Be.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Fe.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.bigint,received:t.parsedType}),Ye}gte(e,t){return this.setLimit("min",e,!0,ot.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ot.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ot.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ot.toString(t))}setLimit(e,t,n,a){return new Ut({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ot.toString(a)}]})}_addCheck(e){return new Ut({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ut.create=e=>{var t;return new Ut({checks:[],typeName:En.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...mt(e)})};class qt extends pt{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==qe.boolean){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.boolean,received:t.parsedType}),Ye}return et(e.data)}}qt.create=e=>new qt({typeName:En.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...mt(e)});class Wt extends pt{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==qe.date){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.date,received:t.parsedType}),Ye}if(isNaN(e.data.getTime())){return Ge(this._getOrReturnCtx(e),{code:Be.invalid_date}),Ye}const t=new Xe;let n;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),t.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:Be.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),t.dirty()):Fe.assertNever(a);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ot.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ot.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Wt.create=e=>new Wt({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:En.ZodDate,...mt(e)});class Bt extends pt{_parse(e){if(this._getType(e)!==qe.symbol){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.symbol,received:t.parsedType}),Ye}return et(e.data)}}Bt.create=e=>new Bt({typeName:En.ZodSymbol,...mt(e)});class $t extends pt{_parse(e){if(this._getType(e)!==qe.undefined){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.undefined,received:t.parsedType}),Ye}return et(e.data)}}$t.create=e=>new $t({typeName:En.ZodUndefined,...mt(e)});class Qt extends pt{_parse(e){if(this._getType(e)!==qe.null){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.null,received:t.parsedType}),Ye}return et(e.data)}}Qt.create=e=>new Qt({typeName:En.ZodNull,...mt(e)});class Ht extends pt{constructor(){super(...arguments),this._any=!0}_parse(e){return et(e.data)}}Ht.create=e=>new Ht({typeName:En.ZodAny,...mt(e)});class Zt extends pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return et(e.data)}}Zt.create=e=>new Zt({typeName:En.ZodUnknown,...mt(e)});class Kt extends pt{_parse(e){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.never,received:t.parsedType}),Ye}}Kt.create=e=>new Kt({typeName:En.ZodNever,...mt(e)});class Gt extends pt{_parse(e){if(this._getType(e)!==qe.undefined){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.void,received:t.parsedType}),Ye}return et(e.data)}}Gt.create=e=>new Gt({typeName:En.ZodVoid,...mt(e)});class Xt extends pt{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==qe.array)return Ge(t,{code:Be.invalid_type,expected:qe.array,received:t.parsedType}),Ye;if(null!==a.exactLength){const e=t.data.length>a.exactLength.value,r=t.data.length<a.exactLength.value;(e||r)&&(Ge(t,{code:e?Be.too_big:Be.too_small,minimum:r?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(Ge(t,{code:Be.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(Ge(t,{code:Be.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>a.type._parseAsync(new dt(t,e,t.path,n)))).then(e=>Xe.mergeArray(n,e));const r=[...t.data].map((e,n)=>a.type._parseSync(new dt(t,e,t.path,n)));return Xe.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new Xt({...this._def,minLength:{value:e,message:ot.toString(t)}})}max(e,t){return new Xt({...this._def,maxLength:{value:e,message:ot.toString(t)}})}length(e,t){return new Xt({...this._def,exactLength:{value:e,message:ot.toString(t)}})}nonempty(e){return this.min(1,e)}}function Yt(e){if(e instanceof Jt){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=vn.create(Yt(a))}return new Jt({...e._def,shape:()=>t})}return e instanceof Xt?new Xt({...e._def,type:Yt(e.element)}):e instanceof vn?vn.create(Yt(e.unwrap())):e instanceof bn?bn.create(Yt(e.unwrap())):e instanceof sn?sn.create(e.items.map(e=>Yt(e))):e}Xt.create=(e,t)=>new Xt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:En.ZodArray,...mt(t)});class Jt extends pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Fe.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==qe.object){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.object,received:t.parsedType}),Ye}const{status:t,ctx:n}=this._processInputParams(e),{shape:a,keys:r}=this._getCached(),s=[];if(!(this._def.catchall instanceof Kt&&"strip"===this._def.unknownKeys))for(const o in n.data)r.includes(o)||s.push(o);const i=[];for(const o of r){const e=a[o],t=n.data[o];i.push({key:{status:"valid",value:o},value:e._parse(new dt(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof Kt){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of s)i.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)s.length>0&&(Ge(n,{code:Be.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const a=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new dt(n,a,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of i){const n=await t.key,a=await t.value;e.push({key:n,value:a,alwaysSet:t.alwaysSet})}return e}).then(e=>Xe.mergeObjectSync(t,e)):Xe.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return ot.errToObj,new Jt({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var a,r,s,i;const o=null!==(s=null===(r=(a=this._def).errorMap)||void 0===r?void 0:r.call(a,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=ot.errToObj(e).message)&&void 0!==i?i:o}:{message:o}}}:{}})}strip(){return new Jt({...this._def,unknownKeys:"strip"})}passthrough(){return new Jt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Jt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Jt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:En.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Jt({...this._def,catchall:e})}pick(e){const t={};return Fe.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new Jt({...this._def,shape:()=>t})}omit(e){const t={};return Fe.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new Jt({...this._def,shape:()=>t})}deepPartial(){return Yt(this)}partial(e){const t={};return Fe.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()}),new Jt({...this._def,shape:()=>t})}required(e){const t={};return Fe.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof vn;)e=e._def.innerType;t[n]=e}}),new Jt({...this._def,shape:()=>t})}keyof(){return mn(Fe.objectKeys(this.shape))}}Jt.create=(e,t)=>new Jt({shape:()=>e,unknownKeys:"strip",catchall:Kt.create(),typeName:En.ZodObject,...mt(t)}),Jt.strictCreate=(e,t)=>new Jt({shape:()=>e,unknownKeys:"strict",catchall:Kt.create(),typeName:En.ZodObject,...mt(t)}),Jt.lazycreate=(e,t)=>new Jt({shape:e,unknownKeys:"strip",catchall:Kt.create(),typeName:En.ZodObject,...mt(t)});class en extends pt{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;const n=e.map(e=>new $e(e.ctx.common.issues));return Ge(t,{code:Be.invalid_union,unionErrors:n}),Ye});{let e;const a=[];for(const s of n){const n={...t,common:{...t.common,issues:[]},parent:null},r=s._parseSync({data:t.data,path:t.path,parent:n});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:n}),n.common.issues.length&&a.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=a.map(e=>new $e(e));return Ge(t,{code:Be.invalid_union,unionErrors:r}),Ye}}get options(){return this._def.options}}en.create=(e,t)=>new en({options:e,typeName:En.ZodUnion,...mt(t)});const tn=e=>e instanceof dn?tn(e.schema):e instanceof yn?tn(e.innerType()):e instanceof fn?[e.value]:e instanceof pn?e.options:e instanceof hn?Fe.objectValues(e.enum):e instanceof xn?tn(e._def.innerType):e instanceof $t?[void 0]:e instanceof Qt?[null]:e instanceof vn?[void 0,...tn(e.unwrap())]:e instanceof bn?[null,...tn(e.unwrap())]:e instanceof Nn||e instanceof Cn?tn(e.unwrap()):e instanceof kn?tn(e._def.innerType):[];class nn extends pt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==qe.object)return Ge(t,{code:Be.invalid_type,expected:qe.object,received:t.parsedType}),Ye;const n=this.discriminator,a=t.data[n],r=this.optionsMap.get(a);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(Ge(t,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ye)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const a=new Map;for(const r of t){const t=tn(r.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(a.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);a.set(n,r)}}return new nn({typeName:En.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...mt(n)})}}function an(e,t){const n=We(e),a=We(t);if(e===t)return{valid:!0,data:e};if(n===qe.object&&a===qe.object){const n=Fe.objectKeys(t),a=Fe.objectKeys(e).filter(e=>-1!==n.indexOf(e)),r={...e,...t};for(const s of a){const n=an(e[s],t[s]);if(!n.valid)return{valid:!1};r[s]=n.data}return{valid:!0,data:r}}if(n===qe.array&&a===qe.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const r=an(e[a],t[a]);if(!r.valid)return{valid:!1};n.push(r.data)}return{valid:!0,data:n}}return n===qe.date&&a===qe.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class rn extends pt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=(e,a)=>{if(tt(e)||tt(a))return Ye;const r=an(e.value,a.value);return r.valid?((nt(e)||nt(a))&&t.dirty(),{status:t.value,value:r.data}):(Ge(n,{code:Be.invalid_intersection_types}),Ye)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>a(e,t)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rn.create=(e,t,n)=>new rn({left:e,right:t,typeName:En.ZodIntersection,...mt(n)});class sn extends pt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.array)return Ge(n,{code:Be.invalid_type,expected:qe.array,received:n.parsedType}),Ye;if(n.data.length<this._def.items.length)return Ge(n,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ye;!this._def.rest&&n.data.length>this._def.items.length&&(Ge(n,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map((e,t)=>{const a=this._def.items[t]||this._def.rest;return a?a._parse(new dt(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(a).then(e=>Xe.mergeArray(t,e)):Xe.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new sn({...this._def,rest:e})}}sn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sn({items:e,typeName:En.ZodTuple,rest:null,...mt(t)})};class on extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.object)return Ge(n,{code:Be.invalid_type,expected:qe.object,received:n.parsedType}),Ye;const a=[],r=this._def.keyType,s=this._def.valueType;for(const i in n.data)a.push({key:r._parse(new dt(n,i,n.path,i)),value:s._parse(new dt(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?Xe.mergeObjectAsync(t,a):Xe.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,n){return new on(t instanceof pt?{keyType:e,valueType:t,typeName:En.ZodRecord,...mt(n)}:{keyType:Lt.create(),valueType:e,typeName:En.ZodRecord,...mt(t)})}}class ln extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.map)return Ge(n,{code:Be.invalid_type,expected:qe.map,received:n.parsedType}),Ye;const a=this._def.keyType,r=this._def.valueType,s=[...n.data.entries()].map(([e,t],s)=>({key:a._parse(new dt(n,e,n.path,[s,"key"])),value:r._parse(new dt(n,t,n.path,[s,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of s){const a=await n.key,r=await n.value;if("aborted"===a.status||"aborted"===r.status)return Ye;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of s){const a=n.key,r=n.value;if("aborted"===a.status||"aborted"===r.status)return Ye;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}}}ln.create=(e,t,n)=>new ln({valueType:t,keyType:e,typeName:En.ZodMap,...mt(n)});class cn extends pt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.set)return Ge(n,{code:Be.invalid_type,expected:qe.set,received:n.parsedType}),Ye;const a=this._def;null!==a.minSize&&n.data.size<a.minSize.value&&(Ge(n,{code:Be.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&n.data.size>a.maxSize.value&&(Ge(n,{code:Be.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const r=this._def.valueType;function s(e){const n=new Set;for(const a of e){if("aborted"===a.status)return Ye;"dirty"===a.status&&t.dirty(),n.add(a.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map((e,t)=>r._parse(new dt(n,e,n.path,t)));return n.common.async?Promise.all(i).then(e=>s(e)):s(i)}min(e,t){return new cn({...this._def,minSize:{value:e,message:ot.toString(t)}})}max(e,t){return new cn({...this._def,maxSize:{value:e,message:ot.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}cn.create=(e,t)=>new cn({valueType:e,minSize:null,maxSize:null,typeName:En.ZodSet,...mt(t)});class un extends pt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==qe.function)return Ge(t,{code:Be.invalid_type,expected:qe.function,received:t.parsedType}),Ye;function n(e,n){return Ke({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ze(),Qe].filter(e=>!!e),issueData:{code:Be.invalid_arguments,argumentsError:n}})}function a(e,n){return Ke({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ze(),Qe].filter(e=>!!e),issueData:{code:Be.invalid_return_type,returnTypeError:n}})}const r={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof gn){const e=this;return et(async function(...t){const i=new $e([]),o=await e._def.args.parseAsync(t,r).catch(e=>{throw i.addIssue(n(t,e)),i}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,r).catch(e=>{throw i.addIssue(a(l,e)),i})})}{const e=this;return et(function(...t){const i=e._def.args.safeParse(t,r);if(!i.success)throw new $e([n(t,i.error)]);const o=Reflect.apply(s,this,i.data),l=e._def.returns.safeParse(o,r);if(!l.success)throw new $e([a(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new un({...this._def,args:sn.create(e).rest(Zt.create())})}returns(e){return new un({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new un({args:e||sn.create([]).rest(Zt.create()),returns:t||Zt.create(),typeName:En.ZodFunction,...mt(n)})}}class dn extends pt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}dn.create=(e,t)=>new dn({getter:e,typeName:En.ZodLazy,...mt(t)});class fn extends pt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ge(t,{received:t.data,code:Be.invalid_literal,expected:this._def.value}),Ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}function mn(e,t){return new pn({values:e,typeName:En.ZodEnum,...mt(t)})}fn.create=(e,t)=>new fn({value:e,typeName:En.ZodLiteral,...mt(t)});class pn extends pt{constructor(){super(...arguments),ct.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Ge(t,{expected:Fe.joinValues(n),received:t.parsedType,code:Be.invalid_type}),Ye}if(st(this,ct)||it(this,ct,new Set(this._def.values)),!st(this,ct).has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ge(t,{received:t.data,code:Be.invalid_enum_value,options:n}),Ye}return et(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return pn.create(e,{...this._def,...t})}exclude(e,t=this._def){return pn.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ct=new WeakMap,pn.create=mn;class hn extends pt{constructor(){super(...arguments),ut.set(this,void 0)}_parse(e){const t=Fe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==qe.string&&n.parsedType!==qe.number){const e=Fe.objectValues(t);return Ge(n,{expected:Fe.joinValues(e),received:n.parsedType,code:Be.invalid_type}),Ye}if(st(this,ut)||it(this,ut,new Set(Fe.getValidEnumValues(this._def.values))),!st(this,ut).has(e.data)){const e=Fe.objectValues(t);return Ge(n,{received:n.data,code:Be.invalid_enum_value,options:e}),Ye}return et(e.data)}get enum(){return this._def.values}}ut=new WeakMap,hn.create=(e,t)=>new hn({values:e,typeName:En.ZodNativeEnum,...mt(t)});class gn extends pt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==qe.promise&&!1===t.common.async)return Ge(t,{code:Be.invalid_type,expected:qe.promise,received:t.parsedType}),Ye;const n=t.parsedType===qe.promise?t.data:Promise.resolve(t.data);return et(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}gn.create=(e,t)=>new gn({type:e,typeName:En.ZodPromise,...mt(t)});class yn extends pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===En.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,r={addIssue:e=>{Ge(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===a.type){const e=a.transform(n.data,r);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return Ye;const a=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===a.status?Ye:"dirty"===a.status||"dirty"===t.value?Je(a.value):a});{if("aborted"===t.value)return Ye;const a=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===a.status?Ye:"dirty"===a.status||"dirty"===t.value?Je(a.value):a}}if("refinement"===a.type){const e=e=>{const t=a.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===a.status?Ye:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?Ye:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===a.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!at(e))return e;const s=a.transform(e.value,r);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>at(e)?Promise.resolve(a.transform(e.value,r)).then(e=>({status:t.value,value:e})):e)}Fe.assertNever(a)}}yn.create=(e,t,n)=>new yn({schema:e,typeName:En.ZodEffects,effect:t,...mt(n)}),yn.createWithPreprocess=(e,t,n)=>new yn({schema:t,effect:{type:"preprocess",transform:e},typeName:En.ZodEffects,...mt(n)});class vn extends pt{_parse(e){return this._getType(e)===qe.undefined?et(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vn.create=(e,t)=>new vn({innerType:e,typeName:En.ZodOptional,...mt(t)});class bn extends pt{_parse(e){return this._getType(e)===qe.null?et(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bn.create=(e,t)=>new bn({innerType:e,typeName:En.ZodNullable,...mt(t)});class xn extends pt{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===qe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}xn.create=(e,t)=>new xn({innerType:e,typeName:En.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...mt(t)});class kn extends pt{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return rt(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new $e(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new $e(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}kn.create=(e,t)=>new kn({innerType:e,typeName:En.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...mt(t)});class wn extends pt{_parse(e){if(this._getType(e)!==qe.nan){const t=this._getOrReturnCtx(e);return Ge(t,{code:Be.invalid_type,expected:qe.nan,received:t.parsedType}),Ye}return{status:"valid",value:e.data}}}wn.create=e=>new wn({typeName:En.ZodNaN,...mt(e)});const Sn=Symbol("zod_brand");class Nn extends pt{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Tn extends pt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ye:"dirty"===e.status?(t.dirty(),Je(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ye:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Tn({in:e,out:t,typeName:En.ZodPipeline})}}class Cn extends pt{_parse(e){const t=this._def.innerType._parse(e),n=e=>(at(e)&&(e.value=Object.freeze(e.value)),e);return rt(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}function _n(e,t={},n){return e?Ht.create().superRefine((a,r)=>{var s,i;if(!e(a)){const e="function"==typeof t?t(a):"string"==typeof t?{message:t}:t,o=null===(i=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===i||i,l="string"==typeof e?{message:e}:e;r.addIssue({code:"custom",...l,fatal:o})}}):Ht.create()}Cn.create=(e,t)=>new Cn({innerType:e,typeName:En.ZodReadonly,...mt(t)});const jn={object:Jt.lazycreate};var En,An;(An=En||(En={})).ZodString="ZodString",An.ZodNumber="ZodNumber",An.ZodNaN="ZodNaN",An.ZodBigInt="ZodBigInt",An.ZodBoolean="ZodBoolean",An.ZodDate="ZodDate",An.ZodSymbol="ZodSymbol",An.ZodUndefined="ZodUndefined",An.ZodNull="ZodNull",An.ZodAny="ZodAny",An.ZodUnknown="ZodUnknown",An.ZodNever="ZodNever",An.ZodVoid="ZodVoid",An.ZodArray="ZodArray",An.ZodObject="ZodObject",An.ZodUnion="ZodUnion",An.ZodDiscriminatedUnion="ZodDiscriminatedUnion",An.ZodIntersection="ZodIntersection",An.ZodTuple="ZodTuple",An.ZodRecord="ZodRecord",An.ZodMap="ZodMap",An.ZodSet="ZodSet",An.ZodFunction="ZodFunction",An.ZodLazy="ZodLazy",An.ZodLiteral="ZodLiteral",An.ZodEnum="ZodEnum",An.ZodEffects="ZodEffects",An.ZodNativeEnum="ZodNativeEnum",An.ZodOptional="ZodOptional",An.ZodNullable="ZodNullable",An.ZodDefault="ZodDefault",An.ZodCatch="ZodCatch",An.ZodPromise="ZodPromise",An.ZodBranded="ZodBranded",An.ZodPipeline="ZodPipeline",An.ZodReadonly="ZodReadonly";const Pn=Lt.create,zn=Vt.create,Mn=wn.create,On=Ut.create,In=qt.create,Dn=Wt.create,Rn=Bt.create,Ln=$t.create,Fn=Qt.create,Vn=Ht.create,Un=Zt.create,qn=Kt.create,Wn=Gt.create,Bn=Xt.create,$n=Jt.create,Qn=Jt.strictCreate,Hn=en.create,Zn=nn.create,Kn=rn.create,Gn=sn.create,Xn=on.create,Yn=ln.create,Jn=cn.create,ea=un.create,ta=dn.create,na=fn.create,aa=pn.create,ra=hn.create,sa=gn.create,ia=yn.create,oa=vn.create,la=bn.create,ca=yn.createWithPreprocess,ua=Tn.create,da={string:e=>Lt.create({...e,coerce:!0}),number:e=>Vt.create({...e,coerce:!0}),boolean:e=>qt.create({...e,coerce:!0}),bigint:e=>Ut.create({...e,coerce:!0}),date:e=>Wt.create({...e,coerce:!0})},fa=Ye;var ma=Object.freeze({__proto__:null,defaultErrorMap:Qe,setErrorMap:function(e){He=e},getErrorMap:Ze,makeIssue:Ke,EMPTY_PATH:[],addIssueToContext:Ge,ParseStatus:Xe,INVALID:Ye,DIRTY:Je,OK:et,isAborted:tt,isDirty:nt,isValid:at,isAsync:rt,get util(){return Fe},get objectUtil(){return Ue},ZodParsedType:qe,getParsedType:We,ZodType:pt,datetimeRegex:Ot,ZodString:Lt,ZodNumber:Vt,ZodBigInt:Ut,ZodBoolean:qt,ZodDate:Wt,ZodSymbol:Bt,ZodUndefined:$t,ZodNull:Qt,ZodAny:Ht,ZodUnknown:Zt,ZodNever:Kt,ZodVoid:Gt,ZodArray:Xt,ZodObject:Jt,ZodUnion:en,ZodDiscriminatedUnion:nn,ZodIntersection:rn,ZodTuple:sn,ZodRecord:on,ZodMap:ln,ZodSet:cn,ZodFunction:un,ZodLazy:dn,ZodLiteral:fn,ZodEnum:pn,ZodNativeEnum:hn,ZodPromise:gn,ZodEffects:yn,ZodTransformer:yn,ZodOptional:vn,ZodNullable:bn,ZodDefault:xn,ZodCatch:kn,ZodNaN:wn,BRAND:Sn,ZodBranded:Nn,ZodPipeline:Tn,ZodReadonly:Cn,custom:_n,Schema:pt,ZodSchema:pt,late:jn,get ZodFirstPartyTypeKind(){return En},coerce:da,any:Vn,array:Bn,bigint:On,boolean:In,date:Dn,discriminatedUnion:Zn,effect:ia,enum:aa,function:ea,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>_n(t=>t instanceof e,t),intersection:Kn,lazy:ta,literal:na,map:Yn,nan:Mn,nativeEnum:ra,never:qn,null:Fn,nullable:la,number:zn,object:$n,oboolean:()=>In().optional(),onumber:()=>zn().optional(),optional:oa,ostring:()=>Pn().optional(),pipeline:ua,preprocess:ca,promise:sa,record:Xn,set:Jn,strictObject:Qn,string:Pn,symbol:Rn,transformer:ia,tuple:Gn,undefined:Ln,union:Hn,unknown:Un,void:Wn,NEVER:fa,ZodIssueCode:Be,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:$e});const pa=ma.object({current:ma.number().int(),max:ma.number().int().min(1),temp:ma.number().int().min(0)}),ha=ma.object({id:ma.string(),type:ma.string(),name:ma.string(),hp:pa,ac:ma.number(),notes:ma.string().optional(),speed:ma.number().optional().default(30)}).passthrough(),ga=ma.object({id:ma.string().uuid(),sessionNumber:ma.number().int().min(1).max(9999),date:ma.string(),label:ma.string().optional(),lastModified:ma.string(),characterData:ma.record(ma.any()).or(ma.any()),minions:ma.array(ha).optional().default([]),version:ma.string().optional()}).passthrough(),ya="fuyuki-sessions",va="fuyuki-active-session";function ba(e){return Array.isArray(e)?e.map(e=>function(e){if(!e||"object"!=typeof e)throw new Error("Invalid session data");const t=e;return("number"==typeof t.version?t.version:parseFloat(t.version||"1.0"))<2&&(Array.isArray(t.minions)&&(t.minions=t.minions.map(e=>{const t=e;return{...t,speed:t.speed??30,type:t.type?String(t.type).toLowerCase():"skeleton"}})),t.version=2),t}(e)).filter(e=>(ga.safeParse(e).success,!0)):[]}function xa(){try{const e=localStorage.getItem(ya);if(!e)return[];return ba(JSON.parse(e))}catch(e){return[]}}function ka(e){try{localStorage.setItem(ya,JSON.stringify(e))}catch(t){}}function wa(){return localStorage.getItem(va)}function Sa(e){e?localStorage.setItem(va,e):localStorage.removeItem(va)}function Na(){const e=wa();if(!e)return null;const t=xa().find(t=>t.id===e)||null;return t}function Ta(e,t){const n=wa();if(!n)return;const a=xa(),r=a.findIndex(e=>e.id===n);-1!==r&&(a[r].characterData=e,a[r].minions=t,a[r].lastModified=(new Date).toISOString(),ka(a))}const Ca={1:{count:1,level:1},2:{count:2,level:1},3:{count:2,level:2},4:{count:2,level:2},5:{count:2,level:3},6:{count:2,level:3},7:{count:2,level:4},8:{count:2,level:4},9:{count:2,level:5},10:{count:2,level:5},11:{count:3,level:5},12:{count:3,level:5},13:{count:3,level:5},14:{count:3,level:5},15:{count:3,level:5},16:{count:3,level:5},17:{count:4,level:5},18:{count:4,level:5},19:{count:4,level:5},20:{count:4,level:5}};function _a(e){return Math.floor((e-10)/2)}const ja={1:{1:2},2:{1:3},3:{1:4,2:2},4:{1:4,2:3},5:{1:4,2:3,3:2},6:{1:4,2:3,3:3},7:{1:4,2:3,3:3,4:1},8:{1:4,2:3,3:3,4:2},9:{1:4,2:3,3:3,4:3,5:1},10:{1:4,2:3,3:3,4:3,5:2},11:{1:4,2:3,3:3,4:3,5:2,6:1},12:{1:4,2:3,3:3,4:3,5:2,6:1},13:{1:4,2:3,3:3,4:3,5:2,6:1,7:1},14:{1:4,2:3,3:3,4:3,5:2,6:1,7:1},15:{1:4,2:3,3:3,4:3,5:2,6:1,7:1,8:1},16:{1:4,2:3,3:3,4:3,5:2,6:1,7:1,8:1},17:{1:4,2:3,3:3,4:3,5:2,6:1,7:1,8:1,9:1},18:{1:4,2:3,3:3,4:3,5:3,6:1,7:1,8:1,9:1},19:{1:4,2:3,3:3,4:3,5:3,6:2,7:1,8:1,9:1},20:{1:4,2:3,3:3,4:3,5:3,6:2,7:2,8:1,9:1}};function Ea(e){const t=(n=e.level,a=Aa,r=Pa,Math.max(a,Math.min(r,n)));var n,a,r;const s=e.abilities,i={str:_a((o=s).str),dex:_a(o.dex),con:_a(o.con),int:_a(o.int),wis:_a(o.wis),cha:_a(o.cha)};var o;const l=function(e){const t=Math.max(1,Math.min(20,e));return Math.floor((t-1)/4)+2}(t),c=function(e){return Ca[Math.max(1,Math.min(20,e))]}(t),u={...e.pactSlots,max:c.count,level:c.level,current:Math.min(e.pactSlots.current,c.count)},d=function(e,t,n){const a=Math.max(1,Math.min(20,e)),r=_a(t),s=n+r;if(1===a)return Math.max(1,s);const i=s+(a-1)*(Math.floor(n/2)+1+r);return Math.max(a,i)}(t,s.con,e.hitDice.size),f=Math.min(e.hp.current,d),m=t,p=Math.min(e.hitDice.current,m),h=function(e,t){return 8+e+t}(l,i.cha),g=e.inventory.find(e=>"armor"===e.type&&e.equipped);let y=e.baseAC,v=i.dex;g&&g.armorStats&&(y=g.armorStats.baseAC,void 0!==g.armorStats.dexCap&&(v=Math.min(v,g.armorStats.dexCap))),e.mageArmour&&(!g||(g.armorStats?.baseAC||0)<13)&&(y=13,v=i.dex);const b=y+v+(e.shield?2:0),x={...e.slots},k=ja[t]||{};Object.keys(x).forEach(e=>{const t=parseInt(e),n=k[t]||0;x[t]={...x[t],max:n}});const w={...e.arcanum};return t>=11&&!w[6]&&(w[6]={used:!1,spellName:""}),t>=13&&!w[7]&&(w[7]={used:!1,spellName:""}),t>=15&&!w[8]&&(w[8]={used:!1,spellName:""}),t>=17&&!w[9]&&(w[9]={used:!1,spellName:""}),{...e,level:t,abilities:s,abilityMods:i,profBonus:l,dc:h,baseAC:b,hp:{...e.hp,current:f,max:d},hitDice:{...e.hitDice,current:p,max:m},pactSlots:u,arcanum:w,slots:x}}const Aa=1,Pa=20;const za=function(){const e=Na();return e?{...e.characterData,toast:null}:{...Le,toast:null}}(),Ma=d({name:"character",initialState:za,reducers:{hydrate:(e,t)=>{e.hp=t.payload.characterData.hp,e.baseAC=t.payload.characterData.baseAC,e.dc=t.payload.characterData.dc,e.profBonus=t.payload.characterData.profBonus,e.level=t.payload.characterData.level,e.savingThrowProficiencies=t.payload.characterData.savingThrowProficiencies,e.deathSaves=t.payload.characterData.deathSaves,e.abilities=t.payload.characterData.abilities,e.abilityMods=t.payload.characterData.abilityMods,e.skills=t.payload.characterData.skills,e.concentration=t.payload.characterData.concentration,e.attunement=t.payload.characterData.attunement,e.inventory=t.payload.characterData.inventory||[],e.preparedSpells=t.payload.characterData.preparedSpells,e.slots=t.payload.characterData.slots,e.mageArmour=t.payload.characterData.mageArmour,e.shield=t.payload.characterData.shield,e.transformed=t.payload.characterData.transformed,e.pactSlots=t.payload.characterData.pactSlots,e.spellsKnown=t.payload.characterData.spellsKnown,e.cantripsKnown=t.payload.characterData.cantripsKnown,e.arcanum=t.payload.characterData.arcanum,e.invocations=t.payload.characterData.invocations,e.pactBoon=t.payload.characterData.pactBoon,e.patron=t.payload.characterData.patron,e.defaultMinion=t.payload.characterData.defaultMinion},hpChanged:(e,t)=>{let n=e.hp.current-t.payload;if(e.transformed&&n>0){const t=e.transformed.hp.current,a=Math.min(t,n),r=n-a;if(e.transformed.hp.current-=a,!(e.transformed.hp.current<=0))return;e.transformed=null,e.toast="Wild Shape Reverted!",n=r}else e.transformed;const a=t.payload-e.hp.current;if(a<0){const t=Math.abs(a),n=Math.min(e.hp.temp,t),r=t-n,s=Math.max(0,e.hp.current-r);if(e.hp.temp-=n,e.hp.current=s,e.concentration&&r>0&&s>0){const n=Math.max(10,Math.floor(t/2));e.toast=`CON Save DC ${n} to maintain ${e.concentration}`}0===s&&(e.concentration&&(e.toast=`Concentration on ${e.concentration} lost - Incapacitated!`),e.concentration=null)}else{const n=0===e.hp.current;e.hp.current=Math.min(e.hp.max,Math.max(0,t.payload)),n&&e.hp.current>0&&(e.deathSaves={successes:0,failures:0},e.toast="Stabilized! Death saves reset.")}},wildShapeStarted:(e,t)=>{e.transformed={active:!0,creatureName:t.payload.name,hp:{current:t.payload.hp,max:t.payload.hp},ac:t.payload.ac},e.toast=`Wild Shape: ${t.payload.name}`},wildShapeEnded:e=>{e.transformed=null,e.toast="Wild Shape Ended"},wildShapeHpChanged:(e,t)=>{if(e.transformed){const n=Math.max(0,t.payload);e.transformed.hp.current,e.transformed.hp.current=n}},wildShapeDamageTaken:(e,t)=>{if(e.transformed){const n=t.payload,a=e.transformed.hp.current;if(n>=a){const t=n-a;if(e.transformed=null,e.toast="Wild Shape Reverted! "+(t>0?t+" carryover damage":""),t>0){const n=Math.min(e.hp.temp,t),a=t-n;e.hp.temp-=n,e.hp.current=Math.max(0,e.hp.current-a)}}else e.transformed.hp.current-=n}},slotsUpdated:(e,t)=>{e.slots=t.payload},slotExpended:(e,t)=>{const n=e.slots[t.payload.level];n&&n.used<n.max&&(n.used+=1)},slotRestored:(e,t)=>{const n=e.slots[t.payload.level];n&&n.used>0&&(n.used-=1)},tempHpSet:(e,t)=>{e.hp.temp=Math.max(0,t.payload)},pactSlotUsed:e=>{e.pactSlots.current>0&&(e.pactSlots.current-=1)},pactSlotRestored:e=>{e.pactSlots.current<e.pactSlots.max&&(e.pactSlots.current+=1)},pactSlotsRefilled:e=>{e.pactSlots.current=e.pactSlots.max},arcanumUsed:(e,t)=>{const n=t.payload;e.arcanum[n]&&(e.arcanum[n].used=!0)},arcanumRestored:(e,t)=>{const n=t.payload;e.arcanum[n]&&(e.arcanum[n].used=!1)},invocationToggled:(e,t)=>{const n=e.invocations.find(e=>e.id===t.payload);n&&(n.active=!n.active)},invocationUseConsumed:(e,t)=>{const n=e.invocations.find(e=>e.id===t.payload);n&&void 0!==n.currentUses&&n.currentUses>0&&(n.currentUses-=1)},concentrationSet:(e,t)=>{e.concentration=t.payload},deathSaveChanged:(e,t)=>{e.deathSaves[t.payload.type]=t.payload.value},hitDiceSpent:(e,t)=>{e.hitDice.current=Math.max(0,e.hitDice.current-t.payload.count),e.hp.current=Math.min(e.hp.max,e.hp.current+t.payload.healed),t.payload.healed>0&&(e.toast=`Healed ${t.payload.healed} HP`)},shortRestCompleted:e=>{e.pactSlots.current=e.pactSlots.max,e.toast="Short Rest: Pact Slots Refilled"},longRestCompleted:e=>{e.hp.current=e.hp.max,e.hp.temp=0;const t=Math.max(1,Math.ceil(e.hitDice.max/2));e.hitDice.current=Math.min(e.hitDice.max,e.hitDice.current+t),e.pactSlots.current=e.pactSlots.max,Object.values(e.arcanum).forEach(e=>{e&&(e.used=!1)}),e.invocations.forEach(e=>{void 0!==e.usesPerLongRest&&(e.currentUses=e.usesPerLongRest)}),e.concentration=null,e.deathSaves={successes:0,failures:0},e.toast="Long Rest Completed"},levelChanged:(e,t)=>{const n=Ea({...e,level:t.payload});Object.assign(e,n),e.toast=`Level changed to ${t.payload}`},abilityScoreChanged:(e,t)=>{e.abilities[t.payload.ability]=t.payload.newScore;const n=Ea(e);Object.assign(e,n),e.toast=`${t.payload.ability.toUpperCase()} updated to ${t.payload.newScore}`},itemEquipped:(e,t)=>{const n=e.inventory[t.payload];if(!n)return;const a=!!n.equipped;a||"armor"!==n.type||e.inventory.forEach(e=>{"armor"===e.type&&(e.equipped=!1)}),n.equipped=!a;const r=Ea(e);Object.assign(e,r),e.toast=`${n.name} ${n.equipped?"Equipped":"Unequipped"}`},itemAttuned:(e,t)=>{e.attunement.length<3?e.attunement.push(t.payload):e.toast="Maximum 3 attuned items!"},itemUnattuned:(e,t)=>{e.attunement.splice(t.payload,1)},inventoryItemAdded:(e,t)=>{e.inventory.push(t.payload),e.toast=`Added ${t.payload.name}`},inventoryItemRemoved:(e,t)=>{e.inventory.splice(t.payload,1)},inventoryItemUpdated:(e,t)=>{e.inventory[t.payload.index]&&(e.inventory[t.payload.index]=t.payload.item)},itemChargeConsumed:(e,t)=>{const n=e.inventory[t.payload];n&&n.charges&&n.charges.current>0?(n.charges.current-=1,e.toast=`Used charge on ${n.name}`):n&&(e.toast=`${n.name} has no charges left!`)},toastShown:(e,t)=>{e.toast=t.payload},toastCleared:e=>{e.toast=null}}}),Oa=e=>e.character,Ia=e=>e.character.pactSlots,Da=e=>e.character.arcanum,Ra=e=>e.character.concentration,La=e=>e.character.toast,Fa=f([Oa,(e,t)=>t],(e,t)=>e.abilityMods[t]),Va=e=>e.character.dc,Ua=f([Oa],e=>{const t=e.invocations.find(e=>"armor-of-shadows"===e.id||"Armor of Shadows"===e.name);return t?.active?13+e.abilityMods.dex:e.baseAC+e.abilityMods.dex}),qa=f([Oa],e=>e.profBonus+e.abilityMods.cha),{hydrate:Wa,hpChanged:Ba,tempHpSet:$a,pactSlotUsed:Qa,pactSlotRestored:Ha,pactSlotsRefilled:Za,arcanumUsed:Ka,arcanumRestored:Ga,invocationToggled:Xa,invocationUseConsumed:Ya,concentrationSet:Ja,deathSaveChanged:er,hitDiceSpent:tr,shortRestCompleted:nr,longRestCompleted:ar,levelChanged:rr,abilityScoreChanged:sr,itemEquipped:ir,itemAttuned:or,itemUnattuned:lr,inventoryItemAdded:cr,inventoryItemRemoved:ur,inventoryItemUpdated:dr,itemChargeConsumed:fr,toastShown:mr,toastCleared:pr,wildShapeStarted:hr,wildShapeEnded:gr,wildShapeHpChanged:yr,wildShapeDamageTaken:vr,slotsUpdated:br,slotExpended:xr,slotRestored:kr}=Ma.actions,wr=Ma.reducer;function Sr(){const e=De(),t=Re(Ra);return t?je.jsx("div",{className:"fixed bottom-24 right-4 z-50 animate-fade-in-up",children:je.jsxs("div",{className:"relative group",children:[je.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse"}),je.jsxs("div",{className:"relative flex items-center gap-2 bg-gray-900 border border-white/20 rounded-full px-4 py-2 shadow-2xl",children:[je.jsxs("div",{className:"relative",children:[je.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-ping absolute inset-0 opacity-75"}),je.jsx(U,{size:16,className:"text-blue-200 relative z-10"})]}),je.jsx("span",{className:"text-xs font-display text-blue-100 tracking-wide max-w-[100px] truncate",children:t}),je.jsx("button",{onClick:()=>e(Ja(null)),className:"ml-1 p-1 hover:bg-white/10 rounded-full transition-colors text-white/50 hover:text-white","aria-label":"Break concentration",children:je.jsx(q,{size:12})})]})]})}):null}const Nr=d({name:"ui",initialState:{viewMode:"ROLEPLAY",isMenuOpen:!1},reducers:{setViewMode:(e,t)=>{e.viewMode=t.payload},toggleViewMode:e=>{e.viewMode="COMBAT"===e.viewMode?"ROLEPLAY":"COMBAT"},openMenu:e=>{e.isMenuOpen=!0},closeMenu:e=>{e.isMenuOpen=!1},toggleMenu:e=>{e.isMenuOpen=!e.isMenuOpen}}}),{setViewMode:Tr,toggleViewMode:Cr,openMenu:_r,closeMenu:jr,toggleMenu:Er}=Nr.actions,Ar=Nr.reducer;function Pr(){const e=r(),t="COMBAT"===s(e=>e.ui.viewMode);return je.jsxs("button",{onClick:()=>e(Cr()),className:`\n                relative w-16 h-8 rounded-full border border-white/10 shadow-inner overflow-hidden transition-colors duration-500\n                ${t?"bg-vermillion-ink/50 border-vermillion/30":"bg-bg-ink border-gold-dim/20"}\n            `,"aria-label":`Switch to ${t?"Roleplay":"Combat"} Mode`,children:[je.jsx("div",{className:`\n                    absolute top-1 bottom-1 w-6 rounded-full shadow-lg flex items-center justify-center transition-all duration-500 cubic-bezier(0.68, -0.55, 0.265, 1.55)\n                    ${t?"left-[calc(100%-1.75rem)] bg-vermillion text-white":"left-1 bg-gold-mid text-bg-dark"}\n                `,children:t?je.jsx(W,{size:12}):je.jsx(B,{size:12})}),je.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-2 text-[8px] font-display uppercase tracking-widest text-muted/50 pointer-events-none",children:[je.jsx("span",{className:t?"opacity-50":"opacity-0",children:"RP"}),je.jsx("span",{className:t?"opacity-0":"opacity-50",children:"CMBT"})]})]})}const zr=[{id:"stats",icon:$,label:"Stats",ja:""},{id:"spells",icon:Q,label:"Spells",ja:""},{id:"combat",icon:W,label:"Combat",ja:""},{id:"character",icon:H,label:"Profile",ja:""},{id:"more",icon:Z,label:"Menu",ja:""}];function Mr({children:e,activeTab:t,onTabChange:n,toast:a,showSessionPicker:r,renderSessionPicker:s}){const o=function(e){const[t,n]=i.useState(()=>"undefined"!=typeof window&&window.matchMedia(e).matches);return i.useEffect(()=>{const t=window.matchMedia(e),a=()=>n(t.matches);return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[e]),t}("(min-width: 768px)");return je.jsxs(je.Fragment,{children:[je.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[je.jsx("img",{src:"/Fuyuki/assets/fuyuki-background.jpg",alt:"",className:"w-full h-full object-cover opacity-30 scale-105 contrast-125 saturate-50",onError:e=>{e.currentTarget.style.display="none"}}),je.jsx("div",{className:"absolute inset-0 bg-bg-void/90 mix-blend-multiply"}),je.jsx("div",{className:"absolute top-24 right-4 writing-vertical-rl text-6xl text-white/5 font-black font-japanese pointer-events-none select-none",children:""})]}),je.jsxs("div",{className:"min-h-screen w-full relative z-10 bg-transparent text-text overflow-x-hidden","data-testid":"app-ready",children:[je.jsxs("div",{className:"fixed inset-0 z-5 pointer-events-none",children:[je.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/3 via-transparent to-transparent"}),je.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-60 bg-gradient-to-t from-bg-dark via-bg-dark/80 to-transparent"}),je.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-bg-dark/70 to-transparent"})]}),o?je.jsxs("div",{className:"flex h-screen overflow-hidden pt-4 px-4 pb-4 gap-4",children:[je.jsxs("aside",{className:"w-64 glass-card rounded-2xl flex flex-col justify-between p-4 z-40",children:[je.jsxs("div",{children:[je.jsxs("div",{className:"flex items-center gap-3 mb-8 px-2",children:[je.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-bg-card to-bg-dark border border-white/10 flex items-center justify-center shadow-lg",children:je.jsx(B,{size:20,className:"text-gold-mid"})}),je.jsxs("div",{children:[je.jsx("h1",{className:"font-display font-bold text-lg text-white tracking-widest uppercase",children:"Fuyuki"}),je.jsx("p",{className:"text-[10px] text-muted font-mono uppercase tracking-widest",children:"Warlock Tracker"})]})]}),je.jsx("div",{className:"mb-6 px-2 flex justify-center",children:je.jsx(Pr,{})}),je.jsx("nav",{className:"flex flex-col gap-2",children:zr.map(e=>{const{id:a,icon:r,label:s}=e,i=t===a;return je.jsxs("button",{onClick:()=>n(a),"data-testid":`nav-tab-${a}`,className:`\n                                                    flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group\n                                                    ${i?"bg-white/10 shadow-accent-sm border border-gold-dim/20":"hover:bg-white/5 border border-transparent"}\n                                                `,children:[je.jsx(r,{size:20,className:i?"text-gold-bright":"text-muted group-hover:text-parchment"}),je.jsx("div",{className:"flex flex-col items-start",children:je.jsx("span",{className:"text-xs font-display uppercase tracking-widest "+(i?"text-white":"text-muted group-hover:text-parchment"),children:s})}),i&&je.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-gold-bright shadow-accent-sm"})]},a)})})]}),je.jsxs("div",{className:"p-3 rounded-xl bg-bg-dark/50 border border-white/5 flex items-center gap-3",children:[je.jsx("div",{className:"w-8 h-8 rounded-full border border-gold-dim/30 overflow-hidden bg-bg-dark",children:je.jsx("img",{src:"/Fuyuki/assets/fuyuki-portrait.png",alt:"Fuyuki",className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none"}})}),je.jsxs("div",{children:[je.jsx("p",{className:"text-xs text-parchment font-display",children:"Level 5"}),je.jsx("p",{className:"text-[10px] text-muted font-japanese",children:""})]})]})]}),je.jsx("main",{className:"flex-1 glass-card rounded-2xl overflow-y-auto relative z-10 scrollbar-hide",children:je.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:e})})]}):je.jsxs(je.Fragment,{children:[je.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 px-4 pt-4 pb-2",children:je.jsxs("div",{className:"glass-card rounded-2xl max-w-md mx-auto flex items-center justify-between p-3 relative overflow-hidden group",children:[je.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 pointer-events-none"}),je.jsxs("div",{className:"flex items-center gap-4 z-10",children:[je.jsxs("div",{className:"relative",children:[je.jsxs("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-bg-card to-bg-dark border border-white/10 flex items-center justify-center shadow-lg relative overflow-hidden",children:[je.jsx(B,{size:20,className:"text-gold-mid relative z-10"}),je.jsx("div",{className:"absolute inset-0 bg-gold-mid/10 blur-xl"})]}),je.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full bg-gold-bright animate-pulse shadow-accent-sm"})]}),je.jsxs("div",{className:"flex flex-col",children:[je.jsxs("div",{className:"flex items-baseline gap-2",children:[je.jsx("h1",{className:"font-display font-bold text-xl text-white tracking-[0.2em] uppercase",children:"Fuyuki"}),je.jsx("span",{className:"text-xs text-gold-dim font-japanese opacity-80",children:""})]}),je.jsx("p",{className:"text-[10px] text-muted font-mono uppercase tracking-[0.2em]",children:"Warlock Tracker"})]})]}),je.jsxs("div",{className:"flex items-center gap-3 z-10",children:[je.jsx(Pr,{}),je.jsxs("div",{className:"text-right hidden xs:block",children:[je.jsx("p",{className:"text-xs text-parchment font-display",children:"Level 5"}),je.jsx("p",{className:"text-[10px] text-muted font-japanese",children:""})]}),je.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-gold-dim/30 overflow-hidden bg-bg-dark shadow-lg",children:je.jsx("img",{src:"/Fuyuki/assets/fuyuki-portrait.png",alt:"Fuyuki",className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none"}})})]})]})}),je.jsx("main",{className:"pt-28 px-4 pb-48 max-w-md mx-auto relative z-10",children:e}),je.jsx("nav",{className:"fixed bottom-6 left-0 right-0 z-50 pointer-events-none px-4",children:je.jsx("div",{className:"pointer-events-auto max-w-md mx-auto glass-card rounded-2xl p-2 border border-white/10 shadow-2xl",children:je.jsx("div",{className:"flex items-center justify-between px-2",children:zr.map((e,a)=>{const{id:r,icon:s,label:i,ja:o}=e,l=t===r;return je.jsxs("button",{onClick:()=>n(r),className:`\n                                                    group relative flex flex-col items-center justify-center \n                                                    w-16 h-16 rounded-xl transition-all duration-300\n                                                    animate-slide-up hover:-translate-y-1\n                                                    stagger-${a+1}\n                                                    ${l?"bg-white/10 shadow-lg":"hover:bg-white/5"}\n                                                `,"data-testid":`nav-tab-${r}`,"aria-label":i,children:[je.jsx(s,{size:20,strokeWidth:l?2.5:1.5,className:`\n                                                        mb-1 transition-colors duration-300\n                                                        ${l?"text-gold-bright drop-shadow-md":"text-muted group-hover:text-parchment"}\n                                                    `}),je.jsx("span",{className:`\n                                                    text-[9px] font-display uppercase tracking-widest transition-colors duration-300\n                                                    ${l?"text-white":"text-muted/60 group-hover:text-parchment"}\n                                                `,children:i}),je.jsx("span",{className:`\n                                                    absolute -top-8 text-[10px] font-japanese text-gold-mid\n                                                    transition-all duration-300 pointer-events-none\n                                                    ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-2 group-hover:opacity-70 group-hover:translate-y-0"}\n                                                `,children:o}),l&&je.jsx("div",{className:"absolute -bottom-1 w-1 h-1 rounded-full bg-gold-bright shadow-accent-sm"})]},r)})})})})]}),je.jsx(Sr,{}),je.jsx("div",{"data-testid":"app-ready",style:{position:"absolute",width:0,height:0,overflow:"hidden"}}),a&&je.jsxs("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 glass-card px-6 py-4 rounded-xl z-[100] animate-slide-down flex items-center gap-3 border-l-4 border-gold-mid","data-testid":"toast-message",children:[je.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-bright animate-pulse"}),je.jsx("span",{className:"font-display text-sm uppercase tracking-widest text-white",children:a})]}),r&&s&&s()]}),je.jsx("style",{children:"\n                .scrollbar-hide::-webkit-scrollbar {\n                    display: none;\n                }\n                .scrollbar-hide {\n                    -ms-overflow-style: none;\n                    scrollbar-width: none;\n                }\n            "})]})}const Or={},Ir=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=n?.nonce||n?.getAttribute("nonce");a=e(t.map(e=>{if((e=function(e){return"/Fuyuki/"+e}(e))in Or)return;Or[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,r&&a.setAttribute("nonce",r),document.head.appendChild(a),t?new Promise((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};function Dr({dexMod:e,profBonus:t=0,jackOfAllTrades:n=!1}){const a=e+(n?Math.floor(t/2):0);return je.jsxs("div",{className:"card-parchment p-4 mb-4",children:[je.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[je.jsx(K,{size:18,className:"text-white"}),je.jsx("h3",{className:"font-display text-sm text-parchment tracking-wider",children:"INITIATIVE"})]}),je.jsx("div",{className:"flex items-center justify-center",children:je.jsx("div",{className:"stat-circle",children:je.jsx("div",{className:"text-center",children:je.jsxs("span",{className:"font-display text-3xl text-parchment-light","data-testid":"initiative-result",children:[a>=0?"+":"",a]})})})}),je.jsx("div",{className:"flex justify-center mt-3",children:je.jsx("button",{className:"btn-fantasy text-[10px] px-3 py-1","data-testid":"initiative-roll-btn",onClick:()=>{},children:"Roll Initiative"})}),je.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[je.jsxs("div",{className:"flex items-center justify-between text-xs",children:[je.jsx("span",{className:"text-muted",children:"DEX Modifier"}),je.jsxs("span",{className:"text-parchment font-display",children:[e>=0?"+":"",e]})]}),n&&je.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[je.jsx("span",{className:"text-muted",children:"Jack of All Trades"}),je.jsxs("span",{className:"text-parchment font-display",children:["+",Math.floor(t/2)]})]})]})]})}function Rr({profBonus:e,level:t}){return je.jsxs("div",{className:"card-parchment p-4 mb-4",children:[je.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[je.jsx(G,{size:18,className:"text-white"}),je.jsx("h3",{className:"font-display text-sm text-parchment tracking-wider",children:"PROFICIENCY BONUS"})]}),je.jsx("div",{className:"flex items-center justify-center",children:je.jsx("div",{className:"stat-circle",children:je.jsx("div",{className:"text-center",children:je.jsxs("span",{className:"font-display text-3xl text-parchment-light","data-testid":"proficiency-bonus",children:["+",e]})})})}),je.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10 text-center",children:[je.jsx("span",{className:"text-xs text-muted",children:"Character Level"}),je.jsx("div",{className:"font-display text-lg text-parchment-light mt-1",children:t})]})]})}function Lr({abilityMods:e,profBonus:t,savingThrowProficiencies:n}){return je.jsxs("div",{className:"card-parchment p-4 mb-4",children:[je.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[je.jsx($,{size:18,className:"text-white"}),je.jsx("h3",{className:"font-display text-sm text-parchment tracking-wider",children:"SAVING THROWS"})]}),je.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{key:"str",label:"STR"},{key:"dex",label:"DEX"},{key:"con",label:"CON"},{key:"int",label:"INT"},{key:"wis",label:"WIS"},{key:"cha",label:"CHA"}].map(({key:a,label:r})=>{const s=n.includes(a),i=(e[a]||0)+(s?t:0);return je.jsx("div",{className:"p-3 rounded-lg border transition-all "+(s?"bg-white/5 border-white/20":"bg-card-elevated/60 border-white/10"),children:je.jsxs("div",{className:"flex items-center justify-between",children:[je.jsxs("div",{className:"flex items-center gap-2",children:[je.jsx("div",{className:"w-2 h-2 rounded-full "+(s?"bg-white shadow-[0_0_6px_rgba(255,255,255,0.4)]":"bg-white/20")}),je.jsx("span",{className:"text-xs uppercase tracking-wider "+(s?"text-parchment-light font-display":"text-muted"),children:r})]}),je.jsxs("span",{className:"font-display text-sm "+(s?"text-white":"text-muted"),"data-testid":`saving-throw-${a}`,children:[i>=0?"+":"",i]})]})},a)})}),je.jsx("div",{className:"mt-3 pt-3 border-t border-white/10",children:je.jsx("p",{className:"text-[10px] text-muted opacity-60",children:"Proficient saves shown with  indicator"})})]})}const Fr=[{name:"Brown Bear",hp:34,ac:11},{name:"Dire Wolf",hp:37,ac:14},{name:"Giant Spider",hp:26,ac:14},{name:"Giant Eagle",hp:26,ac:13}];function Vr({transformed:e,originalHP:t,onTransform:n,onDamage:a,onRevert:r,onHeal:s}){const[o,l]=i.useState("");return je.jsxs("div",{className:"card-parchment p-4 mb-4",children:[je.jsxs("div",{className:"flex items-center justify-between mb-3",children:[je.jsxs("div",{className:"flex items-center gap-2",children:[je.jsx(X,{size:18,className:e?"text-white":"text-muted"}),je.jsx("h3",{className:"font-display text-sm text-parchment tracking-wider",children:"Wild Shape"})]}),e&&je.jsxs("button",{onClick:r,className:"text-xs text-red-400 hover:text-red-300 flex items-center gap-1",children:[je.jsx(q,{size:12}),"Revert"]})]}),e?je.jsxs("div",{className:"space-y-3",children:[je.jsxs("div",{className:"bg-white/10 border border-white/20 rounded-lg p-3",children:[je.jsxs("div",{className:"flex items-center justify-between mb-2",children:[je.jsx("span",{className:"font-display text-white",children:e.creatureName}),je.jsxs("span",{className:"text-xs text-muted",children:["AC ",e.ac]})]}),je.jsxs("div",{className:"flex items-center gap-3",children:[je.jsx("div",{className:"flex-1",children:je.jsx("div",{className:"h-2 bg-card-elevated rounded-full overflow-hidden border border-white/10",children:je.jsx("div",{className:"h-full bg-white transition-all",style:{width:e.hp.current/e.hp.max*100+"%"}})})}),je.jsxs("span",{className:"text-sm text-white",children:[e.hp.current,"/",e.hp.max]})]})]}),je.jsxs("div",{className:"flex gap-2",children:[je.jsx("input",{type:"number",min:"1",value:o,onChange:e=>l(e.target.value),placeholder:"Damage",className:"flex-1 bg-card-elevated border border-white/10 rounded px-2 py-1 text-sm text-parchment text-center focus:outline-none focus:border-white/30"}),je.jsx("button",{onClick:()=>{const t=parseInt(o)||0;if(t>0&&e){const e=a(t);e.revert&&e.carryoverDamage}l("")},className:"btn-fantasy text-xs px-2 py-1 text-red-400",children:je.jsx(Y,{size:14})}),je.jsx("button",{onClick:()=>{const e=parseInt(o)||0;e>0&&s(e),l("")},className:"btn-fantasy text-xs px-2 py-1 text-white",children:je.jsx(J,{size:14})})]}),je.jsxs("p",{className:"text-[10px] text-muted opacity-60",children:["Excess damage carries over to original form (",t," HP)"]})]}):je.jsxs("div",{className:"space-y-2",children:[je.jsx("p",{className:"text-xs text-muted",children:"Select a beast form:"}),je.jsx("div",{className:"grid grid-cols-2 gap-2",children:Fr.map(e=>je.jsxs("button",{onClick:()=>n(e),className:"text-left p-2 bg-card-elevated border border-white/10 rounded hover:border-white/30 transition-colors",children:[je.jsx("div",{className:"text-xs text-parchment",children:e.name}),je.jsxs("div",{className:"text-[10px] text-muted",children:["HP ",e.hp,"  AC ",e.ac]})]},e.name))})]})]})}const Ur={0:{},1:{1:2},2:{1:3},3:{1:4,2:2},4:{1:4,2:3},5:{1:4,2:3,3:2},6:{1:4,2:3,3:3},7:{1:4,2:3,3:3,4:1},8:{1:4,2:3,3:3,4:2},9:{1:4,2:3,3:3,4:3,5:1},10:{1:4,2:3,3:3,4:3,5:2},11:{1:4,2:3,3:3,4:3,5:2,6:1},12:{1:4,2:3,3:3,4:3,5:2,6:1},13:{1:4,2:3,3:3,4:3,5:2,6:1,7:1},14:{1:4,2:3,3:3,4:3,5:2,6:1,7:1},15:{1:4,2:3,3:3,4:3,5:2,6:1,7:1,8:1},16:{1:4,2:3,3:3,4:3,5:2,6:1,7:1,8:1},17:{1:4,2:3,3:3,4:3,5:2,6:1,7:1,8:1,9:1},18:{1:4,2:3,3:3,4:3,5:3,6:1,7:1,8:1,9:1},19:{1:4,2:3,3:3,4:3,5:3,6:2,7:1,8:1,9:1},20:{1:4,2:3,3:3,4:3,5:3,6:2,7:2,8:1,9:1}};function qr(e){return e.filter(e=>e.level>0).map(e=>`${e.className} ${e.level}`).join(" / ")}const Wr=[{name:"Wizard",type:"full"},{name:"Cleric",type:"full"},{name:"Druid",type:"full"},{name:"Bard",type:"full"},{name:"Sorcerer",type:"full"},{name:"Paladin",type:"half"},{name:"Ranger",type:"half"},{name:"Eldritch Knight",type:"third"},{name:"Arcane Trickster",type:"third"}];function Br({currentSlots:e,onSlotsCalculated:t}){const[n,a]=i.useState([{className:"Wizard",level:5,casterType:"full"}]),[r,s]=i.useState(!1),o=function(e){let t=0;for(const{level:n,casterType:a}of e)switch(a){case"full":t+=n;break;case"half":t+=Math.floor(n/2);break;case"third":t+=Math.floor(n/3)}return Math.min(20,t)}(n),l=function(e){return Ur[Math.min(20,Math.max(0,e))]||{}}(o),c=(e,t)=>{a(n.map((n,a)=>a===e?{...n,level:Math.max(1,Math.min(20,n.level+t))}:n))};return je.jsxs("div",{className:"card-parchment p-4 mb-4",children:[je.jsxs("div",{className:"flex items-center justify-between mb-3",children:[je.jsxs("div",{className:"flex items-center gap-2",children:[je.jsx(ee,{size:18,className:"text-white"}),je.jsx("h3",{className:"font-display text-sm text-parchment tracking-wider",children:"Multiclass Spellcasting"})]}),je.jsx("button",{onClick:()=>s(!r),className:"text-xs text-white hover:text-white/80",children:r?"Hide":"Configure"})]}),je.jsx("div",{className:"bg-white/10 border border-white/20 rounded-lg p-3 mb-3",children:je.jsxs("div",{className:"flex items-center justify-between",children:[je.jsxs("div",{children:[je.jsx("p",{className:"text-xs text-muted",children:"Classes"}),je.jsx("p",{className:"text-sm text-white",children:qr(n)})]}),je.jsxs("div",{className:"text-right",children:[je.jsx("p",{className:"text-xs text-muted",children:"Caster Level"}),je.jsx("p",{className:"text-2xl font-display text-white",children:o})]})]})}),je.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(l).map(([e,t])=>je.jsxs("div",{className:"text-center bg-card-elevated rounded px-2 py-1 border border-white/10",children:[je.jsxs("p",{className:"text-[10px] text-muted",children:["Lv",e]}),je.jsx("p",{className:"text-sm text-parchment",children:t})]},e))}),r&&je.jsxs("div",{className:"border-t border-white/10 pt-3 space-y-3",children:[n.map((e,t)=>je.jsxs("div",{className:"flex items-center gap-2",children:[je.jsx("select",{value:e.className,onChange:e=>{const r=Wr.find(t=>t.name===e.target.value);r&&a(n.map((e,n)=>n===t?{...e,className:r.name,casterType:r.type}:e))},className:"flex-1 bg-card-elevated border border-white/10 rounded px-2 py-1 text-sm text-parchment focus:outline-none focus:border-white/30",children:Wr.map(e=>je.jsx("option",{value:e.name,children:e.name},e.name))}),je.jsxs("div",{className:"flex items-center gap-1",children:[je.jsx("button",{onClick:()=>c(t,-1),className:"p-1 text-muted hover:text-parchment",children:je.jsx(Y,{size:14})}),je.jsx("span",{className:"w-6 text-center text-parchment",children:e.level}),je.jsx("button",{onClick:()=>c(t,1),className:"p-1 text-muted hover:text-parchment",children:je.jsx(J,{size:14})})]}),je.jsxs("span",{className:"text-[10px] text-muted w-12",children:["(","full"===e.casterType?"1x":"half"===e.casterType?"x":"x",")"]}),n.length>1&&je.jsx("button",{onClick:()=>(e=>{n.length>1&&a(n.filter((t,n)=>n!==e))})(t),className:"text-red-400 hover:text-red-300 text-xs",children:""})]},t)),je.jsxs("div",{className:"flex gap-2",children:[je.jsxs("button",{onClick:()=>{const e=Wr.filter(e=>!n.some(t=>t.className===e.name));e.length>0&&a([...n,{className:e[0].name,level:1,casterType:e[0].type}])},className:"flex-1 btn-fantasy text-xs py-2",disabled:n.length>=Wr.length,children:[je.jsx(J,{size:12,className:"inline mr-1"}),"Add Class"]}),je.jsxs("button",{onClick:()=>{const n={};Object.entries(l).forEach(([t,a])=>{const r=parseInt(t),s=e?.[r]?.used??0;n[r]={used:Math.min(s,a),max:a}}),t(n),s(!1)},className:"flex-1 btn-fantasy text-xs py-2 bg-white/20",children:[je.jsx(te,{size:12,className:"inline mr-1"}),"Apply Slots"]})]}),je.jsx("p",{className:"text-[10px] text-muted opacity-60",children:"Full: Wizard, Cleric, Druid, Bard, Sorcerer (1x)  Half: Paladin, Ranger (x)  Third: EK, AT (x)"})]})]})}function $r({hitDice:e,conMod:t,currentHP:n,maxHP:a,onSpend:r}){const[s,o]=i.useState(null),l=e.current>0&&n<a;return je.jsxs("div",{className:"card-parchment p-4",children:[je.jsxs("div",{className:"flex items-center justify-between mb-3",children:[je.jsxs("div",{className:"flex items-center gap-2",children:[je.jsx(ne,{size:18,className:"text-white"}),je.jsx("h3",{className:"font-display text-sm text-parchment tracking-wider",children:"Hit Dice"})]}),je.jsxs("span",{className:"text-xs "+(0===e.current?"text-red-400":"text-muted"),children:[je.jsx("span",{"data-testid":"hit-dice-available",children:e.current}),"/",je.jsx("span",{"data-testid":"hit-dice-total",children:e.max})," d",e.size]})]}),je.jsx("div",{className:"flex items-center gap-2 mb-4",children:Array.from({length:e.max}).map((t,n)=>{const a=n<e.current;return je.jsxs("div",{className:"w-8 h-8 rounded-lg border-2 flex items-center justify-center text-xs font-display transition-all "+(a?"bg-white/10 border-white/30 text-white":"bg-transparent border-white/10 text-muted"),"data-testid":`hit-die-orb-${n}`,children:["d",e.size]},n)})}),s&&je.jsx("div",{className:"bg-white/10 border border-white/20 rounded-lg p-3 mb-3 animate-scale-in","data-testid":"hit-dice-roll-display",children:je.jsxs("div",{className:"flex items-center justify-center gap-3",children:[je.jsx("span",{className:"text-muted text-sm",children:"Rolled"}),je.jsx("span",{className:"font-display text-2xl text-white",children:s.roll}),je.jsxs("span",{className:"text-muted text-sm",children:["+ ",t," CON ="]}),je.jsxs("div",{className:"flex items-center gap-1",children:[je.jsx(ae,{size:16,className:"text-white"}),je.jsx("span",{className:"font-display text-2xl text-white",children:s.total})]})]})}),je.jsxs("button",{onClick:()=>{if(!l)return;const s=Math.floor(Math.random()*e.size)+1,i=Math.max(0,s+t),c=Math.min(i,a-n);o({roll:s,total:i}),r(c,1),setTimeout(()=>o(null),3e3)},disabled:!l,className:"w-full btn-fantasy py-3 flex items-center justify-center gap-2 "+(l?"":"opacity-50 cursor-not-allowed"),"data-testid":"spend-hit-die-btn",children:[je.jsx(ne,{size:16}),n>=a?"HP Full":0===e.current?"No Hit Dice":"Spend Hit Die"]}),je.jsxs("p",{className:"text-[10px] text-muted mt-2 text-center opacity-60",children:["Roll d",e.size," + ",t," CON mod to heal"]})]})}function Qr({hitDice:e,conMod:t,currentHP:n,maxHP:a,onSpendHitDie:r,onShortRest:s,onLongRest:o}){const[l,c]=i.useState(!1);return l?je.jsxs("div",{className:"pb-20",children:[je.jsxs("div",{className:"flex items-center justify-between mb-6",children:[je.jsxs("div",{className:"flex items-center gap-3",children:[je.jsx(re,{size:24,className:"text-white"}),je.jsx("h2",{className:"font-display text-xl text-parchment-light tracking-wider",children:"Short Rest"})]}),je.jsx("button",{onClick:()=>c(!1),className:"p-2 text-muted hover:text-white transition-colors",children:je.jsx(q,{size:20})})]}),je.jsxs("div",{className:"card-parchment p-4 mb-4",children:[je.jsxs("div",{className:"flex items-center justify-between",children:[je.jsx("span",{className:"text-sm text-muted",children:"Current HP"}),je.jsxs("span",{className:"font-display text-xl text-white",children:[n," ",je.jsxs("span",{className:"text-muted",children:["/ ",a]})]})]}),je.jsx("div",{className:"h-2 bg-card-elevated rounded-full overflow-hidden mt-2 border border-white/10",children:je.jsx("div",{className:"h-full bg-white transition-all duration-300",style:{width:n/a*100+"%"}})})]}),je.jsx("div",{"data-testid":"hit-dice-display",children:je.jsx($r,{hitDice:e,conMod:t,currentHP:n,maxHP:a,onSpend:r})}),je.jsxs("div",{className:"mt-8 flex flex-col gap-4",children:[je.jsx("button",{onClick:()=>{s(),c(!1)},className:"w-full btn-primary-action p-4 text-center","data-testid":"finish-short-rest-btn",children:je.jsx("span",{className:"font-kyoto uppercase tracking-[0.2em]",children:"Finish Short Rest"})}),je.jsx("p",{className:"text-xs text-muted text-center opacity-60",children:"Pact Slots will be refilled upon finishing the rest."})]})]}):je.jsxs("div",{className:"pb-20 flex flex-col items-center justify-center h-full min-h-[60vh]",children:[je.jsxs("div",{className:"text-center mb-10",children:[je.jsxs("div",{className:"relative inline-block mb-4",children:[je.jsx(se,{size:48,className:"text-parchment"}),je.jsx(X,{size:16,className:"text-white absolute -top-1 -right-1 animate-pulse"})]}),je.jsx("h2",{className:"font-display text-2xl text-parchment-light tracking-wider mb-2",children:"Rest & Recovery"}),je.jsx("p",{className:"text-sm text-muted max-w-xs mx-auto",children:"Choose a rest type to recover hit points and spell slots."})]}),je.jsxs("div",{className:"w-full space-y-4",children:[je.jsx("button",{onClick:()=>c(!0),className:"w-full card-parchment p-5 text-left group transition-all hover:shadow-accent-subtle","data-testid":"short-rest-btn",children:je.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[je.jsx("div",{className:"p-3 bg-card-elevated rounded-full border border-accent/10 group-hover:border-accent/30 transition-colors",children:je.jsx(re,{size:24,className:"text-accent group-hover:text-white transition-colors"})}),je.jsxs("div",{className:"flex-1",children:[je.jsx("h3",{className:"font-kyoto text-lg text-parchment group-hover:text-white transition-colors tracking-widest uppercase",children:"Short Rest"}),je.jsxs("p",{className:"text-[10px] text-muted uppercase tracking-widest",children:["Spend Hit Dice to heal  ",e.current,"/",e.max," available"]})]}),je.jsx(ie,{size:20,className:"text-muted group-hover:text-white transition-colors"})]})}),je.jsx("button",{onClick:()=>{confirm("Take a Long Rest? This will reset HP, Pact Slots, Invocations, and recover Hit Dice.")&&o()},className:"w-full card-parchment p-5 text-left group transition-all hover:shadow-accent-md","data-testid":"long-rest-btn",children:je.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[je.jsx("div",{className:"p-3 bg-card-elevated rounded-full border border-accent/10 group-hover:border-accent/30 transition-colors",children:je.jsx(oe,{size:24,className:"text-accent group-hover:text-white transition-colors"})}),je.jsxs("div",{className:"flex-1",children:[je.jsx("h3",{className:"font-kyoto text-lg text-parchment group-hover:text-white transition-colors tracking-widest uppercase",children:"Long Rest"}),je.jsx("p",{className:"text-[10px] text-muted uppercase tracking-widest",children:"Full HP, Pact Slots, Invocations,  Hit Dice"})]}),je.jsx(ie,{size:20,className:"text-muted group-hover:text-white transition-colors"})]})})]})]})}ma.number().int().min(1).max(9999);const Hr=ma.number().int().min(3).max(30),Zr=ma.number().int().min(1).max(20);function Kr(e){const t=parseInt(String(e))||10;return Hr.parse(t)}function Gr(e){const t=parseInt(String(e))||1;return Zr.parse(t)}const Xr={str:"Strength",dex:"Dexterity",con:"Constitution",int:"Intelligence",wis:"Wisdom",cha:"Charisma"};function Yr({data:e,onLevelChange:t,onAbilityChange:n}){const[a,r]=i.useState(!1),s=n=>{const a=Gr(e.level+n);a!==e.level&&t(a)},o=(t,a)=>{const r=Kr(e.abilities[t]+a);r!==e.abilities[t]&&n(t,r)};return je.jsxs("div",{className:"card-parchment p-4 mb-4",children:[je.jsxs("button",{onClick:()=>r(!a),className:"w-full flex items-center justify-between","data-testid":"character-editor-toggle",children:[je.jsxs("div",{className:"flex items-center gap-2 text-accent",children:[je.jsx(le,{size:18}),je.jsx("h3",{className:"text-sm font-kyoto uppercase tracking-widest",children:"Character Settings"})]}),a?je.jsx(ce,{size:18}):je.jsx(ue,{size:18})]}),a&&je.jsxs("div",{className:"mt-4 space-y-4 animate-scale-in",children:[je.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-lg border border-white/10",children:[je.jsxs("div",{className:"flex flex-col",children:[je.jsx("span",{className:"label-kyoto mb-0",children:"Character Level"}),je.jsx("span",{className:"text-[10px] text-accent/60 font-display",children:""})]}),je.jsxs("div",{className:"flex items-center gap-3",children:[je.jsx("button",{onClick:()=>s(-1),className:"p-1 hover:text-accent","data-testid":"level-decrease-btn",children:je.jsx(Y,{size:16})}),je.jsx("input",{type:"number",value:e.level,onChange:e=>(e=>{const n=Gr(parseInt(e)||Aa);t(n)})(e.target.value),className:"w-16 text-center input-kyoto font-display","data-testid":"level-input"}),je.jsx("button",{onClick:()=>s(1),className:"p-1 hover:text-accent","data-testid":"level-increase-btn",children:je.jsx(J,{size:16})})]})]}),je.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(Xr).map(t=>je.jsxs("div",{className:"bg-white/5 p-2 rounded border border-white/10",children:[je.jsx("span",{className:"label-kyoto text-[10px] mb-1",children:Xr[t]}),je.jsxs("div",{className:"flex items-center justify-between gap-1",children:[je.jsx("input",{type:"number",value:e.abilities[t],onChange:e=>((e,t)=>{const a=Kr(parseInt(t)||1);n(e,a)})(t,e.target.value),className:"w-12 text-center input-kyoto font-display text-sm p-1","data-testid":`ability-${t}-input`}),je.jsxs("div",{className:"flex flex-col",children:[je.jsx("button",{onClick:()=>o(t,1),className:"p-0.5 hover:text-accent","data-testid":`ability-${t}-increase-btn`,children:je.jsx(ce,{size:12})}),je.jsx("button",{onClick:()=>o(t,-1),className:"p-0.5 hover:text-accent","data-testid":`ability-${t}-decrease-btn`,children:je.jsx(ue,{size:12})})]})]})]},t))}),je.jsx("div",{className:"mt-4 pt-3 border-t border-white/10 text-center",children:je.jsx("p",{className:"text-[10px] text-muted italic",children:"Changes auto-save and cascade to derived stats per SRD 5.1"})})]})]})}const Jr=i.lazy(()=>Ir(()=>import("./DashboardView-9_fRyIjG.js"),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.DashboardView}))),es=i.lazy(()=>Ir(()=>import("./SpellsView-C2nLf8m2.js"),__vite__mapDeps([4,1,2,3]))),ts=i.lazy(()=>Ir(()=>import("./CombatView-BkDYfvCa.js"),__vite__mapDeps([5,1,2,3])).then(e=>({default:e.CombatView}))),ns=i.lazy(()=>Ir(()=>import("./CharacterHubView-CPriA6xT.js"),__vite__mapDeps([6,1,2,7,3])).then(e=>({default:e.CharacterHubView}))),as=i.lazy(()=>Ir(()=>import("./MoreView-D8Q06riY.js"),__vite__mapDeps([8,2,1,3])).then(e=>({default:e.MoreView}))),rs=i.lazy(()=>Ir(()=>import("./InventoryView-Dk-NWAlS.js"),__vite__mapDeps([9,1,2,3])).then(e=>({default:e.InventoryView}))),ss=i.lazy(()=>Ir(()=>import("./PatronView-Ci1VU2JW.js"),__vite__mapDeps([10,1,2,3])).then(e=>({default:e.PatronView}))),is=i.lazy(()=>Ir(()=>import("./GrimoireView-CJrjf5EJ.js"),__vite__mapDeps([7,1,2,3])).then(e=>({default:e.GrimoireView})));function os(){return je.jsx("div",{className:"flex items-center justify-center min-h-screen",children:je.jsx("div",{className:"animate-pulse text-muted",children:"Loading..."})})}function ls({activeTab:e,onNavigate:t,character:n,dispatch:a,updateHealth:r,updateTempHP:s,updateDeathSaves:o,handleSpendHitDie:l,handleShortRest:c,handleLongRest:u,handleLevelChange:d,handleAbilityChange:f,itemAttuned:m,itemUnattuned:p}){return je.jsx(i.Suspense,{fallback:je.jsx(os,{}),children:(()=>{switch(e){case"stats":return je.jsx(Jr,{character:n,updateHealth:r,updateTempHP:s,updateDeathSaves:o});case"spells":return je.jsx("div",{className:"animate-fade-in",children:je.jsx(es,{})});case"combat":return je.jsxs("div",{className:"animate-fade-in",children:[je.jsx(ts,{}),n.transformed&&je.jsx(Vr,{transformed:n.transformed,originalHP:n.hp.current,onTransform:e=>a(hr(e)),onDamage:e=>(a(vr(e)),{revert:!1,carryoverDamage:0}),onRevert:()=>a(gr()),onHeal:e=>{if(n.transformed){const t=n.transformed.hp.current+e;a(yr(t))}}})]});case"grimoire":return je.jsx("div",{className:"animate-fade-in",children:je.jsx(is,{})});case"character":return je.jsx(ns,{character:n,actions:{itemAttuned:m,itemUnattuned:p}});case"more":return je.jsx(as,{onSelectView:t});case"patron":return je.jsxs("div",{className:"animate-fade-in",children:[je.jsx("button",{onClick:()=>t("more"),className:"mb-4 flex items-center gap-1 text-sm text-accent hover:text-white transition-colors",children:" Back to Menu"}),je.jsx(ss,{})]});case"inventory":return je.jsxs("div",{className:"animate-fade-in",children:[je.jsx("button",{onClick:()=>t("more"),className:"mb-4 flex items-center gap-1 text-sm text-accent hover:text-white transition-colors",children:" Back to Menu"}),je.jsx(rs,{})]});case"settings":return je.jsxs("div",{className:"animate-fade-in",children:[je.jsx("button",{onClick:()=>t("more"),className:"mb-4 flex items-center gap-1 text-sm text-accent hover:text-white transition-colors",children:" Back to Menu"}),je.jsx(Yr,{data:n,onLevelChange:d,onAbilityChange:f}),je.jsx(Dr,{dexMod:n.abilityMods.dex,profBonus:n.profBonus}),je.jsx(Rr,{profBonus:n.profBonus,level:n.level}),je.jsx(Lr,{abilityMods:n.abilityMods,profBonus:n.profBonus,savingThrowProficiencies:n.savingThrowProficiencies}),je.jsx("div",{className:"mt-8 border-t border-white/5 pt-8",children:je.jsx(Qr,{hitDice:n.hitDice,conMod:n.abilityMods.con,currentHP:n.hp.current,maxHP:n.hp.max,onSpendHitDie:l,onShortRest:c,onLongRest:u})}),je.jsx("div",{className:"mt-8 border-t border-white/5 pt-8",children:je.jsx(Br,{currentSlots:n.slots,onSlotsCalculated:e=>a(br(e))})})]});default:return null}})()})}const cs=m(),us=cs.getInitialState({preparedSpellIds:[],availableSlots:{1:4,2:3,3:2,4:1},maxSlots:{1:4,2:3,3:2,4:1}}),ds=d({name:"spellbook",initialState:us,reducers:{spellLearned:cs.addOne,spellsLearned:cs.addMany,spellPrepared:(e,t)=>{e.preparedSpellIds.includes(t.payload)||e.preparedSpellIds.push(t.payload)},spellUnprepared:(e,t)=>{e.preparedSpellIds=e.preparedSpellIds.filter(e=>e!==t.payload)},slotExpended:(e,t)=>{const{level:n}=t.payload;e.availableSlots&&e.availableSlots[n]&&e.availableSlots[n]>0&&(e.availableSlots[n]-=1)},slotsRestored:e=>{e.availableSlots={...e.maxSlots}}}}),{spellLearned:fs,spellsLearned:ms,spellPrepared:ps,spellUnprepared:hs,slotExpended:gs,slotsRestored:ys}=ds.actions,vs=ds.reducer,bs=m(),xs={phase:"idle",currentRound:1,activeConcentration:null,concentrationCheckDC:null,initiativeOrder:[],currentTurnIndex:0,minions:bs.getInitialState(),casting:{step:"idle",spellId:null,slotLevel:null,resolutionMode:null},log:[],conditions:[],undeadCommand:null,reactionAvailable:!0,bonusActionAvailable:!0,inCombat:!1,stable:!1},ks=d({name:"combat",initialState:xs,reducers:{concentrationStarted:(e,t)=>{e.activeConcentration={spellId:t.payload.spellId,spellName:t.payload.spellName,startRound:e.currentRound,maxDurationRounds:t.payload.maxDurationRounds},e.concentrationCheckDC=null},concentrationBroken:e=>{e.activeConcentration=null,e.concentrationCheckDC=null},concentrationCheckRequired:(e,t)=>{const n=Math.max(10,Math.floor(t.payload.damage/2));e.concentrationCheckDC=n},concentrationCheckResolved:(e,t)=>{t.payload.passed||(e.activeConcentration=null),e.concentrationCheckDC=null},minionAdded:(e,t)=>{bs.addOne(e.minions,t.payload),e.initiativeOrder.includes(t.payload.id)||e.initiativeOrder.push(t.payload.id)},minionRemoved:(e,t)=>{bs.removeOne(e.minions,t.payload),e.initiativeOrder=e.initiativeOrder.filter(e=>e!==t.payload)},minionUpdated:(e,t)=>{bs.updateOne(e.minions,{id:t.payload.id,changes:t.payload.changes})},minionDamaged:(e,t)=>{const n=e.minions.entities[t.payload.id];if(n){const a=Math.max(0,n.hp-t.payload.damage);bs.updateOne(e.minions,{id:t.payload.id,changes:{hp:a}})}},minionHealed:(e,t)=>{const n=e.minions.entities[t.payload.id];if(n){const a=Math.min(n.maxHp,n.hp+t.payload.healing);bs.updateOne(e.minions,{id:t.payload.id,changes:{hp:a}})}},allMinionsCleared:e=>{bs.removeAll(e.minions),e.initiativeOrder=e.initiativeOrder.filter(e=>"player"===e)},combatStarted:e=>{e.phase="idle",e.currentRound=1,e.currentTurnIndex=0},turnAdvanced:e=>{e.initiativeOrder.length>0&&(e.currentTurnIndex=(e.currentTurnIndex+1)%e.initiativeOrder.length,0===e.currentTurnIndex&&(e.currentRound+=1))},combatEnded:e=>{e.phase="idle",e.currentRound=1,e.currentTurnIndex=0,e.activeConcentration=null,e.concentrationCheckDC=null},castingStarted:(e,t)=>{e.phase="casting",e.casting={step:"select_spell",spellId:t.payload.spellId,slotLevel:null,resolutionMode:null}},slotConfirmed:(e,t)=>{e.casting.step="resolve",e.casting.slotLevel=t.payload.slotLevel,e.casting.resolutionMode=t.payload.resolutionMode,e.phase="resolving"},castingResolved:e=>{e.casting.step="apply_effects"},castingCompleted:e=>{e.casting={step:"idle",spellId:null,slotLevel:null,resolutionMode:null},e.phase="idle"},castingCancelled:e=>{e.casting={step:"idle",spellId:null,slotLevel:null,resolutionMode:null},e.phase="idle"},combatLogAdded:(e,t)=>{const n={id:crypto.randomUUID(),timestamp:(new Date).toISOString(),...t.payload};e.log=[n,...e.log].slice(0,50)},conditionAdded:(e,t)=>{e.conditions.includes(t.payload)||e.conditions.push(t.payload)},conditionRemoved:(e,t)=>{e.conditions=e.conditions.filter(e=>e!==t.payload)},undeadCommandSet:(e,t)=>{e.undeadCommand=t.payload,"commanded"===t.payload&&(e.bonusActionAvailable=!1)},reactionToggled:e=>{e.reactionAvailable=!e.reactionAvailable},bonusActionToggled:e=>{e.bonusActionAvailable=!e.bonusActionAvailable}}}),{concentrationStarted:ws,concentrationBroken:Ss,concentrationCheckRequired:Ns,concentrationCheckResolved:Ts,minionAdded:Cs,minionRemoved:_s,minionUpdated:js,minionDamaged:Es,minionHealed:As,allMinionsCleared:Ps,combatStarted:zs,turnAdvanced:Ms,combatEnded:Os,castingStarted:Is,slotConfirmed:Ds,castingResolved:Rs,castingCompleted:Ls,castingCancelled:Fs,combatLogAdded:Vs,conditionAdded:Us,conditionRemoved:qs,undeadCommandSet:Ws,reactionToggled:Bs,bonusActionToggled:$s}=ks.actions,Qs=()=>(e,t)=>{const n=t().combat.casting.slotLevel??0;n>0&&e(gs({level:n})),e(Ls())},Hs=bs.getSelectors(),Zs=ks.reducer,Ks=({spell:e,slotLevel:t,onHit:n,onMiss:a,onPass:r,onFail:s,onApply:i,onCancel:o})=>{const l=Re(qa),c=Re(Va),u=e.description||e.desc||"",d=e.decisionTree??[],f=e.requiresAttackRoll,m=e.requiresSavingThrow,p=!f&&!m,h=(()=>{if(!e.damage||0===e.damage.length)return null;const n=e.damage[0];let a=n.count;if("per_slot_level"===n.scaling?.type&&n.scaling.diceIncreasePerLevel){a+=(t-e.level)*n.scaling.diceIncreasePerLevel}return`${a}d${n.sides} ${n.type}`})();return je.jsxs("div",{className:"card-parchment overflow-hidden shadow-2xl","data-testid":"resolution-panel",children:[je.jsxs("div",{className:"relative px-6 py-4 border-b border-gold-dim/10 bg-white/5",children:[je.jsxs("div",{className:"flex items-baseline justify-between",children:[je.jsx("h3",{className:"text-xl font-display font-bold text-parchment-light tracking-wide uppercase",children:e.name}),je.jsxs("span",{className:"text-xs font-japanese text-gold-dim opacity-50 tracking-widest",children:[" ",e.level||"0"]})]}),t>0&&t>e.level&&je.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[je.jsx("span",{className:"w-1 h-1 rounded-full bg-accent"}),je.jsxs("span",{className:"text-[10px] text-accent font-display tracking-wider uppercase",children:["Upcast / Level ",t]})]}),je.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t border-r border-gold-dim/20"})]}),je.jsxs("div",{className:"p-4 space-y-4",children:[(u||d.length>0||e.higherLevelDescription)&&je.jsxs("details",{className:"bg-card-elevated/60 border border-white/10 rounded-lg p-3",children:[je.jsx("summary",{className:"cursor-pointer text-xs text-muted font-display tracking-wider uppercase",children:"Spell details"}),je.jsxs("div",{className:"mt-3 space-y-3",children:[u&&je.jsx("p",{className:"text-sm text-parchment leading-relaxed whitespace-pre-wrap",children:u}),e.higherLevelDescription&&je.jsxs("div",{className:"text-xs text-muted",children:[je.jsx("span",{className:"font-display text-parchment-light",children:"At Higher Levels:"})," ",je.jsx("span",{className:"text-parchment",children:e.higherLevelDescription})]}),d.length>0&&je.jsxs("div",{className:"space-y-1",children:[je.jsx("div",{className:"text-[10px] text-muted uppercase tracking-wider font-display",children:"Decision Tree / Scaling"}),je.jsx("ul",{className:"list-disc pl-5 text-sm text-parchment",children:d.map(e=>je.jsxs("li",{children:[je.jsxs("span",{className:"text-parchment-light font-display",children:["Lvl ",e.level,":"]})," ",e.summary]},`${e.level}-${e.summary}`))})]})]})]}),f&&je.jsxs("div",{className:"space-y-4",children:[je.jsxs("div",{className:"flex items-center gap-3 text-red-400",children:[je.jsx(de,{className:"w-6 h-6"}),je.jsx("span",{className:"text-lg font-bold uppercase tracking-wider",children:"Spell Attack"})]}),je.jsxs("div",{className:"bg-card-elevated rounded-lg p-4 text-center border border-white/10",children:[je.jsx("div",{className:"text-xs text-muted uppercase tracking-wider mb-2 font-display",children:"Roll"}),je.jsxs("div",{className:"text-3xl font-mono font-bold text-white",children:["d20 + ",l]}),je.jsx("div",{className:"text-sm text-muted mt-2",children:"vs Target AC"})]}),h&&je.jsxs("div",{className:"bg-card-elevated/60 border border-white/10 rounded-lg p-3 text-center",children:[je.jsx("div",{className:"text-xs text-muted uppercase tracking-wider mb-1 font-display",children:"On Hit"}),je.jsx("div",{className:"text-xl font-mono text-red-400",children:h})]}),je.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[je.jsxs("button",{onClick:n,className:"group relative overflow-hidden h-16 rounded bg-stone-900 border border-stone-700 hover:border-moss transition-all duration-300",children:[je.jsx("div",{className:"absolute inset-0 bg-[url('/assets/noise.png')] opacity-10"}),je.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-1",children:[je.jsx("span",{className:"text-2xl font-japanese text-moss group-hover:scale-110 transition-transform duration-300",children:""}),je.jsx("span",{className:"text-[9px] uppercase tracking-[0.2em] text-moss/70",children:"Hit"})]}),je.jsx("div",{className:"absolute -right-2 -bottom-2 w-8 h-8 opacity-0 group-hover:opacity-20 bg-moss rounded-full blur-lg transition-opacity duration-300"})]}),je.jsxs("button",{onClick:a,className:"group relative overflow-hidden h-16 rounded bg-stone-900 border border-stone-700 hover:border-stone-500 transition-all duration-300",children:[je.jsx("div",{className:"absolute inset-0 bg-[url('/assets/noise.png')] opacity-10"}),je.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-1",children:[je.jsx("span",{className:"text-2xl font-japanese text-stone-500 group-hover:text-stone-300 transition-colors duration-300",children:""}),je.jsx("span",{className:"text-[9px] uppercase tracking-[0.2em] text-stone-600",children:"Miss"})]})]})]})]}),m&&je.jsxs("div",{className:"space-y-4",children:[je.jsxs("div",{className:"flex items-center gap-3 text-blue-400",children:[je.jsx($,{className:"w-6 h-6"}),je.jsx("span",{className:"text-lg font-bold uppercase tracking-wider",children:"Saving Throw"})]}),je.jsxs("div",{className:"bg-card-elevated rounded-lg p-4 text-center border border-white/10",children:[je.jsxs("div",{className:"text-xs text-muted uppercase tracking-wider mb-2 font-display",children:["Target rolls ",e.savingThrowDetails?.ability||"Dexterity"," Save"]}),je.jsxs("div",{className:"text-3xl font-mono font-bold text-white",children:["DC ",c]})]}),h&&je.jsxs("div",{className:"flex gap-3",children:[je.jsxs("div",{className:"flex-1 bg-red-950/30 border border-red-900/30 rounded-lg p-3 text-center",children:[je.jsx("div",{className:"text-xs text-muted uppercase tracking-wider mb-1 font-display",children:"On Fail"}),je.jsx("div",{className:"text-lg font-mono text-red-400",children:h})]}),je.jsxs("div",{className:"flex-1 bg-card-elevated/60 border border-white/10 rounded-lg p-3 text-center",children:[je.jsx("div",{className:"text-xs text-muted uppercase tracking-wider mb-1 font-display",children:"On Pass"}),je.jsx("div",{className:"text-lg font-mono text-muted",children:"half"===e.savingThrowDetails?.onSuccess?"Half Damage":"No Effect"})]})]}),je.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[je.jsxs("button",{onClick:s,className:"flex items-center justify-center gap-2 px-4 py-3 bg-red-900/30 hover:bg-red-900/50 border border-red-800 rounded-lg text-red-400 font-bold uppercase tracking-wider transition-colors",children:[je.jsx(q,{className:"w-5 h-5"}),"Failed Save"]}),je.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-4 py-3 bg-green-900/30 hover:bg-green-900/50 border border-green-800 rounded-lg text-green-300 font-bold uppercase tracking-wider transition-colors",children:[je.jsx(fe,{className:"w-5 h-5"}),"Passed Save"]})]})]}),p&&je.jsxs("div",{className:"space-y-4",children:[je.jsxs("div",{className:"flex items-center gap-3 text-purple-400",children:[je.jsx(X,{className:"w-6 h-6"}),je.jsx("span",{className:"text-lg font-bold uppercase tracking-wider",children:"Automatic Effect"})]}),je.jsxs("div",{className:"bg-card-elevated rounded-lg p-4 text-center border border-white/10",children:[je.jsx("div",{className:"text-xs text-muted uppercase tracking-wider mb-2 font-display",children:"No Roll Needed"}),je.jsx("div",{className:"text-lg text-parchment-light",children:"Effect applies automatically"})]}),h&&je.jsxs("div",{className:"bg-purple-950/30 border border-purple-900/30 rounded-lg p-3 text-center",children:[je.jsx("div",{className:"text-xs text-muted uppercase tracking-wider mb-1 font-display",children:"Damage"}),je.jsx("div",{className:"text-xl font-mono text-purple-400",children:h})]}),je.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-purple-900/30 hover:bg-purple-900/50 border border-purple-800 rounded-lg text-purple-300 font-bold uppercase tracking-wider transition-colors",children:[je.jsx(X,{className:"w-5 h-5"}),"Apply Effect"]})]})]}),je.jsx("div",{className:"px-4 py-3 border-t border-white/10 bg-card-elevated/40",children:je.jsx("button",{onClick:o,className:"w-full text-center text-muted hover:text-white text-sm font-bold uppercase tracking-wider transition-colors",children:"Cancel"})})]})},Gs=[{name:"Acid Splash",lvl:0,school:"CONJ",castTime:"1 Action",range:"60 ft",duration:"Instantaneous",components:"V, S",effect:"Hurl acid at one or two creatures close together.",rolls:"DEX save",damage:"1d6",damageType:"Acid",decisionTree:[{level:5,summary:"Damage scales to 2 dice."},{level:11,summary:"Damage scales to 3 dice."},{level:17,summary:"Damage scales to 4 dice."}],desc:"One or two targets (within 5 ft of each other) make a Dexterity save or take acid damage. Damage scales with character level."},{name:"Blade Ward",lvl:0,school:"ABJ",castTime:"1 Action",range:"Self",duration:"1 round",components:"V, S",effect:"Briefly ward yourself against weapon strikes.",rolls:"None",damage:"",damageType:"Defense",decisionTree:[],desc:"Until the end of your next turn, you have resistance to bludgeoning, piercing, and slashing damage from weapon attacks."},{name:"Chill Touch",classes:["Warlock","Wizard"],lvl:0,school:"NECRO",castTime:"1 Action",range:"120 ft",duration:"1 round",components:"V, S",effect:"Ranged spell attack that hinders healing.",rolls:"Spell Attack",damage:"1d8",damageType:"Necrotic",decisionTree:[{level:5,summary:"Damage scales to 2 dice."},{level:11,summary:"Damage scales to 3 dice."},{level:17,summary:"Damage scales to 4 dice."}],desc:"Make a ranged spell attack; on hit deal necrotic damage and the target can't regain HP until the start of your next turn."},{name:"Fire Bolt",lvl:0,school:"EVO",castTime:"1 Action",range:"120 ft",duration:"Instantaneous",components:"V, S",effect:"Ranged fire attack; can ignite objects.",rolls:"Spell Attack",damage:"1d10",damageType:"Fire",decisionTree:[{level:5,summary:"Damage scales to 2 dice."},{level:11,summary:"Damage scales to 3 dice."},{level:17,summary:"Damage scales to 4 dice."}],desc:"Make a ranged spell attack; on hit deal fire damage. Flammable objects can ignite if not worn/carried."},{name:"Light",lvl:0,school:"EVO",castTime:"1 Action",range:"Touch",duration:"1 hour",components:"V, M",effect:"Make an object glow with bright light.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"An object sheds bright light (20 ft) and dim light (20 ft) for the duration. Can be covered to block the light."},{name:"Mage Hand",classes:["Warlock","Wizard"],lvl:0,school:"CONJ",castTime:"1 Action",range:"30 ft",duration:"1 minute",components:"V, S",effect:"Create a spectral hand to manipulate objects at range.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"A spectral hand appears; it can manipulate objects, open unlocked containers, stow/retrieve items, and more (no attacks)."},{name:"Mending",lvl:0,school:"TRANS",castTime:"1 Minute",range:"Touch",duration:"Instantaneous",components:"V, S, M",effect:"Repair a break or tear in an object.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Repairs a single break or tear in an object you touch. It can't restore magic or repair extremely large damage."},{name:"Message",lvl:0,school:"TRANS",castTime:"1 Action",range:"120 ft",duration:"1 round",components:"V, S, M",effect:"Whisper a private message and receive a reply.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Send a whispered message to a creature within range; only it can hear, and it can whisper back."},{name:"Minor Illusion",classes:["Warlock","Wizard"],lvl:0,school:"ILLU",castTime:"1 Action",range:"30 ft",duration:"1 minute",components:"S, M",effect:"Create a simple sound or image illusion.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Create a sound or a static image within range. Physical interaction can reveal the illusion."},{name:"Prestidigitation",classes:["Warlock","Wizard"],lvl:0,school:"TRANS",castTime:"1 Action",range:"10 ft",duration:"Up to 1 hour",components:"V, S",effect:"Create minor magical effects for utility and flair.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Perform small magical tricks: clean/soil, light/snuff, chill/warm, create minor sensory effects, and similar."},{name:"Ray of Frost",lvl:0,school:"EVO",castTime:"1 Action",range:"60 ft",duration:"Instantaneous",components:"V, S",effect:"Ranged cold attack that slows the target.",rolls:"Spell Attack",damage:"1d8",damageType:"Cold",decisionTree:[{level:5,summary:"Damage scales to 2 dice."},{level:11,summary:"Damage scales to 3 dice."},{level:17,summary:"Damage scales to 4 dice."}],desc:"Make a ranged spell attack; on hit deal cold damage and reduce the target's speed until your next turn."},{name:"Shocking Grasp",lvl:0,school:"EVO",castTime:"1 Action",range:"Touch",duration:"Instantaneous",components:"V, S",effect:"Melee lightning attack that shuts off reactions.",rolls:"Spell Attack",damage:"1d8",damageType:"Lightning",decisionTree:[{level:5,summary:"Damage scales to 2 dice."},{level:11,summary:"Damage scales to 3 dice."},{level:17,summary:"Damage scales to 4 dice."}],desc:"Make a melee spell attack; on hit deal lightning damage and the target can't take reactions until its next turn."},{name:"True Strike",classes:["Warlock","Wizard"],lvl:0,school:"DIV",castTime:"1 Action",range:"30 ft",duration:"1 round",components:"S",effect:"Gain insight to improve a future attack.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"You gain brief insight against a target; on your next turn, you gain advantage on your first attack against it (as implemented in your table's rules)."},{name:"Toll the Dead",classes:["Warlock","Wizard"],lvl:0,school:"NECRO",castTime:"1 Action",range:"60 ft",duration:"Instantaneous",components:"V, S",effect:"Necrotic bell punishes wounded targets.",rolls:"WIS save",damage:"1d8 (1d12 if wounded)",damageType:"Necrotic",decisionTree:[{level:5,summary:"Damage scales to 2 dice."},{level:11,summary:"Damage scales to 3 dice."},{level:17,summary:"Damage scales to 4 dice."}],desc:"Target makes a Wisdom save or takes necrotic damage; if the target is missing HP, the die size increases (table-dependent)."},{name:"Alarm",lvl:1,school:"ABJ",castTime:"1 Minute",range:"30 ft",duration:"8 hours",components:"V, S, M",effect:"Ward an area against intrusion.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"You set an alarm against unwanted entry in an area. Use for camp security and dungeon control."},{name:"Burning Hands",lvl:1,school:"EVO",castTime:"1 Action",range:"Self (15-ft cone)",duration:"Instantaneous",components:"V, S",effect:"A cone of fire scorches creatures.",rolls:"DEX save",damage:"3d6",damageType:"Fire",decisionTree:[{level:1,summary:"Base: 3d6 fire in a 15-ft cone (DEX save for half)."},{level:2,summary:"Upcast: +1d6 per slot level above 1st."}],desc:"Creatures in a 15-foot cone make a Dexterity save; fail = fire damage, success = half."},{name:"Charm Person",classes:["Warlock","Wizard"],lvl:1,school:"ENCH",castTime:"1 Action",range:"30 ft",duration:"1 hour",components:"V, S",effect:"Charm a humanoid for social leverage.",rolls:"WIS save",damage:"",damageType:"Charm",decisionTree:[{level:1,summary:"Base: charm one humanoid (WIS save)."},{level:2,summary:"Upcast: target one additional humanoid per slot level above 1st."}],desc:"A humanoid that fails a Wisdom save is charmed by you for the duration (hostile targets get advantage at many tables)."},{name:"Color Spray",lvl:1,school:"ILLU",castTime:"1 Action",range:"Self (15-ft cone)",duration:"1 round",components:"V, S, M",effect:"Dazzling lights can blind creatures (HP-based).",rolls:"None",damage:"Blinded",damageType:"Condition",decisionTree:[{level:1,summary:"Base: affect creatures by current HP (blinded)."},{level:2,summary:"Upcast: affect more total HP."}],desc:"A cone of dazzling light can blind creatures based on their remaining HP (table-dependent resolution)."},{name:"Comprehend Languages",classes:["Warlock","Wizard"],lvl:1,school:"DIV",castTime:"1 Action",range:"Self",duration:"1 hour",components:"V, S, M",effect:"Understand spoken/written languages.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"For the duration, you understand languages you hear/read (doesn't decode secret ciphers)."},{name:"Detect Magic",classes:["Wizard","Warlock"],lvl:1,school:"DIV",castTime:"1 Action",range:"Self",duration:"10 min (Conc.)",components:"V, S",effect:"Sense magical auras in a 30-foot radius.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],concentration:!0,desc:"Sense the presence of magic within 30 feet; you can focus to see auras and learn the school."},{name:"Disguise Self",lvl:1,school:"ILLU",castTime:"1 Action",range:"Self",duration:"1 hour",components:"V, S",effect:"Alter your appearance with a visual illusion.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Change your appearance (and your gear's appearance) via illusion for the duration."},{name:"Expeditious Retreat",classes:["Warlock","Wizard"],lvl:1,school:"TRANS",castTime:"1 Bonus Action",range:"Self",duration:"10 min (Conc.)",components:"V, S",effect:"Bonus-action Dash for the duration.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],concentration:!0,desc:"You can take the Dash action as a bonus action each turn for the duration."},{name:"False Life",classes:["Wizard","Warlock"],lvl:1,school:"NECRO",castTime:"1 Action",range:"Self",duration:"1 hour",components:"V, S, M",effect:"Gain temporary hit points.",rolls:"None",damage:"1d4+4 THP",damageType:"Temp HP",decisionTree:[{level:1,summary:"Base: gain temporary hit points."},{level:2,summary:"Upcast: increase temporary hit points."}],desc:"You gain temporary hit points. Upcasting increases the amount gained."},{name:"Feather Fall",lvl:1,school:"TRANS",castTime:"1 Reaction",range:"60 ft",duration:"1 minute",components:"V, M",effect:"Slow falling creatures to prevent impact damage.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"As a reaction when you or others fall, slow the fall and prevent most fall damage (table-dependent)."},{name:"Find Familiar",classes:["Wizard","Warlock"],lvl:1,school:"CONJ",castTime:"1 hour",range:"10 ft",duration:"Instantaneous",components:"V, S, M",effect:"Summon a familiar spirit in animal form.",rolls:"None",damage:"",damageType:"Summon",decisionTree:[],desc:"You summon a familiar that can scout, deliver touch spells, and assist. Re-summon if dismissed/destroyed."},{name:"Fog Cloud",lvl:1,school:"CONJ",castTime:"1 Action",range:"120 ft",duration:"1 hour (Conc.)",components:"V, S",effect:"Create a cloud that heavily obscures an area.",rolls:"None",damage:"",damageType:"Control",decisionTree:[{level:1,summary:"Base: 20-ft radius heavily obscured."},{level:2,summary:"Upcast: increase radius."}],concentration:!0,desc:"A fog cloud spreads from a point within range, heavily obscuring the area while you maintain concentration."},{name:"Grease",lvl:1,school:"CONJ",castTime:"1 Action",range:"60 ft",duration:"1 minute",components:"V, S, M",effect:"Slick ground can knock creatures prone.",rolls:"DEX save",damage:"Prone",damageType:"Condition",decisionTree:[],desc:"A slick area becomes difficult terrain; creatures can fall prone on failed Dex saves (table-dependent timing)."},{name:"Identify",lvl:1,school:"DIV",castTime:"1 Minute",range:"Touch",duration:"Instantaneous",components:"V, S, M",effect:"Learn properties of a magic item/imbued effect.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Learn a magic item's properties and how to use it (DM adjudicated)."},{name:"Mage Armor",classes:["Wizard","Warlock"],lvl:1,school:"ABJ",castTime:"1 Action",range:"Touch",duration:"8 hours",components:"V, S, M",effect:"Set base AC to 13 + Dex (no armor).",rolls:"None",damage:"",damageType:"Defense",decisionTree:[],desc:"Touch a willing creature not wearing armor; its base AC becomes 13 + Dex modifier for the duration."},{name:"Magic Missile",lvl:1,school:"EVO",castTime:"1 Action",range:"120 ft",duration:"Instantaneous",components:"V, S",effect:"Create darts of force that automatically hit.",rolls:"None",damage:"3x(1d4+1)",damageType:"Force",decisionTree:[{level:1,summary:"Base: 3 darts, each 1d4+1 force, auto-hit."},{level:2,summary:"Upcast: +1 dart per slot level above 1st."}],desc:"Three darts of force strike automatically; you can split them among targets. Upcasting adds more darts."},{name:"Protection from Evil and Good",classes:["Warlock","Wizard"],lvl:1,school:"ABJ",castTime:"1 Action",range:"Touch",duration:"10 min (Conc.)",components:"V, S, M",effect:"Ward a creature against certain creature types.",rolls:"None",damage:"",damageType:"Defense",decisionTree:[],concentration:!0,desc:"A willing creature gains protections vs aberrations, celestials, elementals, fey, fiends, and undead (attacks disadvantaged; some effects prevented)."},{name:"Shield",lvl:1,school:"ABJ",castTime:"1 Reaction",range:"Self",duration:"1 round",components:"V, S",effect:"A +5 AC barrier until your next turn.",rolls:"None",damage:"",damageType:"Defense",decisionTree:[],desc:"When hit by an attack, you gain +5 AC until the start of your next turn (also blocks Magic Missile at many tables)."},{name:"Silent Image",lvl:1,school:"ILLU",castTime:"1 Action",range:"60 ft",duration:"10 min (Conc.)",components:"V, S, M",effect:"Create a visual illusion you can move.",rolls:"None",damage:"",damageType:"Control",decisionTree:[],concentration:!0,desc:"Create a visual illusion (no sound) within range; you can move it while concentrating."},{name:"Sleep",lvl:1,school:"ENCH",castTime:"1 Action",range:"90 ft",duration:"1 minute",components:"V, S, M",effect:"Magically put creatures to sleep (HP-based).",rolls:"None",damage:"Unconscious",damageType:"Condition",decisionTree:[{level:1,summary:"Base: affect creatures by remaining HP (unconscious)."},{level:2,summary:"Upcast: affect more total HP."}],desc:"Creatures fall unconscious based on remaining HP (no save in many versions). Great early-game control."},{name:"Chromatic Orb",lvl:1,school:"EVO",castTime:"1 Action",range:"90 ft",duration:"Instantaneous",components:"V, S, M",effect:"Single-target elemental damage; choose the type.",rolls:"Spell Attack",damage:"3d8",damageType:"Acid/Cold/Fire/Lightning/Poison/Thunder",decisionTree:[{level:1,summary:"Base: 3d8 damage of a chosen type (spell attack)."},{level:2,summary:"Upcast: +1d8 per slot level above 1st."}],desc:"Make a ranged spell attack; on hit deal elemental damage of your chosen type. Upcasting increases damage."},{name:"Longstrider",lvl:1,school:"TRANS",castTime:"1 Action",range:"Touch",duration:"1 hour",components:"V, S, M",effect:"Increase a creatures speed.",rolls:"None",damage:"",damageType:"Buff",decisionTree:[],desc:"Touch a creature to increase its speed for the duration (no concentration)."},{name:"Jump",lvl:1,school:"TRANS",castTime:"1 Action",range:"Touch",duration:"1 minute",components:"V, S, M",effect:"Greatly increase a creatures jumping distance.",rolls:"None",damage:"",damageType:"Buff",decisionTree:[],desc:"Touch a creature to increase its jump distance for the duration (rules-based)."},{name:"Tasha's Hideous Laughter",lvl:1,school:"ENCH",castTime:"1 Action",range:"30 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Knock a creature prone with magical laughter.",rolls:"WIS save",damage:"Prone/Incapped",damageType:"Condition",decisionTree:[],concentration:!0,desc:"A creature that fails a Wisdom save falls prone and is incapacitated while you concentrate (repeat saves per rules)."},{name:"Thunderwave",lvl:1,school:"EVO",castTime:"1 Action",range:"Self (15-ft cube)",duration:"Instantaneous",components:"V, S",effect:"Blast a wave of thunder that can push creatures.",rolls:"CON save",damage:"2d8",damageType:"Thunder",decisionTree:[{level:1,summary:"Base: 2d8 thunder, push on failed save."},{level:2,summary:"Upcast: +1d8 per slot level above 1st."}],desc:"Creatures in the area make a Constitution save; fail = thunder damage and pushed (rules-based), success = half."},{name:"Witch Bolt",lvl:1,school:"EVO",castTime:"1 Action",range:"30 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Maintain a lightning tether to deal repeatable damage.",rolls:"Spell Attack",damage:"1d12",damageType:"Lightning",decisionTree:[{level:1,summary:"Base: 1d12 lightning on hit; can repeat damage while concentrating."},{level:2,summary:"Upcast: increase initial and repeat damage."}],concentration:!0,desc:"On a hit, you maintain a lightning link and can deal additional damage on later turns while you concentrate (distance/line-of-effect rules apply)."},{name:"Alter Self",lvl:2,school:"TRANS",castTime:"1 Action",range:"Self",duration:"1 hour (Conc.)",components:"V, S",effect:"Change your body: aquatic adaptation, natural weapons, disguise.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],concentration:!0,desc:"Adapt your body for underwater breathing/swimming, change appearance, or grow natural weapons (table-dependent options)."},{name:"Arcane Lock",lvl:2,school:"ABJ",castTime:"1 Action",range:"Touch",duration:"Until dispelled",components:"V, S, M (25gp)",effect:"Magically lock a door, window, gate, or chest.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Lock an object with magic; creatures may need special means or checks to open it (DM adjudicated)."},{name:"Blur",lvl:2,school:"ILLU",castTime:"1 Action",range:"Self",duration:"1 minute (Conc.)",components:"V",effect:"You become blurred; attackers struggle to hit you.",rolls:"None",damage:"",damageType:"Defense",decisionTree:[],concentration:!0,desc:"While concentrating, attacks against you have disadvantage (subject to senses/true sight)."},{name:"Darkness",classes:["Warlock","Wizard"],lvl:2,school:"EVO",castTime:"1 Action",range:"60 ft",duration:"10 min (Conc.)",components:"V, M",effect:"Create magical darkness that blocks vision.",rolls:"None",damage:"",damageType:"Control",decisionTree:[],concentration:!0,desc:"Magical darkness fills an area; normal darkvision can't see through it at many tables."},{name:"Detect Thoughts",lvl:2,school:"DIV",castTime:"1 Action",range:"Self",duration:"1 minute (Conc.)",components:"V, S, M",effect:"Read surface thoughts; probe deeper with effort.",rolls:"WIS save (deeper probe)",damage:"",damageType:"Utility",decisionTree:[],concentration:!0,desc:"While concentrating, you can read surface thoughts; deeper probing often forces a Wisdom save (DM adjudicated)."},{name:"Hold Person",classes:["Warlock","Wizard"],lvl:2,school:"ENCH",castTime:"1 Action",range:"60 ft",duration:"1 minute (Conc.)",components:"V, S, M",effect:"Paralyze a humanoid.",rolls:"WIS save",damage:"Paralyzed",damageType:"Condition",decisionTree:[{level:2,summary:"Base: paralyze one humanoid (WIS save), repeat saves."},{level:3,summary:"Upcast: target one additional humanoid per slot level above 2nd."}],concentration:!0,desc:"A humanoid that fails a Wisdom save is paralyzed while you concentrate; it can repeat saves (timing per rules)."},{name:"Invisibility",classes:["Warlock","Wizard"],lvl:2,school:"ILLU",castTime:"1 Action",range:"Touch",duration:"1 hour (Conc.)",components:"V, S, M",effect:"A creature becomes invisible until it attacks/casts.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[{level:2,summary:"Base: one creature invisible while concentrating."},{level:3,summary:"Upcast: one additional creature per slot level above 2nd."}],concentration:!0,desc:"A creature you touch becomes invisible. The spell typically ends if the creature attacks or casts a spell."},{name:"Knock",lvl:2,school:"TRANS",castTime:"1 Action",range:"60 ft",duration:"Instantaneous",components:"V",effect:"Open a locked door, chest, or similar.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Magically unlock an object; it often creates an audible knock (DM adjudicated)."},{name:"Levitate",classes:["Wizard","Warlock"],lvl:2,school:"TRANS",castTime:"1 Action",range:"60 ft",duration:"10 min (Conc.)",components:"V, S, M",effect:"Lift a creature or object into the air.",rolls:"CON save (unwilling)",damage:"",damageType:"Control",decisionTree:[],concentration:!0,desc:"A creature/object rises up to 20 ft and can be moved vertically while you concentrate (rules/edge cases DM adjudicated)."},{name:"Mirror Image",lvl:2,school:"ILLU",castTime:"1 Action",range:"Self",duration:"1 minute",components:"V, S",effect:"Create illusory duplicates that can absorb attacks.",rolls:"Redirect roll",damage:"",damageType:"Defense",decisionTree:[],desc:"Illusory duplicates make you harder to hit; attacks may strike an image instead (table-dependent implementation)."},{name:"Misty Step",classes:["Warlock","Wizard"],lvl:2,school:"CONJ",castTime:"1 Bonus Action",range:"Self",duration:"Instantaneous",components:"V",effect:"Teleport up to 30 feet to a space you can see.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Teleport up to 30 feet to an unoccupied space you can see. Great for escapes and repositioning."},{name:"Phantasmal Force",lvl:2,school:"ILLU",castTime:"1 Action",range:"60 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Mind illusion that can deal psychic damage over time.",rolls:"INT save",damage:"1d6/round",damageType:"Psychic",decisionTree:[],concentration:!0,desc:"On a failed Intelligence save, the target believes an illusion and can take psychic damage each round (DM adjudicated specifics)."},{name:"Scorching Ray",lvl:2,school:"EVO",castTime:"1 Action",range:"120 ft",duration:"Instantaneous",components:"V, S",effect:"Fire multiple rays at one or more targets.",rolls:"Spell Attack",damage:"2d6",damageType:"Fire",decisionTree:[{level:2,summary:"Base: 3 rays; each hit deals 2d6 fire."},{level:3,summary:"Upcast: +1 ray per slot level above 2nd."}],desc:"Make separate ranged spell attacks for each ray. Upcasting adds more rays."},{name:"Shatter",classes:["Warlock","Wizard"],lvl:2,school:"EVO",castTime:"1 Action",range:"60 ft",duration:"Instantaneous",components:"V, S, M",effect:"A loud burst of sound damages creatures in an area.",rolls:"CON save",damage:"3d8",damageType:"Thunder",decisionTree:[{level:2,summary:"Base: 3d8 thunder (CON save for half) in an area."},{level:3,summary:"Upcast: +1d8 per slot level above 2nd."}],desc:"Creatures in the area make a Constitution save; fail = thunder damage, success = half. Some objects can also be affected (DM adjudicated)."},{name:"Spider Climb",classes:["Warlock","Wizard"],lvl:2,school:"TRANS",castTime:"1 Action",range:"Touch",duration:"1 hour (Conc.)",components:"V, S, M",effect:"Grant a climbing speed and wall/ceiling movement.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],concentration:!0,desc:"A willing creature can climb on walls and ceilings while you concentrate (rules-based)."},{name:"Rope Trick",lvl:2,school:"TRANS",castTime:"1 Action",range:"Touch",duration:"1 hour",components:"V, S, M",effect:"Create a hidden extradimensional space on a rope.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Create an extradimensional space accessible via a rope for safe short rests and hiding (rules-based)."},{name:"Darkvision",lvl:2,school:"TRANS",castTime:"1 Action",range:"Touch",duration:"8 hours",components:"V, S, M",effect:"Grant darkvision to a creature.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Touch a willing creature to grant darkvision for the duration (rules-based)."},{name:"See Invisibility",lvl:2,school:"DIV",castTime:"1 Action",range:"Self",duration:"1 hour",components:"V, S, M",effect:"See invisible creatures and objects.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"For the duration, you can see invisible creatures/objects as if visible (exact limits DM adjudicated)."},{name:"Suggestion",classes:["Warlock","Wizard"],lvl:2,school:"ENCH",castTime:"1 Action",range:"30 ft",duration:"8 hours (Conc.)",components:"V, M",effect:"Magically influence a creature to follow a reasonable course of action.",rolls:"WIS save",damage:"",damageType:"Charm",decisionTree:[],concentration:!0,desc:"A creature that fails a Wisdom save is compelled to follow your reasonable suggestion for the duration (within limits)."},{name:"Web",lvl:2,school:"CONJ",castTime:"1 Action",range:"60 ft",duration:"1 hour (Conc.)",components:"V, S, M",effect:"Fill an area with sticky webs that restrain.",rolls:"DEX save",damage:"Restrained",damageType:"Condition",decisionTree:[],concentration:!0,desc:"Webs create difficult terrain and can restrain creatures on failed Dex saves; creatures can try to escape (table-dependent)."},{name:"Animate Dead",lvl:3,school:"NECRO",castTime:"1 Minute",range:"10 ft",duration:"Instantaneous",components:"V, S, M",effect:"Raise and control undead servants.",rolls:"None",damage:"",damageType:"Summon",decisionTree:[{level:3,summary:"Base: animate/control a small number of undead."},{level:4,summary:"Upcast: animate/control additional undead."}],desc:"Raise skeletons/zombies and command them for a time; recasting maintains control."},{name:"Counterspell",classes:["Warlock","Wizard"],lvl:3,school:"ABJ",castTime:"1 Reaction",range:"60 ft",duration:"Instantaneous",components:"S",effect:"Interrupt a creature casting a spell.",rolls:"Ability check (sometimes)",damage:"",damageType:"Control",decisionTree:[{level:3,summary:"Base: auto-counter spells of level 3 or lower."},{level:4,summary:"Higher-level spell: may require an ability check; upcasting improves odds."}],desc:"As a reaction to a spell being cast, attempt to interrupt it. Higher-level spells may require a spellcasting ability check."},{name:"Dispel Magic",classes:["Warlock","Wizard"],lvl:3,school:"ABJ",castTime:"1 Action",range:"120 ft",duration:"Instantaneous",components:"V, S",effect:"End spells and magical effects.",rolls:"Ability check (sometimes)",damage:"",damageType:"Utility",decisionTree:[{level:3,summary:"Base: end spells of level 3 or lower."},{level:4,summary:"Higher-level spell: ability check; upcasting helps."}],desc:"Choose a creature/object/area; end spells and effects (rules/edge cases DM adjudicated)."},{name:"Fireball",lvl:3,school:"EVO",castTime:"1 Action",range:"150 ft",duration:"Instantaneous",components:"V, S, M",effect:"Explode a 20-ft radius sphere of fire.",rolls:"DEX save",damage:"8d6",damageType:"Fire",decisionTree:[{level:3,summary:"Base: 8d6 fire (DEX save for half) in 20-ft radius."},{level:4,summary:"Upcast: +1d6 per slot level above 3rd."}],desc:"Creatures in the area make a Dexterity save; fail = fire damage, success = half. Upcasting increases damage."},{name:"Fly",classes:["Warlock","Wizard"],lvl:3,school:"TRANS",castTime:"1 Action",range:"Touch",duration:"10 min (Conc.)",components:"V, S, M",effect:"Grant a flying speed to a creature.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[{level:3,summary:"Base: one target gains a flying speed while concentrating."},{level:4,summary:"Upcast: one additional target per slot level above 3rd."}],concentration:!0,desc:"A willing creature gains a flying speed for the duration. Upcasting allows more targets."},{name:"Haste",lvl:3,school:"TRANS",castTime:"1 Action",range:"30 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Greatly speed up a creature; ends with lethargy.",rolls:"None",damage:"",damageType:"Buff",decisionTree:[],concentration:!0,desc:"Speed doubles, +2 AC, advantage on Dex saves, and an extra limited action each turn; ends with a brief crash."},{name:"Hypnotic Pattern",classes:["Warlock","Wizard"],lvl:3,school:"ILLU",castTime:"1 Action",range:"120 ft",duration:"1 min (Conc.)",components:"S, M",effect:"Incapacitate creatures with a mesmerizing pattern.",rolls:"WIS save",damage:"Incapacitated",damageType:"Condition",decisionTree:[],concentration:!0,desc:"Creatures in a cube make a Wisdom save or become charmed/incapacitated until the effect ends (breaks on damage at many tables)."},{name:"Lightning Bolt",lvl:3,school:"EVO",castTime:"1 Action",range:"Self (100-ft line)",duration:"Instantaneous",components:"V, S, M",effect:"Blast a line of lightning.",rolls:"DEX save",damage:"8d6",damageType:"Lightning",decisionTree:[{level:3,summary:"Base: 8d6 lightning in a line (DEX save for half)."},{level:4,summary:"Upcast: +1d6 per slot level above 3rd."}],desc:"Creatures in the line make a Dexterity save; fail = lightning damage, success = half. Upcasting increases damage."},{name:"Major Image",lvl:3,school:"ILLU",castTime:"1 Action",range:"120 ft",duration:"10 min (Conc.)",components:"V, S, M",effect:"Create a complex illusion with sound and other effects.",rolls:"None",damage:"",damageType:"Control",decisionTree:[],concentration:!0,desc:"Create a large illusion with sound and other sensory elements. You can often move/adjust it while concentrating (rules-based)."},{name:"Protection from Energy",lvl:3,school:"ABJ",castTime:"1 Action",range:"Touch",duration:"1 hour (Conc.)",components:"V, S",effect:"Grant resistance to a chosen energy type.",rolls:"None",damage:"",damageType:"Defense",decisionTree:[],concentration:!0,desc:"A willing creature gains resistance to one chosen energy type while you concentrate."},{name:"Sleet Storm",lvl:3,school:"CONJ",castTime:"1 Action",range:"150 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Create slippery ice and heavy rain in a large area.",rolls:"DEX save (prone), CON save (concentration)",damage:"",damageType:"Control",decisionTree:[],concentration:!0,desc:"An area becomes difficult terrain, heavily obscured, and slippery; it can also disrupt concentration (rules-based)."},{name:"Vampiric Touch",classes:["Warlock","Wizard"],lvl:3,school:"NECRO",castTime:"1 Action",range:"Self",duration:"1 min (Conc.)",components:"V, S",effect:"Melee spell attack that drains life to heal you.",rolls:"Spell Attack",damage:"3d6",damageType:"Necrotic",decisionTree:[{level:3,summary:"Base: 3d6 necrotic on hit; heal for half damage."},{level:4,summary:"Upcast: +1d6 per slot level above 3rd."}],concentration:!0,desc:"While concentrating, you can make melee spell attacks each turn to deal necrotic damage and heal for part of it."},{name:"Slow",lvl:3,school:"TRANS",castTime:"1 Action",range:"120 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Debuff multiple creatures by warping time.",rolls:"WIS save",damage:"",damageType:"Debuff",decisionTree:[],concentration:!0,desc:"Targets that fail Wisdom saves are slowed (reduced speed, AC penalties, no reactions; action economy limited)."},{name:"Stinking Cloud",lvl:3,school:"CONJ",castTime:"1 Action",range:"90 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Create a nauseating cloud that can incapacitate.",rolls:"CON save",damage:"Incapacitated",damageType:"Condition",decisionTree:[],concentration:!0,desc:"A cloud heavily obscures; creatures inside can be poisoned/incapacitated on failed Con saves (table-dependent)."},{name:"Banishment",classes:["Warlock","Wizard"],lvl:4,school:"ABJ",castTime:"1 Action",range:"60 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Banish a creature to another plane temporarily.",rolls:"CHA save",damage:"",damageType:"Control",decisionTree:[{level:4,summary:"Base: banish 1 target (CHA save)."},{level:5,summary:"Upcast: +1 target per slot level above 4th."}],concentration:!0,desc:"A creature that fails a Charisma save is banished while you concentrate; if you maintain concentration, it can be removed longer (rules-based)."},{name:"Dimension Door",classes:["Warlock","Wizard"],lvl:4,school:"CONJ",castTime:"1 Action",range:"500 ft",duration:"Instantaneous",components:"V",effect:"Teleport yourself (and possibly a companion) a long distance.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Teleport up to 500 feet to a location you can describe/visualize; can bring one willing creature (rules-based)."},{name:"Greater Invisibility",lvl:4,school:"ILLU",castTime:"1 Action",range:"Touch",duration:"1 min (Conc.)",components:"V, S",effect:"Invisibility that persists through attacks.",rolls:"None",damage:"",damageType:"Buff",decisionTree:[],concentration:!0,desc:"A creature becomes invisible while you concentrate; it doesn't automatically end when the target attacks/casts."},{name:"Ice Storm",lvl:4,school:"EVO",castTime:"1 Action",range:"300 ft",duration:"Instantaneous",components:"V, S, M",effect:"Hail and ice slam an area; leaves difficult terrain.",rolls:"DEX save",damage:"2d8+4d6",damageType:"Bludgeoning/Cold",decisionTree:[{level:4,summary:"Base: bludgeoning + cold damage in an area; difficult terrain."},{level:5,summary:"Upcast: increase damage (table-dependent)."}],desc:"An icy storm hits an area; creatures save to reduce damage. The area becomes difficult terrain briefly."},{name:"Polymorph",lvl:4,school:"TRANS",castTime:"1 Action",range:"60 ft",duration:"1 hr (Conc.)",components:"V, S, M",effect:"Transform a creature into a beast form.",rolls:"WIS save (unwilling)",damage:"",damageType:"Control",decisionTree:[],concentration:!0,desc:"Transform a creature into a beast (CR limit rules-based). Great as a buff or temporary removal."},{name:"Wall of Fire",lvl:4,school:"EVO",castTime:"1 Action",range:"120 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Create a wall of flames that damages and blocks.",rolls:"DEX save",damage:"5d8",damageType:"Fire",decisionTree:[{level:4,summary:"Base: wall deals fire damage and shapes space."},{level:5,summary:"Upcast: +1d8 per slot level above 4th."}],concentration:!0,desc:"A wall of fire damages creatures near/through it and provides battlefield control while you concentrate."},{name:"Arcane Eye",classes:["Wizard","Warlock"],lvl:4,school:"DIV",castTime:"1 Action",range:"30 ft",duration:"1 hour (Conc.)",components:"V, S, M",effect:"Create an invisible scouting eye you can move.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],concentration:!0,desc:"An invisible magical eye moves as you direct it, allowing scouting while you concentrate (rules-based)."},{name:"Evard's Black Tentacles",lvl:4,school:"CONJ",castTime:"1 Action",range:"90 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Tentacles restrain and damage creatures in an area.",rolls:"DEX save",damage:"3d6",damageType:"Bludgeoning",decisionTree:[],concentration:!0,desc:"Tentacles fill an area; creatures can be restrained and take damage while you concentrate (escape checks per rules)."},{name:"Fire Shield",lvl:4,school:"EVO",castTime:"1 Action",range:"Self",duration:"10 minutes",components:"V, S, M",effect:"Gain resistance and retaliate with fire/cold.",rolls:"None",damage:"2d8 (retaliation)",damageType:"Fire/Cold",decisionTree:[],desc:"Choose warm or chill shield: resistance to a type and retaliatory damage to adjacent attackers (rules-based)."},{name:"Cloudkill",lvl:5,school:"CONJ",castTime:"1 Action",range:"120 ft",duration:"10 min (Conc.)",components:"V, S",effect:"Create a moving poison cloud that damages over time.",rolls:"CON save",damage:"5d8",damageType:"Poison",decisionTree:[],concentration:!0,desc:"A poisonous cloud drifts and harms creatures inside each round (rules-based)."},{name:"Cone of Cold",lvl:5,school:"EVO",castTime:"1 Action",range:"Self (60-ft cone)",duration:"Instantaneous",components:"V, S, M",effect:"Blast a large cone of freezing air.",rolls:"CON save",damage:"8d8",damageType:"Cold",decisionTree:[{level:5,summary:"Base: 8d8 cold (CON save for half) in a cone."},{level:6,summary:"Upcast: +1d8 per slot level above 5th."}],desc:"Creatures in the cone make a Constitution save; fail = cold damage, success = half."},{name:"Hold Monster",classes:["Warlock","Wizard"],lvl:5,school:"ENCH",castTime:"1 Action",range:"90 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Paralyze a creature (not just humanoids).",rolls:"WIS save",damage:"Paralyzed",damageType:"Condition",decisionTree:[{level:5,summary:"Base: paralyze 1 creature (WIS save)."},{level:6,summary:"Upcast: +1 target per slot level above 5th."}],concentration:!0,desc:"A creature that fails a Wisdom save is paralyzed while you concentrate (repeat saves per rules)."},{name:"Telekinesis",lvl:5,school:"TRANS",castTime:"1 Action",range:"60 ft",duration:"10 min (Conc.)",components:"V, S",effect:"Move a creature or object with your mind each round.",rolls:"Contested check",damage:"",damageType:"Control",decisionTree:[],concentration:!0,desc:"While concentrating, you can move objects or restrain/move creatures using contested checks each round (rules-based)."},{name:"Wall of Force",lvl:5,school:"EVO",castTime:"1 Action",range:"120 ft",duration:"10 min (Conc.)",components:"V, S, M",effect:"Create an invisible barrier that blocks movement and most attacks.",rolls:"None",damage:"",damageType:"Control",decisionTree:[],concentration:!0,desc:"An invisible wall blocks creatures and objects. Powerful battlefield control; many attacks/spells can't pass through (rules-based)."},{name:"Eldritch Blast",classes:["Warlock"],lvl:0,school:"EVO",castTime:"1 Action",range:"120 ft",duration:"Instantaneous",components:"V, S",effect:"A beam of crackling energy streaks toward a creature.",rolls:"Spell Attack",damage:"1d10",damageType:"Force",decisionTree:[{level:5,summary:"2 beams"},{level:11,summary:"3 beams"},{level:17,summary:"4 beams"}],desc:"Make a ranged spell attack; on hit deal 1d10 force damage. Multiple beams at higher levels.",scenario:"SCENARIO: At level 5, you fire TWO beams. You can aim both at the Boss, or one at the Minion and one at the Boss. You roll a separate Attack Roll for each beam (d20 + Cha + Prof). Each hit deals 1d10 force damage."},{name:"Hex",classes:["Warlock"],lvl:1,school:"ENCH",castTime:"1 Bonus Action",range:"90 ft",duration:"1 hour (Conc.)",components:"V, S, M",effect:"Deal 1d6 extra necrotic damage and give disadvantage on one ability's checks.",rolls:"None",damage:"1d6",damageType:"Necrotic",decisionTree:[{level:1,summary:"Base: 1 hour concentration."},{level:3,summary:"Level 3 slot: 8 hours concentration."},{level:5,summary:"Level 5 slot: 24 hours concentration."}],concentration:!0,desc:"You place a curse on a creature. Deal 1d6 extra necrotic damage on hits. Target has disadvantage on checks for a chosen ability. Move hex as a bonus action if target dies."},{name:"Armor of Agathys",classes:["Warlock"],lvl:1,school:"ABJ",castTime:"1 Action",range:"Self",duration:"1 hour",components:"V, S, M",effect:"Gain 5 THP; deal 5 cold damage to melee attackers.",rolls:"None",damage:"5",damageType:"Cold",decisionTree:[{level:1,summary:"Base: 5 THP / 5 cold damage."},{level:2,summary:"Upcast: +5 THP / +5 cold damage per slot level above 1st."}],desc:"Protective frost surrounds you. Gain 5 temporary HP. If a creature hits you with a melee attack while you have these HP, it takes 5 cold damage. Scales with slot level.",scenario:"SCENARIO: You cast this before a fight. An goblin hits you with a scimitar for 4 damage. The damage is fully absorbed by your 5 THP (leaving 1 THP). Because you were hit in melee, the goblin instantly takes 5 cold damage and dies. The spell remains active until the last 1 THP is gone."},{name:"Hellish Rebuke",classes:["Warlock"],lvl:1,school:"EVO",castTime:"1 Reaction",range:"60 ft",duration:"Instantaneous",components:"V, S",effect:"Hellish flames surround the creature that damaged you.",rolls:"DEX save",damage:"2d10",damageType:"Fire",decisionTree:[{level:1,summary:"Base: 2d10 fire damage (DEX save for half)."},{level:2,summary:"Upcast: +1d10 per slot level above 1st."}],desc:"You point your finger and the creature that damaged you is momentary surrounded by flames. 2d10 fire damage on failed Dexterity save, half on success.",scenario:"SCENARIO: An enemy archer shoots you from 40ft away. As a reaction (triggered by taking damage), you point your finger. Flames erupt around the archer. They must roll a DEX save. If they fail, they take ~11 fire damage immediately."},{name:"Hunger of Hadar",classes:["Warlock"],lvl:3,school:"CONJ",castTime:"1 Action",range:"150 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Create a sphere of cold and acid darkness.",rolls:"DEX/CON save",damage:"2d6 Cold / 2d6 Acid",damageType:"Cold/Acid",decisionTree:[{level:3,summary:"Base: 2d6 cold (start) + 2d6 acid (end)."}],concentration:!0,desc:"A 20-foot-radius sphere of blackness and bitter cold appears. It is blinded/difficult terrain. Creatures starting turn take 2d6 cold damage. Creatures ending turn take 2d6 acid damage (DEX save for acid usually, check rules).",scenario:"SCENARIO: You cast this on a group of enemies in a chokepoint. The area becomes pitch black (even to darkvision). An enemy starting their turn inside takes 2d6 cold damage (no save). If they try to leave, it's difficult terrain. If they end their turn still inside, they take 2d6 acid damage (DEX save)."},{name:"Mind Sliver",classes:["Warlock","Sorcerer","Wizard"],source:"TCE",lvl:0,school:"ENCH",castTime:"1 Action",range:"60 ft",duration:"1 Round",components:"V",effect:"Psychic spike disorients target.",rolls:"INT save",damage:"1d6",damageType:"Psychic",decisionTree:[{level:5,summary:"Damage scales to 2d6."},{level:11,summary:"Damage scales to 3d6."},{level:17,summary:"Damage scales to 4d6."}],desc:"Drive a spike of psychic energy into a creature's mind. 1d6 psychic damage on failed Int save, and subtract 1d4 from the next saving throw it makes before the end of your next turn."},{name:"Arms of Hadar",classes:["Warlock"],lvl:1,school:"CONJ",castTime:"1 Action",range:"Self (10-ft radius)",duration:"Instantaneous",components:"V, S",effect:"Dark tendrils erupt from you.",rolls:"STR save",damage:"2d6",damageType:"Necrotic",decisionTree:[{level:1,summary:"2d6 necrotic, no reactions."},{level:2,summary:"+1d6 per slot level."}],desc:"Tendrils of dark energy erupt from you. Creatures within 10 ft make Str save. Fail: 2d6 necrotic and can't react. Success: half damage."},{name:"Cloud of Daggers",classes:["Warlock","Wizard","Sorcerer","Bard"],lvl:2,school:"CONJ",castTime:"1 Action",range:"60 ft",duration:"1 min (Conc.)",components:"V, S, M",effect:"Cube of spinning daggers.",rolls:"None",damage:"4d4",damageType:"Slashing",decisionTree:[{level:2,summary:"4d4 slashing to any creature entering/starting in area."},{level:3,summary:"+2d4 per slot level."}],concentration:!0,desc:"Fill a 5ft cube with spinning daggers. Creatures take 4d4 slashing when they enter or start their turn there. No save."},{name:"Crown of Madness",classes:["Warlock","Wizard","Sorcerer","Bard"],lvl:2,school:"ENCH",castTime:"1 Action",range:"120 ft",duration:"1 min (Conc.)",components:"V, S",effect:"Force enemy to attack allies.",rolls:"WIS save",damage:"Control",damageType:"Psychic",decisionTree:[],concentration:!0,desc:"Charm a humanoid. You can use your action to verify control and force it to attack a creature of your choice. It can save at end of turns."},{name:"Shadow Blade",classes:["Warlock","Wizard","Sorcerer"],source:"XGE",lvl:2,school:"ILLU",castTime:"1 Bonus Action",range:"Self",duration:"1 min (Conc.)",components:"V, S",effect:"Summon a blade of solidified gloom.",rolls:"Melee Attack",damage:"2d8",damageType:"Psychic",decisionTree:[{level:2,summary:"2d8 psychic damage weapon."},{level:3,summary:"3d8 damage (3rd/4th level)."},{level:5,summary:"4d8 damage (5th level)."}],concentration:!0,desc:"Weave a sword of gloom. Simple melee weapon, finesse, light, thrown (20/60). Deals 2d8 psychic. Advantage in dim light/darkness."},{name:"Fear",classes:["Warlock","Wizard","Sorcerer","Bard"],lvl:3,school:"ILLU",castTime:"1 Action",range:"Self (30-ft cone)",duration:"1 min (Conc.)",components:"V, S, M",effect:"Project a phantasmal nightmare.",rolls:"WIS save",damage:"Control",damageType:"Psychic",decisionTree:[],concentration:!0,desc:"Project a cone of fear. Failed save: drop items, flee, can't take actions. Save again only when out of sight."},{name:"Thunder Step",classes:["Warlock","Wizard","Sorcerer"],source:"XGE",lvl:3,school:"CONJ",castTime:"1 Action",range:"90 ft",duration:"Instantaneous",components:"V",effect:"Teleport and deal damage.",rolls:"CON save",damage:"3d10",damageType:"Thunder",decisionTree:[{level:3,summary:"Teleport 90ft, 3d10 thunder to origin."},{level:4,summary:"+1d10 per slot level."}],desc:"Teleport yourself and one willing creature. Thunder boom at origin deals 3d10 damage to creatures within 10ft (Con save half)."},{name:"Remove Curse",classes:["Warlock","Wizard","Cleric","Paladin"],lvl:3,school:"ABJ",castTime:"1 Action",range:"Touch",duration:"Instantaneous",components:"V, S",effect:"End a curse on a creature or object.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Touch a creature or object. All curses on it end. If it's a cursed magic item, attunement breaks."},{name:"Tongues",classes:["Warlock","Wizard","Sorcerer","Bard","Cleric"],lvl:3,school:"DIV",castTime:"1 Action",range:"Touch",duration:"1 hour",components:"V, M",effect:"Understand and speak any language.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Grant a creature the ability to understand any spoken language and be understood by any creature that speaks at least one language."},{name:"Gaseous Form",classes:["Warlock","Wizard","Sorcerer"],lvl:3,school:"TRANS",castTime:"1 Action",range:"Touch",duration:"1 hour (Conc.)",components:"V, S, M",effect:"Turn a creature into mist.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],concentration:!0,desc:"Transform a willing creature into a misty cloud. 10ft speed, resistance to nonmagical damage, pass through small cracks."},{name:"Blight",classes:["Warlock","Wizard","Sorcerer","Druid"],lvl:4,school:"NECRO",castTime:"1 Action",range:"30 ft",duration:"Instantaneous",components:"V, S",effect:"Wither a creature with necrotic energy.",rolls:"CON save",damage:"8d8",damageType:"Necrotic",decisionTree:[{level:4,summary:"8d8 necrotic damage."},{level:5,summary:"+1d8 per slot level."}],desc:"Target takes 8d8 necrotic damage (Con save half). Plants take max damage and have disadvantage. Magical plants wither."},{name:"Shadow of Moil",classes:["Warlock"],source:"XGE",lvl:4,school:"NECRO",castTime:"1 Action",range:"Self",duration:"1 min (Conc.)",components:"V, S, M",effect:"Flame-like shadows conceal you and lash out.",rolls:"None",damage:"2d8",damageType:"Necrotic",decisionTree:[],concentration:!0,desc:"You become heavily obscured. You have resistance to radiant damage. If a creature hits you within 10ft, it takes 2d8 necrotic damage."},{name:"Sickening Radiance",classes:["Warlock","Wizard","Sorcerer"],source:"XGE",lvl:4,school:"EVO",castTime:"1 Action",range:"120 ft",duration:"10 min (Conc.)",components:"V, S",effect:"Dim greenish light spreads exhaustion.",rolls:"CON save",damage:"4d10",damageType:"Radiant",decisionTree:[],concentration:!0,desc:"30ft radius sphere. Creatures entering/starting inside take 4d10 radiant and gain 1 level of exhaustion (Con save negates both)."},{name:"Hallucinatory Terrain",classes:["Warlock","Wizard","Bard","Druid"],lvl:4,school:"ILLU",castTime:"10 Minutes",range:"300 ft",duration:"24 hours",components:"V, S, M",effect:"Change the appearance of natural terrain.",rolls:"Investigation",damage:"",damageType:"Utility",decisionTree:[],desc:"Make natural terrain look, sound, and smell like some other type of natural terrain. Visual/Tactile illusion."},{name:"Synaptic Static",classes:["Warlock","Wizard","Sorcerer","Bard"],source:"XGE",lvl:5,school:"ENCH",castTime:"1 Action",range:"120 ft",duration:"Instantaneous",components:"V, S",effect:"Psychic explosion using a muddled mind.",rolls:"INT save",damage:"8d6",damageType:"Psychic",decisionTree:[],desc:"20ft radius sphere. 8d6 psychic damage (Int save half). Fail: subtract 1d6 from attack rolls and ability checks for 1 minute (save ends)."},{name:"Danse Macabre",classes:["Warlock","Wizard"],source:"XGE",lvl:5,school:"NECRO",castTime:"1 Action",range:"60 ft",duration:"1 hour (Conc.)",components:"V, S",effect:"Animate corpses to fight for you.",rolls:"None",damage:"Summon",damageType:"Necrotic",decisionTree:[],concentration:!0,desc:"Animate up to 5 small/medium corpses. They gain bonus to attack/damage equal to your spellcasting mod. Command them as a bonus action."},{name:"Enervation",classes:["Warlock","Wizard","Sorcerer"],source:"XGE",lvl:5,school:"NECRO",castTime:"1 Action",range:"60 ft",duration:"1 min (Conc.)",components:"V, S",effect:"Drain life to heal yourself.",rolls:"DEX save",damage:"4d8",damageType:"Necrotic",decisionTree:[],concentration:!0,desc:"Tether to target. 4d8 necrotic (Dex save half). You heal for half damage dealt. Action to maintain deals 4d8 automatically."},{name:"Negative Energy Flood",classes:["Warlock","Wizard"],source:"XGE",lvl:5,school:"NECRO",castTime:"1 Action",range:"60 ft",duration:"Instantaneous",components:"V, M",effect:"Blast with negative energy or heal undead.",rolls:"CON save",damage:"5d12",damageType:"Necrotic",decisionTree:[],desc:"Deal 5d12 necrotic (Con save half) to living. If killed, rises as zombie. Undead target gains 5d12 THP instead."},{name:"Dream",classes:["Warlock","Wizard","Bard"],lvl:5,school:"ILLU",castTime:"1 Min",range:"Special",duration:"8 hours",components:"V, S, M",effect:"Shape a creature's dreams.",rolls:"WIS save",damage:"3d6",damageType:"Psychic",decisionTree:[],desc:"Enter a trance and shape the dreams of a target. communicate or torment (3d6 psychic + no long rest benefit on save failure)."},{name:"Scrying",classes:["Warlock","Wizard","Bard","Cleric","Druid"],lvl:5,school:"DIV",castTime:"10 Minutes",range:"Self",duration:"10 min (Conc.)",components:"V, S, M",effect:"Spy on a creature or location.",rolls:"WIS save",damage:"",damageType:"Utility",decisionTree:[],concentration:!0,desc:"See and hear a chosen creature or location. Save modifier based on knowledge/connection. Invisible sensor appears."},{name:"Contact Other Plane",classes:["Warlock","Wizard"],lvl:5,school:"DIV",castTime:"1 Min",range:"Self",duration:"1 min",components:"V",effect:"Ask 5 questions of an extraplanar entity.",rolls:"INT save",damage:"6d6",damageType:"Psychic",decisionTree:[],desc:"Mentally contact a demigod/entity. DC 15 Int save or take 6d6 psychic and be insane until long rest. Success: ask 5 questions."},{name:"Speak with Dead",classes:["Warlock","Bard","Cleric"],lvl:3,school:"NECRO",castTime:"1 Action",range:"10 ft",duration:"10 min",components:"V, S, M",effect:"Ask questions of a corpse.",rolls:"None",damage:"",damageType:"Utility",decisionTree:[],desc:"Grant the semblance of life to a corpse to ask it up to 5 questions. It knows only what it knew in life."}],Xs=()=>{const e=De(),t=Re(e=>e.combat),{phase:n,casting:a}=t;if("resolving"!==n)return null;const r=Gs.find(e=>e.name===a.spellId)||Gs.find(e=>e.name.toLowerCase()===a.spellId?.toLowerCase());if(!r)return null;const s=(r.rolls??"").toLowerCase(),i=s.includes("attack"),o=s.includes("save"),l=(()=>{const e=r.rolls??"";return e.includes("STR")?"Strength":e.includes("DEX")?"Dexterity":e.includes("CON")?"Constitution":e.includes("INT")?"Intelligence":e.includes("WIS")?"Wisdom":e.includes("CHA")?"Charisma":"Dexterity"})(),c=(r.damage??"").match(/(\d+)\s*d\s*(\d+)/i),u=c&&Number(c[1])>0&&Number(c[2])>0?[{count:Number(c[1]),sides:Number(c[2]),type:(r.damageType||"force").toLowerCase(),scaling:{type:"per_slot_level",diceIncreasePerLevel:1}}]:void 0,d={id:r.name,name:r.name,level:r.lvl,requiresAttackRoll:i,requiresSavingThrow:o,damage:u,savingThrowDetails:o?{ability:l,onSuccess:u?"half":"special",onFail:u?"full":"special"}:void 0,desc:r.desc,decisionTree:r.decisionTree,higherLevelDescription:void 0};return je.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-bg-void/90 backdrop-blur-xl transition-all duration-300","data-testid":"combat-overlay",children:[je.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-24 flex flex-col items-center justify-center opacity-10 pointer-events-none select-none",children:je.jsx("div",{className:"writing-vertical-rl text-[8rem] font-black font-japanese text-white leading-none",children:""})}),je.jsx("div",{className:"absolute inset-0 bg-[url('/assets/grid-pattern.png')] opacity-5 pointer-events-none mix-blend-overlay"}),je.jsxs("div",{className:"w-full max-w-lg relative z-10 animate-scale-in",children:[je.jsx("div",{className:"absolute -top-12 left-0 right-0 flex justify-center pointer-events-none",children:je.jsx("div",{className:"h-px w-24 bg-gradient-to-r from-transparent via-gold-mid to-transparent"})}),je.jsx(Ks,{spell:d,slotLevel:a.slotLevel||r.lvl,onHit:()=>e(Qs()),onMiss:()=>e(Qs()),onPass:()=>e(Qs()),onFail:()=>e(Qs()),onApply:()=>e(Qs()),onCancel:()=>e(Fs())})]})]})};function Ys(){const[e,t]=i.useState(!1),[n,a]=i.useState(!1),r=i.useRef(null),s=Re(Oa),o=Re(Va),l=Re(qa),c=Re(Ua),u=s.inventory.filter(e=>"weapon"===e.type&&e.equipped),d=()=>{r.current=window.setTimeout(()=>{a(!0),t(!1)},800)},f=()=>{r.current&&(clearTimeout(r.current),r.current=null),n?a(!1):e||t(!0)};return i.useEffect(()=>{if(e){const e=setTimeout(()=>t(!1),8e3);return()=>clearTimeout(e)}},[e]),je.jsxs("div",{className:"fixed bottom-24 right-6 z-[60] flex flex-col items-end gap-3 pointer-events-none",children:[je.jsxs("div",{className:"flex flex-col gap-2 transition-all duration-500 origin-bottom "+(e?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-50 translate-y-10 pointer-events-none"),children:[je.jsxs("div",{className:"flex items-center gap-3 bg-bg-dark/90 backdrop-blur-xl border border-white/20 rounded-full pl-3 pr-4 py-2 shadow-2xl pointer-events-auto",children:[je.jsx($,{size:14,className:"text-blue-400"}),je.jsxs("div",{className:"flex flex-col",children:[je.jsx("span",{className:"text-[8px] uppercase tracking-tighter text-muted",children:"Armor Class"}),je.jsx("span",{className:"font-display text-base text-white leading-none",children:c})]})]}),je.jsxs("div",{className:"flex items-center gap-3 bg-bg-dark/90 backdrop-blur-xl border border-white/20 rounded-full pl-3 pr-4 py-2 shadow-2xl pointer-events-auto",children:[je.jsx(me,{size:14,className:"text-purple-400"}),je.jsxs("div",{className:"flex flex-col",children:[je.jsx("span",{className:"text-[8px] uppercase tracking-tighter text-muted",children:"Spell DC"}),je.jsx("span",{className:"font-display text-base text-white leading-none",children:o})]})]}),u.map((e,t)=>je.jsxs("div",{className:"flex items-center gap-3 bg-bg-dark/95 backdrop-blur-xl border border-accent/40 rounded-full pl-3 pr-4 py-2 shadow-2xl pointer-events-auto ring-1 ring-accent/20",children:[je.jsx(W,{size:14,className:"text-accent"}),je.jsxs("div",{className:"flex flex-col",children:[je.jsx("span",{className:"text-[8px] uppercase tracking-tighter text-accent/80",children:e.name}),je.jsxs("div",{className:"flex items-baseline gap-2",children:[je.jsx("span",{className:"font-display text-sm text-white leading-none",children:e.weaponStats?.damage}),je.jsx("span",{className:"text-[9px] text-muted italic",children:e.weaponStats?.damageType}),je.jsxs("span",{className:"text-[10px] text-accent font-bold",children:[l>=0?"+":"",l+(e.weaponStats?.bonus||0)]})]})]})]},t)),s.concentration&&je.jsxs("div",{className:"flex items-center gap-3 bg-accent/10 backdrop-blur-xl border border-accent/60 rounded-full pl-3 pr-4 py-2 shadow-2xl pointer-events-auto animate-pulse",children:[je.jsx(K,{size:14,className:"text-accent"}),je.jsxs("div",{className:"flex flex-col",children:[je.jsx("span",{className:"text-[8px] uppercase tracking-tighter text-accent",children:"Concentrating"}),je.jsx("span",{className:"font-display text-[10px] text-parchment truncate max-w-[80px]",children:s.concentration})]})]})]}),je.jsxs("button",{onMouseDown:d,onMouseUp:f,onTouchStart:d,onTouchEnd:f,onClick:()=>{n||t(!e)},className:"w-14 h-14 rounded-full flex items-center justify-center transition-all duration-300 pointer-events-auto relative "+(e?"bg-accent text-bg-dark scale-90 rotate-45 shadow-accent-lg":"bg-card-elevated text-white border-2 border-white/20 shadow-xl hover:border-white/40 hover:scale-105 active:scale-95"),children:[je.jsx(W,{size:24,className:n?"animate-ping":""}),n&&je.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-red-500 animate-ping"})]})]})}const Js=new class{constructor(){if(t(this,"recognition",null),t(this,"commands",[]),t(this,"isListening",!1),"undefined"!=typeof window){const e=window.SpeechRecognition||window.webkitSpeechRecognition;e&&(this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!1,this.recognition.lang="en-US")}}get supported(){return!!this.recognition}clearCommands(){this.commands=[]}registerCommand(e,t){this.commands.push({pattern:e,handler:t})}startListening({onResult:e,onEnd:t,onError:n}={}){return!(!this.recognition||this.isListening)&&(this.recognition.onresult=t=>{const n=t.results[0][0].transcript.toLowerCase();e?.(n),this.processCommand(n)},this.recognition.onend=()=>{this.isListening=!1,t?.()},this.recognition.onerror=e=>{this.isListening=!1,n?.(e.error||"Voice recognition error")},this.recognition.start(),this.isListening=!0,!0)}processCommand(e){for(const{pattern:t,handler:n}of this.commands){const a=e.match(t);if(a)return void n(a.slice(1))}}stopListening(){this.recognition?.stop(),this.isListening=!1}};function ei(){const[e,t]=i.useState(!1),[n,a]=i.useState(null),{startListening:r,stopListening:s,isSupported:o}=function(){const e=De(),t=Re(Oa),n=i.useRef(t);return i.useEffect(()=>{n.current=t},[t]),i.useEffect(()=>{Js.clearCommands(),Js.registerCommand(/long rest/,()=>{e(ar())}),Js.registerCommand(/short rest/,()=>{e(nr())}),Js.registerCommand(/take (\d+) damage/,([t])=>{const a=Number.parseInt(t,10);e(Ba(Math.max(n.current.hp.current-a,0)))}),Js.registerCommand(/heal (\d+)/,([t])=>{const a=Number.parseInt(t,10);e(Ba(Math.min(n.current.hp.current+a,n.current.hp.max)))}),Js.registerCommand(/cast (.+)/,([t])=>{e(Ja(t))})},[e]),{startListening:i.useCallback((e,t)=>Js.startListening({onEnd:e,onError:t}),[]),stopListening:i.useCallback(()=>{Js.stopListening()},[]),isSupported:Js.supported}}();i.useEffect(()=>()=>{s()},[s]);return je.jsxs("div",{className:"fixed bottom-24 right-4 z-50 flex flex-col items-end gap-2",children:[n&&je.jsx("div",{className:"rounded-lg bg-stone-950/90 border border-red-900/50 text-xs text-red-300 px-3 py-2 shadow-xl max-w-[240px]",children:n}),je.jsx("button",{onClick:()=>{if(!o)return;if(e)return s(),void t(!1);r(()=>t(!1),e=>{a(e),t(!1)})&&(a(null),t(!0))},disabled:!o,className:`p-4 rounded-full shadow-lg transition-all ${e?"bg-red-500 animate-pulse":"bg-accent"} ${o?"hover:scale-105":"opacity-50 cursor-not-allowed"}`,"aria-label":o?e?"Stop listening":"Start voice command":"Voice commands not supported","data-testid":"voice-command-btn",children:e?je.jsx(pe,{size:24}):je.jsx(he,{size:24})}),!o&&je.jsx("span",{className:"text-[10px] uppercase tracking-widest text-stone-500",children:"Voice unsupported"})]})}function ti({onSessionSelected:e,onClose:t}){const[n]=i.useState(()=>xa()),[a,r]=i.useState(0===n.length),[s,o]=i.useState(n.length>0?Math.max(...n.map(e=>e.sessionNumber))+1:1),[l,c]=i.useState((new Date).toISOString().split("T")[0]),[u,d]=i.useState(""),f=t=>{const n=function(e){const t=xa().find(t=>t.id===e);return t?(Sa(e),t):null}(t);n&&e(n)},m=(e,t)=>{t.stopPropagation(),confirm("Delete this session? This cannot be undone.")&&(!function(e){ka(xa().filter(t=>t.id!==e)),wa()===e&&Sa(null)}(e),window.location.reload())};return je.jsx("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:je.jsxs("div",{className:"card-parchment w-full max-w-md max-h-[85vh] flex flex-col shadow-2xl animate-scale-in",children:[je.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/10",children:[je.jsxs("div",{className:"flex items-center gap-2",children:[je.jsx(ge,{size:20,className:"text-white"}),je.jsx("h2",{className:"font-display text-lg text-parchment-light tracking-wider",children:"Sessions"})]}),t&&je.jsx("button",{onClick:t,className:"p-2 rounded-full bg-white/5 border border-white/20 text-white/60 hover:text-white hover:bg-white/10 transition-all",children:je.jsx(q,{size:18})})]}),je.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:a?je.jsxs("div",{className:"space-y-4",children:[je.jsx("h3",{className:"font-display text-sm text-parchment tracking-wider",children:"New Session"}),je.jsxs("div",{children:[je.jsx("label",{className:"text-xs text-muted block mb-1",children:"Session #"}),je.jsx("input",{type:"number",min:"1",max:"9999",value:s,onChange:e=>{const t=parseInt(e.target.value)||1;o(Math.max(1,Math.min(9999,t)))},className:"w-full bg-card-elevated border border-white/10 rounded px-3 py-2 text-parchment focus:outline-none focus:border-white/30"})]}),je.jsxs("div",{children:[je.jsx("label",{className:"text-xs text-muted block mb-1",children:"Date"}),je.jsx("input",{type:"date",value:l,onChange:e=>c(e.target.value),className:"w-full bg-card-elevated border border-white/10 rounded px-3 py-2 text-parchment focus:outline-none focus:border-white/30"})]}),je.jsxs("div",{children:[je.jsx("label",{className:"text-xs text-muted block mb-1",children:"Label (optional)"}),je.jsx("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"e.g. 'Battle at Ravenloft'",className:"w-full bg-card-elevated border border-white/10 rounded px-3 py-2 text-parchment placeholder:text-muted/50 focus:outline-none focus:border-white/30"})]}),je.jsxs("div",{className:"flex gap-2 pt-2",children:[n.length>0&&je.jsx("button",{onClick:()=>r(!1),className:"btn-fantasy flex-1",children:"Back"}),je.jsxs("button",{onClick:()=>{try{const t=function(e,t,n){const a={id:crypto.randomUUID(),sessionNumber:e,date:t,label:n,characterData:{...Le},minions:[],lastModified:(new Date).toISOString(),version:2},r=xa();return r.push(a),ka(r),Sa(a.id),a}(s,l,u||void 0);e(t)}catch(t){alert("Failed to create session: "+t)}},className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[je.jsx(J,{size:16}),"Start Session"]})]})]}):je.jsxs("div",{className:"space-y-4",children:[je.jsxs("button",{onClick:()=>r(!0),className:"w-full btn-primary flex items-center justify-center gap-2 py-3",children:[je.jsx(J,{size:18}),"New Session"]}),n.length>0&&je.jsxs(je.Fragment,{children:[je.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[je.jsx("div",{className:"h-px flex-1 bg-white/10"}),je.jsx("span",{className:"text-xs text-muted",children:"or continue"}),je.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),je.jsx("div",{className:"space-y-2",children:n.sort((e,t)=>new Date(t.lastModified).getTime()-new Date(e.lastModified).getTime()).map(e=>je.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card-elevated/60 border border-white/10 cursor-pointer hover:border-white/30 transition-all group",onClick:()=>f(e.id),children:[je.jsx("div",{className:"p-2 bg-card rounded-lg border border-white/10",children:je.jsx(ye,{size:16,className:"text-parchment"})}),je.jsxs("div",{className:"flex-1 min-w-0",children:[je.jsxs("div",{className:"text-sm font-display text-parchment-light",children:["Session ",e.sessionNumber,e.label&&je.jsxs("span",{className:"text-muted ml-2",children:[" ",e.label]})]}),je.jsxs("div",{className:"text-xs text-muted truncate",children:[new Date(e.date).toLocaleDateString(),"  HP: ",e.characterData.hp.current,"/",e.characterData.hp.max]})]}),je.jsx("button",{onClick:t=>m(e.id,t),className:"p-2 rounded-full opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all",children:je.jsx(ve,{size:14})})]},e.id))})]})]})})]})})}function ni(){const e=De(),[t,n]=i.useState("stats"),[a,r]=i.useState(()=>!Na()),s=Re(Oa),o=Re(La);i.useEffect(()=>{if(o){const t=setTimeout(()=>e(pr()),2e3);return()=>clearTimeout(t)}},[o,e]);const l=i.useCallback(t=>{try{e(Wa({characterData:t.characterData})),r(!1),window.scrollTo(0,0)}catch(n){}},[e]),c=i.useMemo(()=>({updateHealth:t=>e(Ba(t)),updateTempHP:t=>e($a(t)),updateDeathSaves:(t,n)=>e(er({type:t,value:n})),handleSpendHitDie:(t,n)=>e(tr({count:n,healed:t})),handleShortRest:()=>{e(nr()),n("stats")},handleLongRest:()=>{e(ar()),n("stats")},handleLevelChange:t=>e(rr(t)),handleAbilityChange:(t,n)=>e(sr({ability:t,newScore:n})),itemAttuned:t=>e(or(t)),itemUnattuned:t=>e(lr(t))}),[e]),u="inventory"===t||"settings"===t?"more":t;return je.jsxs(Mr,{activeTab:u,onTabChange:e=>{n("more"!==e||"inventory"!==t&&"settings"!==t?e:"more")},toast:o,showSessionPicker:a,renderSessionPicker:()=>je.jsx(ti,{onSessionSelected:l}),children:[je.jsx(ls,{activeTab:t,onNavigate:n,character:s,dispatch:e,...c}),je.jsx(Xs,{}),je.jsx(Ys,{}),"home"===t&&je.jsx(ei,{})]})}const ai=["character/toastCleared","character/toastShown"],ri=e=>t=>n=>{const a=t(n);if("object"==typeof n&&null!==n&&"type"in n&&"string"==typeof n.type&&n.type.startsWith("character/")&&!ai.includes(n.type)){const t=e.getState(),n=t.character,a=t.combat.minions,{toast:r,...s}=n;"function"==typeof requestIdleCallback?requestIdleCallback(()=>{Ta(s,a)}):setTimeout(()=>{Ta(s,a)},0)}return a};var si=class extends Error{constructor(e){super(e[0].message),t(this,"issues"),this.name="SchemaError",this.issues=e}},ii=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(ii||{}),oi="uninitialized",li="pending",ci="fulfilled",ui="rejected";function di(e){return{status:e,isUninitialized:e===oi,isLoading:e===li,isSuccess:e===ci,isError:e===ui}}var fi=y;function mi(e,t){if(e===t||!(fi(e)&&fi(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),a=Object.keys(e);let r=n.length===a.length;const s=Array.isArray(t)?[]:{};for(const i of n)s[i]=mi(e[i],t[i]),r&&(r=e[i]===s[i]);return r?e:s}function pi(e,t,n){return e.reduce((e,a,r)=>(t(a,r)&&e.push(n(a,r)),e),[]).flat()}function hi(e){return null!=e}function gi(e){return[...e?.values()??[]].filter(hi)}function yi(e,t){if(!e)return t;if(!t)return e;if(function(e){return new RegExp("(^|:)//").test(e)}(t))return t;const n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=(e=>e.replace(/\/$/,""))(e),`${e}${n}${t=(e=>e.replace(/^\//,""))(t)}`}function vi(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var bi=()=>new Map,xi=e=>{const t=new AbortController;return setTimeout(()=>{const e="signal timed out",n="TimeoutError";t.abort("undefined"!=typeof DOMException?new DOMException(e,n):Object.assign(new Error(e),{name:n}))},e),t.signal},ki=(...e)=>{for(const n of e)if(n.aborted)return AbortSignal.abort(n.reason);const t=new AbortController;for(const n of e)n.addEventListener("abort",()=>t.abort(n.reason),{signal:t.signal,once:!0});return t.signal},wi=(...e)=>fetch(...e),Si=e=>e.status>=200&&e.status<=299,Ni=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Ti(e){if(!y(e))return e;const t={...e};for(const[n,a]of Object.entries(t))void 0===a&&delete t[n];return t}var Ci=class{constructor(e,t=void 0){this.value=e,this.meta=t}},_i="__rtkq/",ji="focused",Ei=b(`${_i}${ji}`),Ai=b(`${_i}un${ji}`),Pi=b(`${_i}online`),zi=b(`${_i}offline`),Mi="query",Oi="mutation",Ii="infinitequery";function Di(e){return e.type===Mi}function Ri(e){return e.type===Ii}function Li(e){return Di(e)||Ri(e)}function Fi(e,t,n,a,r,s){const i="function"==typeof e?e(t,n,a,r):e;return i?pi(i,hi,e=>s(Vi(e))):[]}function Vi(e){return"string"==typeof e?{type:e}:e}var Ui=(e,t)=>e.endpointDefinitions[t],qi=Symbol("forceQueryFn"),Wi=e=>"function"==typeof e[qi];var Bi=class extends si{constructor(e,t,n,a){super(e),this.value=t,this.schemaName=n,this._bqMeta=a}},$i=(e,t)=>Array.isArray(e)?e.includes(t):!!e;async function Qi(e,t,n,a){const r=await e["~standard"].validate(t);if(r.issues)throw new Bi(r.issues,t,n,a);return r.value}function Hi(e){return e}var Zi=(e={})=>({...e,[j]:!0});function Ki(e,{pages:t,pageParams:n},a){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n,a)}function Gi(e,{pages:t,pageParams:n},a){return e.getPreviousPageParam?.(t[0],t,n[0],n,a)}function Xi(e,t,n,a){return Fi(n[e.meta.arg.endpointName][t],T(e)?e.payload:void 0,N(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,a)}function Yi(e){return I(e)?O(e):e}function Ji(e,t,n){const a=e[t];a&&n(a)}function eo(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function to(e,t,n){const a=e[eo(t)];a&&n(a)}var no={};var ao=Symbol.for("RTKQ/skipToken"),ro={status:oi},so=x(ro,()=>{}),io=x(ro,()=>{});var oo=WeakMap?new WeakMap:void 0,lo=({endpointName:e,queryArgs:t})=>{let n="";const a=oo?.get(t);if("string"==typeof a)n=a;else{const e=JSON.stringify(t,(e,t)=>(t="bigint"==typeof t?{$bigint:t.toString()}:t,t=y(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t));y(t)&&oo?.set(t,e),n=e}return`${e}(${n})`};function co(...e){return function(t){const n=p(e=>t.extractRehydrationInfo?.(e,{reducerPath:t.reducerPath??"api"})),a={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:n,serializeQueryArgs(e){let n=lo;if("serializeQueryArgs"in e.endpointDefinition){const t=e.endpointDefinition.serializeQueryArgs;n=e=>{const n=t(e);return"string"==typeof n?n:lo({...e,queryArgs:n})}}else t.serializeQueryArgs&&(n=t.serializeQueryArgs);return n(e)},tagTypes:[...t.tagTypes||[]]},r={endpointDefinitions:{},batch(e){e()},apiUid:h(),extractRehydrationInfo:n,hasRehydrationInfo:p(e=>null!=n(e))},s={injectEndpoints:function(e){const t=e.endpoints({query:e=>({...e,type:Mi}),mutation:e=>({...e,type:Oi}),infiniteQuery:e=>({...e,type:Ii})});for(const[n,a]of Object.entries(t))if(!0!==e.overrideExisting&&n in r.endpointDefinitions){if("throw"===e.overrideExisting)throw new Error(g(39))}else{r.endpointDefinitions[n]=a;for(const e of i)e.injectEndpoint(n,a)}return s},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(const n of e)a.tagTypes.includes(n)||a.tagTypes.push(n);if(t)for(const[n,a]of Object.entries(t))"function"==typeof a?a(Ui(r,n)):Object.assign(Ui(r,n)||{},a);return s}},i=e.map(e=>e.init(s,a,r));return s.injectEndpoints({endpoints:t.endpoints})}}function uo(e,...t){return Object.assign(e,...t)}var fo=({api:e,queryThunk:t,internalState:n,mwApi:a})=>{const r=`${e.reducerPath}/subscriptions`;let s=null,i=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:l}=e.internalActions,c=()=>n.currentSubscriptions,u={getSubscriptions:c,getSubscriptionCount:e=>{const t=c().get(e);return t?.size??0},isRequestSubscribed:(e,t)=>{const n=c();return!!n?.get(e)?.get(t)}};function d(e){return JSON.parse(JSON.stringify(Object.fromEntries([...e].map(([e,t])=>[e,Object.fromEntries(t)]))))}return(a,c)=>{if(s||(s=d(n.currentSubscriptions)),e.util.resetApiState.match(a))return s={},n.currentSubscriptions.clear(),i=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(a))return[!1,u];const f=((n,a)=>{if(o.match(a)){const{queryCacheKey:e,requestId:t,options:r}=a.payload,s=n.get(e);return s?.has(t)&&s.set(t,r),!0}if(l.match(a)){const{queryCacheKey:e,requestId:t}=a.payload,r=n.get(e);return r&&r.delete(t),!0}if(e.internalActions.removeQueryResult.match(a))return n.delete(a.payload.queryCacheKey),!0;if(t.pending.match(a)){const{meta:{arg:e,requestId:t}}=a,r=vi(n,e.queryCacheKey,bi);return e.subscribe&&r.set(t,e.subscriptionOptions??r.get(t)??{}),!0}let r=!1;if(t.rejected.match(a)){const{meta:{condition:e,arg:t,requestId:s}}=a;if(e&&t.subscribe){const e=vi(n,t.queryCacheKey,bi);e.set(s,t.subscriptionOptions??e.get(s)??{}),r=!0}}return r})(n.currentSubscriptions,a);let m=!0;if(f){i||(i=setTimeout(()=>{const t=d(n.currentSubscriptions),[,a]=M(s,()=>t);c.next(e.internalActions.subscriptionsUpdated(a)),s=t,i=null},500));const o="string"==typeof a.type&&!!a.type.startsWith(r),l=t.rejected.match(a)&&a.meta.condition&&!!a.meta.arg.subscribe;m=!o&&!l}return[m,!1]}},mo=({reducerPath:e,api:t,queryThunk:n,context:a,internalState:r,selectors:{selectQueryEntry:s,selectConfig:i},getRunningQueryThunk:o,mwApi:l})=>{const{removeQueryResult:c,unsubscribeQueryResult:u,cacheEntriesUpserted:d}=t.internalActions,f=S(u.match,n.fulfilled,n.rejected,d.match);function m(e){const t=r.currentSubscriptions.get(e);if(!t)return!1;return t.size>0}const p={};function h(e){for(const t of e.values())t?.abort?.()}function g(e,t,n){const a=t.getState();for(const r of e){const e=s(a,r);e?.endpointName&&y(r,e.endpointName,t,n)}}function y(e,t,n,r){const i=Ui(a,t),l=i?.keepUnusedDataFor??r.keepUnusedDataFor;if(l===1/0)return;const u=Math.max(0,Math.min(l,2147482.647));if(!m(e)){const t=p[e];t&&clearTimeout(t),p[e]=setTimeout(()=>{if(!m(e)){const t=s(n.getState(),e);if(t?.endpointName){const e=n.dispatch(o(t.endpointName,t.originalArgs));e?.abort()}n.dispatch(c({queryCacheKey:e}))}delete p[e]},1e3*u)}}return(e,n)=>{const s=n.getState(),o=i(s);if(f(e)){let t;if(d.match(e))t=e.payload.map(e=>e.queryDescription.queryCacheKey);else{const{queryCacheKey:n}=u.match(e)?e.payload:e.meta.arg;t=[n]}g(t,n,o)}if(t.util.resetApiState.match(e)){for(const[e,t]of Object.entries(p))t&&clearTimeout(t),delete p[e];h(r.runningQueries),h(r.runningMutations)}if(a.hasRehydrationInfo(e)){const{queries:t}=a.extractRehydrationInfo(e);g(Object.keys(t),n,o)}}},po=new Error("Promise never resolved before cacheEntryRemoved."),ho=({api:e,reducerPath:t,context:n,queryThunk:a,mutationThunk:r,internalState:s,selectors:{selectQueryEntry:i,selectApiState:o}})=>{const l=R(a),c=R(r),u=T(a,r),d={},{removeQueryResult:f,removeMutationResult:m,cacheEntriesUpserted:p}=e.internalActions;function h(e,t,n){const a=d[e];a?.valueResolved&&(a.valueResolved({data:t,meta:n}),delete a.valueResolved)}function g(e){const t=d[e];t&&(delete d[e],t.cacheEntryRemoved())}function y(e){const{arg:t,requestId:n}=e.meta,{endpointName:a,originalArgs:r}=t;return[a,r,n]}function v(t,a,r,s,i){const o=Ui(n,t),l=o?.onCacheEntryAdded;if(!l)return;const c={},u=new Promise(e=>{c.cacheEntryRemoved=e}),f=Promise.race([new Promise(e=>{c.valueResolved=e}),u.then(()=>{throw po})]);f.catch(()=>{}),d[r]=c;const m=e.endpoints[t].select(Li(o)?a:r),p=s.dispatch((e,t,n)=>n),h={...s,getCacheEntry:()=>m(s.getState()),requestId:i,extra:p,updateCachedData:Li(o)?n=>s.dispatch(e.util.updateQueryData(t,a,n)):void 0,cacheDataLoaded:f,cacheEntryRemoved:u},g=l(a,h);Promise.resolve(g).catch(e=>{if(e!==po)throw e})}return(n,s,o)=>{const b=function(e){if(l(e))return e.meta.arg.queryCacheKey;if(c(e))return e.meta.arg.fixedCacheKey??e.meta.requestId;return f.match(e)?e.payload.queryCacheKey:m.match(e)?eo(e.payload):""}(n);function x(e,t,n,a){const r=i(o,t),l=i(s.getState(),t);!r&&l&&v(e,a,t,s,n)}if(a.pending.match(n)){const[e,t,a]=y(n);x(e,b,a,t)}else if(p.match(n))for(const{queryDescription:e,value:t}of n.payload){const{endpointName:a,originalArgs:r,queryCacheKey:s}=e;x(a,s,n.meta.requestId,r),h(s,t,{})}else if(r.pending.match(n)){if(s.getState()[t].mutations[b]){const[e,t,a]=y(n);v(e,t,b,s,a)}}else if(u(n))h(b,n.payload,n.meta.baseQueryMeta);else if(f.match(n)||m.match(n))g(b);else if(e.util.resetApiState.match(n))for(const e of Object.keys(d))g(e)}},go=({api:e,context:{apiUid:t},reducerPath:n})=>(n,a)=>{e.util.resetApiState.match(n)&&a.dispatch(e.internalActions.middlewareRegistered(t))},yo=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:a,queryThunk:r,api:s,assertTagType:i,refetchQuery:o,internalState:l})=>{const{removeQueryResult:c}=s.internalActions,u=S(T(a),N(a)),d=S(T(r,a),A(r,a));let f=[],m=0;function p(n,a){const r=a.getState(),i=r[e];if(f.push(...n),"delayed"===i.config.invalidationBehavior&&m>0)return;const u=f;if(f=[],0===u.length)return;const d=s.util.selectInvalidatedBy(r,u);t.batch(()=>{const e=Array.from(d.values());for(const{queryCacheKey:t}of e){const e=i.queries[t],n=vi(l.currentSubscriptions,t,bi);e&&(0===n.size?a.dispatch(c({queryCacheKey:t})):e.status!==oi&&a.dispatch(o(e)))}})}return(e,t)=>{(r.pending.match(e)||a.pending.match(e))&&m++,d(e)&&(m=Math.max(0,m-1)),u(e)?p(Xi(e,"invalidatesTags",n,i),t):d(e)?p([],t):s.util.invalidateTags.match(e)&&p(Fi(e.payload,void 0,void 0,void 0,void 0,i),t)}},vo=({reducerPath:e,queryThunk:t,api:n,refetchQuery:a,internalState:r})=>{const{currentPolls:s,currentSubscriptions:i}=r,o=new Set;let l=null;function c(e,t){o.add(e),l||(l=setTimeout(()=>{for(const e of o)d({queryCacheKey:e},t);o.clear(),l=null},0))}function u({queryCacheKey:t},n){const r=n.getState()[e],o=r.queries[t],l=i.get(t);if(!o||o.status===oi)return;const{lowestPollingInterval:c,skipPollingIfUnfocused:d}=m(l);if(!Number.isFinite(c))return;const f=s.get(t);f?.timeout&&(clearTimeout(f.timeout),f.timeout=void 0);const p=Date.now()+c;s.set(t,{nextPollTimestamp:p,pollingInterval:c,timeout:setTimeout(()=>{!r.config.focused&&d||n.dispatch(a(o)),u({queryCacheKey:t},n)},c)})}function d({queryCacheKey:t},n){const a=n.getState()[e].queries[t],r=i.get(t);if(!a||a.status===oi)return;const{lowestPollingInterval:o}=m(r);if(!Number.isFinite(o))return void f(t);const l=s.get(t),c=Date.now()+o;(!l||c<l.nextPollTimestamp)&&u({queryCacheKey:t},n)}function f(e){const t=s.get(e);t?.timeout&&clearTimeout(t.timeout),s.delete(e)}function m(e=new Map){let t=!1,n=Number.POSITIVE_INFINITY;for(const a of e.values())a.pollingInterval&&(n=Math.min(a.pollingInterval,n),t=a.skipPollingIfUnfocused||t);return{lowestPollingInterval:n,skipPollingIfUnfocused:t}}return(e,a)=>{(n.internalActions.updateSubscriptionOptions.match(e)||n.internalActions.unsubscribeQueryResult.match(e))&&c(e.payload.queryCacheKey,a),(t.pending.match(e)||t.rejected.match(e)&&e.meta.condition)&&c(e.meta.arg.queryCacheKey,a),(t.fulfilled.match(e)||t.rejected.match(e)&&!e.meta.condition)&&u(e.meta.arg,a),n.util.resetApiState.match(e)&&(!function(){for(const e of s.keys())f(e)}(),l&&(clearTimeout(l),l=null),o.clear())}},bo=({api:e,context:t,queryThunk:n,mutationThunk:a})=>{const r=P(n,a),s=A(n,a),i=T(n,a),o={};return(n,a)=>{if(r(n)){const{requestId:r,arg:{endpointName:s,originalArgs:i}}=n.meta,l=Ui(t,s),c=l?.onQueryStarted;if(c){const t={},n=new Promise((e,n)=>{t.resolve=e,t.reject=n});n.catch(()=>{}),o[r]=t;const u=e.endpoints[s].select(Li(l)?i:r),d=a.dispatch((e,t,n)=>n),f={...a,getCacheEntry:()=>u(a.getState()),requestId:r,extra:d,updateCachedData:Li(l)?t=>a.dispatch(e.util.updateQueryData(s,i,t)):void 0,queryFulfilled:n};c(i,f)}}else if(i(n)){const{requestId:e,baseQueryMeta:t}=n.meta;o[e]?.resolve({data:n.payload,meta:t}),delete o[e]}else if(s(n)){const{requestId:e,rejectedWithValue:t,baseQueryMeta:a}=n.meta;o[e]?.reject({error:n.payload??n.error,isUnhandledError:!t,meta:a}),delete o[e]}}};function xo(e){const{reducerPath:t,queryThunk:n,api:a,context:r,getInternalState:s}=e,{apiUid:i}=r,o={invalidateTags:b(`${t}/invalidateTags`)},l=e=>e.type.startsWith(`${t}/`),c=[go,mo,yo,vo,ho,bo];return{middleware:n=>{let o=!1;const d=s(n.dispatch),f={...e,internalState:d,refetchQuery:u,isThisApiSliceAction:l,mwApi:n},m=c.map(e=>e(f)),p=fo(f),h=(({reducerPath:e,context:t,api:n,refetchQuery:a,internalState:r})=>{const{removeQueryResult:s}=n.internalActions;function i(n,i){const o=n.getState()[e],l=o.queries,c=r.currentSubscriptions;t.batch(()=>{for(const e of c.keys()){const t=l[e],r=c.get(e);if(!r||!t)continue;const u=[...r.values()];(u.some(e=>!0===e[i])||u.every(e=>void 0===e[i])&&o.config[i])&&(0===r.size?n.dispatch(s({queryCacheKey:e})):t.status!==oi&&n.dispatch(a(t)))}})}return(e,t)=>{Ei.match(e)&&i(t,"refetchOnFocus"),Pi.match(e)&&i(t,"refetchOnReconnect")}})(f);return e=>s=>{if(!D(s))return e(s);o||(o=!0,n.dispatch(a.internalActions.middlewareRegistered(i)));const c={...n,next:e},u=n.getState(),[d,f]=p(s,c,u);let g;if(g=d?e(s):f,n.getState()[t]&&(h(s,c,u),l(s)||r.hasRehydrationInfo(s)))for(const e of m)e(s,c,u);return g}},actions:o};function u(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:!1,forceRefetch:!0})}}var ko=Symbol(),wo=({createSelector:e=f}={})=>({name:ko,init(t,{baseQuery:n,tagTypes:a,reducerPath:r,serializeQueryArgs:s,keepUnusedDataFor:i,refetchOnMountOrArgChange:o,refetchOnFocus:l,refetchOnReconnect:c,invalidationBehavior:u,onSchemaFailure:f,catchSchemaFailure:m,skipSchemaValidation:p},g){v();const y=e=>e;Object.assign(t,{reducerPath:r,endpoints:{},internalActions:{onOnline:Pi,onOffline:zi,onFocus:Ei,onFocusLost:Ai},util:{}});const O=function({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const a=e=>so,r=e=>io;return{buildQuerySelector:function(e,t){return c(e,t,s)},buildInfiniteQuerySelector:function(e,t){const{infiniteQueryOptions:n}=t;return c(e,t,function(e){const t={...e,...di(e.status)},{isLoading:a,isError:r,direction:s}=t,i="forward"===s,o="backward"===s;return{...t,hasNextPage:u(n,t.data,t.originalArgs),hasPreviousPage:d(n,t.data,t.originalArgs),isFetchingNextPage:a&&i,isFetchingPreviousPage:a&&o,isFetchNextPageError:r&&i,isFetchPreviousPageError:r&&o}})},buildMutationSelector:function(){return e=>{let t;return t="object"==typeof e?eo(e)??ao:e,n(t===ao?r:e=>i(e)?.mutations?.[t]??io,s)}},selectInvalidatedBy:function(e,n){const a=e[t],r=new Set,s=pi(n,hi,Vi);for(const t of s){const e=a.provided.tags[t.type];if(!e)continue;let n=(void 0!==t.id?e[t.id]:Object.values(e).flat())??[];for(const t of n)r.add(t)}return Array.from(r.values()).flatMap(e=>{const t=a.queries[e];return t?{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}:[]})},selectCachedArgsForQuery:function(e,t){return pi(Object.values(o(e)),e=>e?.endpointName===t&&e.status!==oi,e=>e.originalArgs)},selectApiState:i,selectQueries:o,selectMutations:function(e){return i(e)?.mutations},selectQueryEntry:l,selectConfig:function(e){return i(e)?.config}};function s(e){return{...e,...di(e.status)}}function i(e){return e[t]}function o(e){return i(e)?.queries}function l(e,t){return o(e)?.[t]}function c(t,r,s){return i=>{if(i===ao)return n(a,s);const o=e({queryArgs:i,endpointDefinition:r,endpointName:t});return n(e=>l(e,o)??so,s)}}function u(e,t,n){return!!t&&null!=Ki(e,t,n)}function d(e,t,n){return!(!t||!e.getPreviousPageParam)&&null!=Gi(e,t,n)}}({serializeQueryArgs:s,reducerPath:r,createSelector:e}),{selectInvalidatedBy:D,selectCachedArgsForQuery:R,buildQuerySelector:F,buildInfiniteQuerySelector:V,buildMutationSelector:U}=O;uo(t.util,{selectInvalidatedBy:D,selectCachedArgsForQuery:R});const{queryThunk:q,infiniteQueryThunk:W,mutationThunk:B,patchQueryData:$,updateQueryData:Q,upsertQueryData:H,prefetch:Z,buildMatchThunkActions:K}=function({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:a,api:r,assertTagType:s,selectors:i,onSchemaFailure:o,catchSchemaFailure:l,skipSchemaValidation:c}){function u(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}function d(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}const f=(e,t)=>e.query&&e[t]?e[t]:Hi,m=async(e,{signal:a,abort:r,rejectWithValue:s,fulfillWithValue:m,dispatch:h,getState:g,extra:y})=>{const v=n[e.endpointName],{metaSchema:b,skipSchemaValidation:x=c}=v,k=e.type===Mi;try{let N=Hi;const T={signal:a,abort:r,dispatch:h,getState:g,extra:y,endpoint:e.endpointName,type:e.type,forced:k?p(e,g()):void 0,queryCacheKey:k?e.queryCacheKey:void 0},C=k?e[qi]:void 0;let _;const j=async(t,n,a,r)=>{if(null==n&&t.pages.length)return Promise.resolve({data:t});const s={queryArg:e.originalArgs,pageParam:n},i=await E(s),o=r?u:d;return{data:{pages:o(t.pages,i.data,a),pageParams:o(t.pageParams,n,a)},meta:i.meta}};async function E(e){let n;const{extraOptions:a,argSchema:r,rawResponseSchema:s,responseSchema:i}=v;if(r&&!$i(x,"arg")&&(e=await Qi(r,e,"argSchema",{})),C?n=C():v.query?(N=f(v,"transformResponse"),n=await t(v.query(e),T,a)):n=await v.queryFn(e,T,a,e=>t(e,T,a)),n.error)throw new Ci(n.error,n.meta);let{data:o}=n;s&&!$i(x,"rawResponse")&&(o=await Qi(s,n.data,"rawResponseSchema",n.meta));let l=await N(o,n.meta,e);return i&&!$i(x,"response")&&(l=await Qi(i,l,"responseSchema",n.meta)),{...n,data:l}}if(k&&"infiniteQueryOptions"in v){const{infiniteQueryOptions:A}=v,{maxPages:P=1/0}=A,z=e.refetchCachedPages??A.refetchCachedPages??!0;let M;const O={pages:[],pageParams:[]},I=i.selectQueryEntry(g(),e.queryCacheKey)?.data,D=p(e,g())&&!e.direction||!I?O:I;if("direction"in e&&e.direction&&D.pages.length){const R="backward"===e.direction,L=(R?Gi:Ki)(A,D,e.originalArgs);M=await j(D,L,P,R)}else{const{initialPageParam:F=A.initialPageParam}=e,V=I?.pageParams??[],U=V[0]??F,q=V.length;if(M=await j(D,U,P),C&&(M={data:M.data.pages[0]}),z)for(let W=1;W<q;W++){const B=Ki(A,M.data,e.originalArgs);M=await j(M.data,B,P)}}_=M}else _=await E(e.originalArgs);return b&&!$i(x,"meta")&&_.meta&&(_.meta=await Qi(b,_.meta,"metaSchema",_.meta)),m(_.data,Zi({fulfilledTimeStamp:Date.now(),baseQueryMeta:_.meta}))}catch(w){let $=w;if($ instanceof Ci){let Q=f(v,"transformErrorResponse");const{rawErrorResponseSchema:H,errorResponseSchema:Z}=v;let{value:K,meta:G}=$;try{H&&!$i(x,"rawErrorResponse")&&(K=await Qi(H,K,"rawErrorResponseSchema",G)),b&&!$i(x,"meta")&&(G=await Qi(b,G,"metaSchema",G));let X=await Q(K,G,e.originalArgs);return Z&&!$i(x,"errorResponse")&&(X=await Qi(Z,X,"errorResponseSchema",G)),s(X,Zi({baseQueryMeta:G}))}catch(S){$=S}}try{if($ instanceof Bi){const Y={endpoint:e.endpointName,arg:e.originalArgs,type:e.type,queryCacheKey:k?e.queryCacheKey:void 0};v.onSchemaFailure?.($,Y),o?.($,Y);const{catchSchemaFailure:J=l}=v;if(J)return s(J($,Y),Zi({baseQueryMeta:$._bqMeta}))}}catch(S){$=S}throw $}};function p(e,t){const n=i.selectQueryEntry(t,e.queryCacheKey),a=i.selectConfig(t).refetchOnMountOrArgChange,r=n?.fulfilledTimeStamp,s=e.forceRefetch??(e.subscribe&&a);return!!s&&(!0===s||(Number(new Date)-Number(r))/1e3>=s)}const h=()=>k(`${e}/executeQuery`,m,{getPendingMeta({arg:e}){const t=n[e.endpointName];return Zi({startedTimeStamp:Date.now(),...Ri(t)?{direction:e.direction}:{}})},condition(e,{getState:t}){const a=t(),r=i.selectQueryEntry(a,e.queryCacheKey),s=r?.fulfilledTimeStamp,o=e.originalArgs,l=r?.originalArgs,c=n[e.endpointName],u=e.direction;return!(!Wi(e)&&("pending"===r?.status||!p(e,a)&&(!Di(c)||!c?.forceRefetch?.({currentArg:o,previousArg:l,endpointState:r,state:a}))&&s&&!u))},dispatchConditionRejection:!0}),g=h(),y=h(),v=k(`${e}/executeMutation`,m,{getPendingMeta:()=>Zi({startedTimeStamp:Date.now()})});function b(e){return t=>t?.meta?.arg?.endpointName===e}return{queryThunk:g,mutationThunk:v,infiniteQueryThunk:y,prefetch:(e,t,n={})=>(a,s)=>{const i=(e=>"force"in e)(n)&&n.force,o=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,l=(n=!0)=>{const a={forceRefetch:n,subscribe:!1};return r.endpoints[e].initiate(t,a)},c=r.endpoints[e].select(t)(s());if(i)a(l());else if(o){const e=c?.fulfilledTimeStamp;if(!e)return void a(l());(Number(new Date)-Number(new Date(e)))/1e3>=o&&a(l())}else a(l(!1))},updateQueryData:(e,t,n,a=!0)=>(s,i)=>{const o=r.endpoints[e].select(t)(i()),l={patches:[],inversePatches:[],undo:()=>s(r.util.patchQueryData(e,t,l.inversePatches,a))};if(o.status===oi)return l;let c;if("data"in o)if(z(o.data)){const[e,t,a]=M(o.data,n);l.patches.push(...t),l.inversePatches.push(...a),c=e}else c=n(o.data),l.patches.push({op:"replace",path:[],value:c}),l.inversePatches.push({op:"replace",path:[],value:o.data});return 0===l.patches.length||s(r.util.patchQueryData(e,t,l.patches,a)),l},upsertQueryData:(e,t,n)=>a=>a(r.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[qi]:()=>({data:n})})),patchQueryData:(e,t,i,o)=>(l,c)=>{const u=n[e],d=a({queryArgs:t,endpointDefinition:u,endpointName:e});if(l(r.internalActions.queryResultPatched({queryCacheKey:d,patches:i})),!o)return;const f=r.endpoints[e].select(t)(c()),m=Fi(u.providesTags,f.data,void 0,t,{},s);l(r.internalActions.updateProvidedBy([{queryCacheKey:d,providedTags:m}]))},buildMatchThunkActions:function(e,t){return{matchPending:E(P(e),b(t)),matchFulfilled:E(T(e),b(t)),matchRejected:E(A(e),b(t))}}}}({baseQuery:n,reducerPath:r,context:g,api:t,serializeQueryArgs:s,assertTagType:y,selectors:O,onSchemaFailure:f,catchSchemaFailure:m,skipSchemaValidation:p}),{reducer:G,actions:X}=function({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:a,context:{endpointDefinitions:r,apiUid:s,extractRehydrationInfo:i,hasRehydrationInfo:o},assertTagType:l,config:c}){const u=b(`${e}/resetApiState`);function f(e,t,n,a){var s;e[s=t.queryCacheKey]??(e[s]={status:oi,endpointName:t.endpointName}),Ji(e,t.queryCacheKey,e=>{e.status=li,e.requestId=n&&e.requestId?e.requestId:a.requestId,void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs),e.startedTimeStamp=a.startedTimeStamp,Ri(r[a.arg.endpointName])&&"direction"in t&&(e.direction=t.direction)})}function m(e,t,n,a){Ji(e,t.arg.queryCacheKey,e=>{if(e.requestId!==t.requestId&&!a)return;const{merge:s}=r[t.arg.endpointName];if(e.status=ci,s)if(void 0!==e.data){const{fulfilledTimeStamp:a,arg:r,baseQueryMeta:i,requestId:o}=t;let l=x(e.data,e=>s(e,n,{arg:r.originalArgs,baseQueryMeta:i,fulfilledTimeStamp:a,requestId:o}));e.data=l}else e.data=n;else e.data=r[t.arg.endpointName].structuralSharing??1?mi(I(e.data)?L(e.data):e.data,n):n;delete e.error,e.fulfilledTimeStamp=t.fulfilledTimeStamp})}const p=d({name:`${e}/queries`,initialState:no,reducers:{removeQueryResult:{reducer(e,{payload:{queryCacheKey:t}}){delete e[t]},prepare:w()},cacheEntriesUpserted:{reducer(e,t){for(const n of t.payload){const{queryDescription:a,value:r}=n;f(e,a,!0,{arg:a,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),m(e,{arg:a,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},r,!0)}},prepare:e=>({payload:e.map(e=>{const{endpointName:t,arg:n,value:s}=e,i=r[t];return{queryDescription:{type:Mi,endpointName:t,originalArgs:e.arg,queryCacheKey:a({queryArgs:n,endpointDefinition:i,endpointName:t})},value:s}}),meta:{[j]:!0,requestId:h(),timestamp:Date.now()}})},queryResultPatched:{reducer(e,{payload:{queryCacheKey:t,patches:n}}){Ji(e,t,e=>{e.data=C(e.data,n.concat())})},prepare:w()}},extraReducers(e){e.addCase(t.pending,(e,{meta:t,meta:{arg:n}})=>{f(e,n,Wi(n),t)}).addCase(t.fulfilled,(e,{meta:t,payload:n})=>{m(e,t,n,Wi(t.arg))}).addCase(t.rejected,(e,{meta:{condition:t,arg:n,requestId:a},error:r,payload:s})=>{Ji(e,n.queryCacheKey,e=>{if(t);else{if(e.requestId!==a)return;e.status=ui,e.error=s??r}})}).addMatcher(o,(e,t)=>{const{queries:n}=i(t);for(const[a,r]of Object.entries(n))r?.status!==ci&&r?.status!==ui||(e[a]=r)})}}),g=d({name:`${e}/mutations`,initialState:no,reducers:{removeMutationResult:{reducer(e,{payload:t}){const n=eo(t);n in e&&delete e[n]},prepare:w()}},extraReducers(e){e.addCase(n.pending,(e,{meta:t,meta:{requestId:n,arg:a,startedTimeStamp:r}})=>{a.track&&(e[eo(t)]={requestId:n,status:li,endpointName:a.endpointName,startedTimeStamp:r})}).addCase(n.fulfilled,(e,{payload:t,meta:n})=>{n.arg.track&&to(e,n,e=>{e.requestId===n.requestId&&(e.status=ci,e.data=t,e.fulfilledTimeStamp=n.fulfilledTimeStamp)})}).addCase(n.rejected,(e,{payload:t,error:n,meta:a})=>{a.arg.track&&to(e,a,e=>{e.requestId===a.requestId&&(e.status=ui,e.error=t??n)})}).addMatcher(o,(e,t)=>{const{mutations:n}=i(t);for(const[a,r]of Object.entries(n))r?.status!==ci&&r?.status!==ui||a===r?.requestId||(e[a]=r)})}}),y=d({name:`${e}/invalidation`,initialState:{tags:{},keys:{}},reducers:{updateProvidedBy:{reducer(e,t){var n,a,r;for(const{queryCacheKey:s,providedTags:i}of t.payload){v(e,s);for(const{type:t,id:o}of i){const i=(a=(n=e.tags)[t]??(n[t]={}))[r=o||"__internal_without_id"]??(a[r]=[]);i.includes(s)||i.push(s)}e.keys[s]=i}},prepare:w()}},extraReducers(e){e.addCase(p.actions.removeQueryResult,(e,{payload:{queryCacheKey:t}})=>{v(e,t)}).addMatcher(o,(e,t)=>{var n,a,r;const{provided:s}=i(t);for(const[i,o]of Object.entries(s.tags??{}))for(const[t,l]of Object.entries(o)){const o=(a=(n=e.tags)[i]??(n[i]={}))[r=t||"__internal_without_id"]??(a[r]=[]);for(const t of l)o.includes(t)||o.push(t),e.keys[t]=s.keys[t]}}).addMatcher(S(T(t),N(t)),(e,t)=>{k(e,[t])}).addMatcher(p.actions.cacheEntriesUpserted.match,(e,t)=>{k(e,t.payload.map(({queryDescription:e,value:t})=>({type:"UNKNOWN",payload:t,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:e}})))})}});function v(e,t){const n=Yi(e.keys[t]??[]);for(const a of n){const n=a.type,r=a.id??"__internal_without_id",s=e.tags[n]?.[r];s&&(e.tags[n][r]=Yi(s).filter(e=>e!==t))}delete e.keys[t]}function k(e,t){const n=t.map(e=>{const t=Xi(e,"providesTags",r,l),{queryCacheKey:n}=e.meta.arg;return{queryCacheKey:n,providedTags:t}});y.caseReducers.updateProvidedBy(e,y.actions.updateProvidedBy(n))}const E=d({name:`${e}/subscriptions`,initialState:no,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),A=d({name:`${e}/internalSubscriptions`,initialState:no,reducers:{subscriptionsUpdated:{reducer:(e,t)=>C(e,t.payload),prepare:w()}}}),P=d({name:`${e}/config`,initialState:{online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1,...c},reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&s===t||"conflict"}},extraReducers:e=>{e.addCase(Pi,e=>{e.online=!0}).addCase(zi,e=>{e.online=!1}).addCase(Ei,e=>{e.focused=!0}).addCase(Ai,e=>{e.focused=!1}).addMatcher(o,e=>({...e}))}}),z=_({queries:p.reducer,mutations:g.reducer,provided:y.reducer,subscriptions:A.reducer,config:P.reducer});return{reducer:(e,t)=>z(u.match(t)?void 0:e,t),actions:{...P.actions,...p.actions,...E.actions,...A.actions,...g.actions,...y.actions,resetApiState:u}}}({context:g,queryThunk:q,mutationThunk:B,serializeQueryArgs:s,reducerPath:r,assertTagType:y,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:o,keepUnusedDataFor:i,reducerPath:r,invalidationBehavior:u}});uo(t.util,{patchQueryData:$,updateQueryData:Q,upsertQueryData:H,prefetch:Z,resetApiState:X.resetApiState,upsertQueryEntries:X.cacheEntriesUpserted}),uo(t.internalActions,X);const Y=new WeakMap,J=e=>vi(Y,e,()=>({currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map})),{buildInitiateQuery:ee,buildInitiateInfiniteQuery:te,buildInitiateMutation:ne,getRunningMutationThunk:ae,getRunningMutationsThunk:re,getRunningQueriesThunk:se,getRunningQueryThunk:ie}=function({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:n,mutationThunk:a,api:r,context:s,getInternalState:i}){const o=e=>i(e)?.runningQueries,l=e=>i(e)?.runningMutations,{unsubscribeQueryResult:c,removeMutationResult:u,updateSubscriptionOptions:d}=r.internalActions;return{buildInitiateQuery:function(e,t){return f(e,t)},buildInitiateInfiniteQuery:function(e,t){return f(e,t)},buildInitiateMutation:function(e){return(t,{track:n=!0,fixedCacheKey:r}={})=>(s,i)=>{const o=a({type:"mutation",endpointName:e,originalArgs:t,track:n,fixedCacheKey:r}),c=s(o),{requestId:d,abort:f,unwrap:m}=c,p=(h=e=>({error:e}),c.unwrap().then(e=>({data:e})).catch(h));var h;const g=Object.assign(p,{arg:c.arg,requestId:d,abort:f,unwrap:m,reset:()=>{s(u({requestId:d,fixedCacheKey:r}))}}),y=l(s);return y.set(d,g),g.then(()=>{y.delete(d)}),r&&(y.set(r,g),g.then(()=>{y.get(r)===g&&y.delete(r)})),g}},getRunningQueryThunk:function(t,n){return a=>{const r=Ui(s,t),i=e({queryArgs:n,endpointDefinition:r,endpointName:t});return o(a)?.get(i)}},getRunningMutationThunk:function(e,t){return e=>l(e)?.get(t)},getRunningQueriesThunk:function(){return e=>gi(o(e))},getRunningMutationsThunk:function(){return e=>gi(l(e))}};function f(a,s){const i=(l,{subscribe:u=!0,forceRefetch:f,subscriptionOptions:m,[qi]:p,...h}={})=>(g,y)=>{const v=e({queryArgs:l,endpointDefinition:s,endpointName:a});let b;const x={...h,type:Mi,subscribe:u,forceRefetch:f,subscriptionOptions:m,endpointName:a,originalArgs:l,queryCacheKey:v,[qi]:p};if(Di(s))b=t(x);else{const{direction:e,initialPageParam:t,refetchCachedPages:a}=h;b=n({...x,direction:e,initialPageParam:t,refetchCachedPages:a})}const k=r.endpoints[a].select(l),w=g(b),S=k(y()),{requestId:N,abort:T}=w,C=S.requestId!==N,_=o(g)?.get(v),j=()=>k(y()),E=Object.assign(p?w.then(j):C&&!_?Promise.resolve(S):Promise.all([_,w]).then(j),{arg:l,requestId:N,subscriptionOptions:m,queryCacheKey:v,abort:T,async unwrap(){const e=await E;if(e.isError)throw e.error;return e.data},refetch:e=>g(i(l,{subscribe:!1,forceRefetch:!0,...e})),unsubscribe(){u&&g(c({queryCacheKey:v,requestId:N}))},updateSubscriptionOptions(e){E.subscriptionOptions=e,g(d({endpointName:a,requestId:N,queryCacheKey:v,options:e}))}});if(!_&&!C&&!p){const e=o(g);e.set(v,E),E.then(()=>{e.delete(v)})}return E};return i}}({queryThunk:q,mutationThunk:B,infiniteQueryThunk:W,api:t,serializeQueryArgs:s,context:g,getInternalState:J});uo(t.util,{getRunningMutationThunk:ae,getRunningMutationsThunk:re,getRunningQueryThunk:ie,getRunningQueriesThunk:se});const{middleware:oe,actions:le}=xo({reducerPath:r,context:g,queryThunk:q,mutationThunk:B,infiniteQueryThunk:W,api:t,assertTagType:y,selectors:O,getRunningQueryThunk:ie,getInternalState:J});return uo(t.util,le),uo(t,{reducer:G,middleware:oe}),{name:ko,injectEndpoint(e,n){var a;const r=(a=t.endpoints)[e]??(a[e]={});Di(n)&&uo(r,{name:e,select:F(e,n),initiate:ee(e,n)},K(q,e)),n.type===Oi&&uo(r,{name:e,select:U(),initiate:ne(e)},K(B,e)),Ri(n)&&uo(r,{name:e,select:V(e,n),initiate:te(e,n)},K(q,e))}}}});function So(e){return e.replace(e[0],e[0].toUpperCase())}wo();function No(e){return"infinitequery"===e.type}function To(e,...t){return Object.assign(e,...t)}var Co=Symbol();function _o(e){const t=i.useRef(e),n=i.useMemo(()=>mi(t.current,e),[e]);return i.useEffect(()=>{t.current!==n&&(t.current=n)},[n]),n}function jo(e){const t=i.useRef(e);return i.useEffect(()=>{c(t.current,e)||(t.current=e)},[e]),c(t.current,e)?t.current:e}var Eo=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),Ao=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),Po=(()=>Eo||Ao?i.useLayoutEffect:i.useEffect)(),zo=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:ii.pending}:e;function Mo(e,...t){const n={};return t.forEach(t=>{n[t]=e[t]}),n}var Oo=["data","status","isLoading","isSuccess","isError","error"];function Io({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:a,useStore:r},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:l,context:u}){const d=s?e=>e():i.useEffect,f=e=>e.current?.unsubscribe?.(),m=u.endpointDefinitions;return{buildQueryHooks:function(a){const r=(e,t={})=>{const[n]=y(a,e,t);return b(n),i.useMemo(()=>({refetch:()=>function(e){if(!e.current)throw new Error(g(38));return e.current.refetch()}(n)}),[n])},s=({refetchOnReconnect:r,refetchOnFocus:s,pollingInterval:o=0,skipPollingIfUnfocused:l=!1}={})=>{const{initiate:c}=e.endpoints[a],u=n(),[m,p]=i.useState(Co),h=i.useRef(void 0),g=jo({refetchOnReconnect:r,refetchOnFocus:s,pollingInterval:o,skipPollingIfUnfocused:l});d(()=>{const e=h.current?.subscriptionOptions;g!==e&&h.current?.updateSubscriptionOptions(g)},[g]);const y=i.useRef(g);d(()=>{y.current=g},[g]);const v=i.useCallback(function(e,n=!1){let a;return t(()=>{f(h),h.current=a=u(c(e,{subscriptionOptions:y.current,forceRefetch:!n})),p(e)}),a},[u,c]),b=i.useCallback(()=>{h.current?.queryCacheKey&&u(e.internalActions.removeQueryResult({queryCacheKey:h.current?.queryCacheKey}))},[u]);return i.useEffect(()=>()=>{f(h)},[]),i.useEffect(()=>{m===Co||h.current||v(m,!0)},[m,v]),i.useMemo(()=>[v,m,{reset:b}],[v,m,b])},o=v(a,p);return{useQueryState:o,useQuerySubscription:r,useLazyQuerySubscription:s,useLazyQuery(e){const[t,n,{reset:a}]=s(e),r=o(n,{...e,skip:n===Co}),l=i.useMemo(()=>({lastArg:n}),[n]);return i.useMemo(()=>[t,{...r,reset:a},l],[t,r,a,l])},useQuery(e,t){const n=r(e,t),a=o(e,{selectFromResult:e===ao||t?.skip?void 0:zo,...t}),s=Mo(a,...Oo);return i.useDebugValue(s),i.useMemo(()=>({...a,...n}),[a,n])}}},buildInfiniteQueryHooks:function(e){const n=(n,a={})=>{const[r,s,o,l]=y(e,n,a),c=i.useRef(l);d(()=>{c.current=l},[l]);const u=jo(a.refetchCachedPages),m=i.useCallback(function(e,n){let a;return t(()=>{f(r),r.current=a=s(o(e,{subscriptionOptions:c.current,direction:n}))}),a},[r,s,o]);b(r);const p=_o(a.skip?ao:n),h=i.useCallback(e=>{if(!r.current)throw new Error(g(38));const t={refetchCachedPages:e?.refetchCachedPages??u};return r.current.refetch(t)},[r,u]);return i.useMemo(()=>({trigger:m,refetch:h,fetchNextPage:()=>m(p,"forward"),fetchPreviousPage:()=>m(p,"backward")}),[h,m,p])},a=v(e,h);return{useInfiniteQueryState:a,useInfiniteQuerySubscription:n,useInfiniteQuery(e,t){const{refetch:r,fetchNextPage:s,fetchPreviousPage:o}=n(e,t),l=a(e,{selectFromResult:e===ao||t?.skip?void 0:zo,...t}),c=Mo(l,...Oo,"hasNextPage","hasPreviousPage");return i.useDebugValue(c),i.useMemo(()=>({...l,fetchNextPage:s,fetchPreviousPage:o,refetch:r}),[l,s,o,r])}}},buildMutationHook:function(r){return({selectFromResult:s,fixedCacheKey:l}={})=>{const{select:u,initiate:d}=e.endpoints[r],f=n(),[m,p]=i.useState();i.useEffect(()=>()=>{m?.arg.fixedCacheKey||m?.reset()},[m]);const h=i.useCallback(function(e){const t=f(d(e,{fixedCacheKey:l}));return p(t),t},[f,d,l]),{requestId:g}=m||{},y=i.useMemo(()=>u({fixedCacheKey:l,requestId:m?.requestId}),[l,m,u]),v=i.useMemo(()=>s?o([y],s):y,[s,y]),b=a(v,c),x=null==l?m?.arg.originalArgs:void 0,k=i.useCallback(()=>{t(()=>{m&&p(void 0),l&&f(e.internalActions.removeMutationResult({requestId:g,fixedCacheKey:l}))})},[f,l,m,g]),w=Mo(b,...Oo,"endpointName");i.useDebugValue(w);const S=i.useMemo(()=>({...b,originalArgs:x,reset:k}),[b,x,k]);return i.useMemo(()=>[h,S],[h,S])}},usePrefetch:function(t,a){const r=n(),s=jo(a);return i.useCallback((n,a)=>r(e.util.prefetch(t,n,{...s,...a})),[t,r,s])}};function p(e,t,n){if(t?.endpointName&&e.isUninitialized){const{endpointName:e}=t,a=m[e];n!==ao&&l({queryArgs:t.originalArgs,endpointDefinition:a,endpointName:e})===l({queryArgs:n,endpointDefinition:a,endpointName:e})&&(t=void 0)}let a=e.isSuccess?e.data:t?.data;void 0===a&&(a=e.data);const r=void 0!==a,s=e.isLoading,i=(!t||t.isLoading||t.isUninitialized)&&!r&&s,o=e.isSuccess||r&&(s&&!t?.isError||e.isUninitialized);return{...e,data:a,currentData:e.data,isFetching:s,isLoading:i,isSuccess:o}}function h(e,t,n){if(t?.endpointName&&e.isUninitialized){const{endpointName:e}=t,a=m[e];n!==ao&&l({queryArgs:t.originalArgs,endpointDefinition:a,endpointName:e})===l({queryArgs:n,endpointDefinition:a,endpointName:e})&&(t=void 0)}let a=e.isSuccess?e.data:t?.data;void 0===a&&(a=e.data);const r=void 0!==a,s=e.isLoading,i=(!t||t.isLoading||t.isUninitialized)&&!r&&s,o=e.isSuccess||s&&r;return{...e,data:a,currentData:e.data,isFetching:s,isLoading:i,isSuccess:o}}function y(t,a,{refetchOnReconnect:r,refetchOnFocus:s,refetchOnMountOrArgChange:o,skip:l=!1,pollingInterval:c=0,skipPollingIfUnfocused:u=!1,...f}={}){const{initiate:p}=e.endpoints[t],h=n(),g=i.useRef(void 0);if(!g.current){const t=h(e.internalActions.internal_getRTKQSubscriptions());g.current=t}const y=_o(l?ao:a),v=jo({refetchOnReconnect:r,refetchOnFocus:s,pollingInterval:c,skipPollingIfUnfocused:u}),b=jo(f.initialPageParam),x=jo(f.refetchCachedPages),k=i.useRef(void 0);let{queryCacheKey:w,requestId:S}=k.current||{},N=!1;w&&S&&(N=g.current.isRequestSubscribed(w,S));const T=!N&&void 0!==k.current;return d(()=>{T&&(k.current=void 0)},[T]),d(()=>{const e=k.current;if(y===ao)return e?.unsubscribe(),void(k.current=void 0);const n=k.current?.subscriptionOptions;if(e&&e.arg===y)v!==n&&e.updateSubscriptionOptions(v);else{e?.unsubscribe();const n=h(p(y,{subscriptionOptions:v,forceRefetch:o,...No(m[t])?{initialPageParam:b,refetchCachedPages:x}:{}}));k.current=n}},[h,p,o,y,v,T,b,x,t]),[k,h,p,v]}function v(t,n){return(s,{skip:l=!1,selectFromResult:u}={})=>{const{select:d}=e.endpoints[t],f=_o(l?ao:s),m=i.useRef(void 0),p=i.useMemo(()=>o([d(f),(e,t)=>t,e=>f],n,{memoizeOptions:{resultEqualityCheck:c}}),[d,f]),h=i.useMemo(()=>u?o([p],u,{devModeChecks:{identityFunctionCheck:"never"}}):p,[p,u]),g=a(e=>h(e,m.current),c),y=r(),v=p(y.getState(),m.current);return Po(()=>{m.current=v},[v]),g}}function b(e){i.useEffect(()=>()=>{f(e),e.current=void 0},[e])}}var Do=Symbol(),Ro=co(wo(),(({batch:e=o,hooks:t={useDispatch:r,useSelector:s,useStore:l},createSelector:n=f,unstable__sideEffectsInRender:a=!1,...i}={})=>({name:Do,init(r,{serializeQueryArgs:s},i){const o=r,{buildQueryHooks:l,buildInfiniteQueryHooks:c,buildMutationHook:u,usePrefetch:d}=Io({api:r,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:a,createSelector:n},serializeQueryArgs:s,context:i});return To(o,{usePrefetch:d}),To(i,{batch:e}),{injectEndpoint(e,t){if("query"===t.type){const{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:a,useQueryState:s,useQuerySubscription:i}=l(e);To(o.endpoints[e],{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:a,useQueryState:s,useQuerySubscription:i}),r[`use${So(e)}Query`]=t,r[`useLazy${So(e)}Query`]=n}if(function(e){return"mutation"===e.type}(t)){const t=u(e);To(o.endpoints[e],{useMutation:t}),r[`use${So(e)}Mutation`]=t}else if(No(t)){const{useInfiniteQuery:t,useInfiniteQuerySubscription:n,useInfiniteQueryState:a}=c(e);To(o.endpoints[e],{useInfiniteQuery:t,useInfiniteQuerySubscription:n,useInfiniteQueryState:a}),r[`use${So(e)}InfiniteQuery`]=t}}}}}))());const Lo=ma.union([ma.string(),ma.array(ma.string())]).transform(e=>Array.isArray(e)?e.join("\n\n"):e),Fo=ma.object({name:ma.string(),desc:Lo,higher_level:Lo.optional(),range:ma.string(),components:ma.string(),duration:ma.string(),concentration:ma.string(),casting_time:ma.string(),level:ma.string(),level_int:ma.number(),school:ma.string()}),Vo=Ro({reducerPath:"open5eApi",baseQuery:function({baseUrl:e,prepareHeaders:t=e=>e,fetchFn:n=wi,paramsSerializer:a,isJsonContentType:r=Ni,jsonContentType:s="application/json",jsonReplacer:i,timeout:o,responseHandler:l,validateStatus:c,...u}={}){return async(f,m,p)=>{const{getState:h,extra:g,endpoint:v,forced:b,type:x}=m;let k,{url:w,headers:S=new Headers(u.headers),params:N,responseHandler:T=l??"json",validateStatus:C=c??Si,timeout:_=o,...j}="string"==typeof f?{url:f}:f,E={...u,signal:_?ki(m.signal,xi(_)):m.signal,...j};S=new Headers(Ti(S)),E.headers=await t(S,{getState:h,arg:f,extra:g,endpoint:v,forced:b,type:x,extraOptions:p})||S;const A="object"==typeof(P=E.body)&&(y(P)||Array.isArray(P)||"function"==typeof P.toJSON);var P;if(null==E.body||A||"string"==typeof E.body||E.headers.delete("content-type"),!E.headers.has("content-type")&&A&&E.headers.set("content-type",s),A&&r(E.headers)&&(E.body=JSON.stringify(E.body,i)),E.headers.has("accept")||("json"===T?E.headers.set("accept","application/json"):"text"===T&&E.headers.set("accept","text/plain, text/html, */*")),N){const e=~w.indexOf("?")?"&":"?";w+=e+(a?a(N):new URLSearchParams(Ti(N)))}w=yi(e,w);const z=new Request(w,E);let M;k={request:new Request(w,E)};try{M=await n(z)}catch(R){return{error:{status:(R instanceof Error||"undefined"!=typeof DOMException&&R instanceof DOMException)&&"TimeoutError"===R.name?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(R)},meta:k}}const O=M.clone();let I;k.response=O;let D="";try{let e;if(await Promise.all([d(M,T).then(e=>I=e,t=>e=t),O.text().then(e=>D=e,()=>{})]),e)throw e}catch(R){return{error:{status:"PARSING_ERROR",originalStatus:M.status,data:D,error:String(R)},meta:k}}return C(M,I)?{data:I,meta:k}:{error:{status:M.status,data:I},meta:k}};async function d(e,t){if("function"==typeof t)return t(e);if("content-type"===t&&(t=r(e.headers)?"json":"text"),"json"===t){const t=await e.text();return t.length?JSON.parse(t):null}return e.text()}}({baseUrl:"https://api.open5e.com/"}),endpoints:e=>({getSpell:e.query({query:e=>`spells/${e}/`,transformResponse:e=>{const t=Fo.safeParse(e);if(!t.success)throw new Error("Invalid spell data from API");return t.data}}),getMonster:e.query({query:e=>`monsters/${e}/`}),searchSpells:e.query({query:e=>`spells/?search=${encodeURIComponent(e)}`})})}),{useGetSpellQuery:Uo}=Vo,qo=F(),Wo=V({reducer:{ui:Ar,character:wr,spellbook:vs,combat:Zs,[Vo.reducerPath]:Vo.reducer},middleware:e=>e().prepend(qo.middleware).concat(ri).concat(Vo.middleware)});class Bo extends i.Component{constructor(){super(...arguments),t(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?je.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 text-center",children:[je.jsx(be,{size:48,className:"text-red-500 mb-4"}),je.jsx("h2",{className:"font-dot text-2xl text-white mb-2",children:"SOMETHING WENT WRONG"}),je.jsx("p",{className:"text-gray-400 mb-4 max-w-xs",children:"The application encountered an error. Try refreshing the page."}),je.jsx("div",{className:"bg-red-900/20 border border-red-900/50 p-4 rounded text-left w-full max-w-sm overflow-auto max-h-40",children:je.jsx("code",{className:"text-xs text-red-200 font-mono",children:this.state.error?.message})}),je.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded font-mono text-sm transition-colors",children:"RELOAD SYSTEM"})]}):this.props.children}}Ie.createRoot(document.getElementById("root")).render(je.jsx(i.StrictMode,{children:je.jsx(Bo,{children:je.jsx(u,{store:Wo,children:je.jsx(ni,{})})})}));export{$s as A,Vs as B,Ba as C,$a as D,Us as E,kr as F,xr as G,ir as H,cr as I,ur as J,fr as K,mr as L,Is as M,Ds as N,Xa as O,Re as a,Qa as b,Da as c,Oa as d,Ga as e,Ka as f,Gs as g,Ja as h,Uo as i,je as j,hs as k,ps as l,gs as m,Ps as n,Cs as o,Ha as p,_s as q,js as r,Ia as s,qa as t,De as u,Va as v,Fa as w,Hs as x,qs as y,Bs as z};
